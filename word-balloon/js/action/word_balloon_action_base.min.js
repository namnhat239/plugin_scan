function word_balloon_getSelectionText(){if(window.getSelection){try{var a=document.getElementById("content");a=a.value.substring(a.selectionStart,a.selectionEnd);if(a===""){return tinyMCE.activeEditor.selection.getContent();}else{return a;}}catch(b){console.log("Can not get selection text");}}if(document.selection&&document.selection.type!="Control"){return document.selection.createRange().text;}}function word_balloon_change_select_option(h,d){var g=document.getElementById(h);var c=g.options;for(var b,a=0;b=c[a];a++){if(b.value===d){g.selectedIndex=a;break;}}}function word_balloon_delete_select_option(h,g){var d=document.getElementById(h);var c=d.options;for(var b,a=0;b=c[a];a++){if(b.value===g){d.remove(a);break;}}}function word_balloon_add_select_option(d,c,b){var a=document.getElementById(d);a.options[a.options.length]=new Option(c,b);}function word_balloon_get_select_option_value(b){var a=document.getElementById(b);if(typeof a.options[a.selectedIndex]!=="undefined"){return a.options[a.selectedIndex].value;}console.log("No item");return;}var word_balloon_timeoutID;function word_balloon_stopTimeout(){var a=document.getElementById("w_b_pop_up_message");a.classList.add("inactive");clearTimeout(word_balloon_timeoutID);setTimeout(function(){a.classList.remove("inactive");},100);}function word_balloon_pop_up_message(a,c){if(typeof word_balloon_timeoutID!=="undefined"){word_balloon_stopTimeout();}var b=document.getElementById("w_b_pop_up_message");b.style.backgroundColor=c;b.style.color=word_balloon_BlackOrWhite(c);b.classList.add("active");b.innerHTML=a;word_balloon_timeoutID=setTimeout(function(){b.classList.remove("active");},4000);}function word_balloon_encodeURI(c){var a="",b="";if(typeof c==="object"){Object.keys(c).forEach(function(d){a+=b+d+"="+encodeURIComponent(c[d]);b="&";});}return a;}function word_balloon_fadeOut(a){a.style.opacity=1;(function b(){if((a.style.opacity-=0.1)<0){a.style.display="none";}else{requestAnimationFrame(b);}})();}function word_balloon_fadeIn(a,b){a.style.opacity=0;a.style.display=b||"block";(function c(){var d=parseFloat(a.style.opacity);if(!((d+=0.1)>1)){a.style.opacity=d;requestAnimationFrame(c);}})();}function word_balloon_in_loading(){var b=document.getElementById("w_b_loading"),a=document.getElementById("w_b_loading_bg");word_balloon_fadeIn(b);word_balloon_fadeIn(a);}function word_balloon_out_loading(){var b=document.getElementById("w_b_loading"),a=document.getElementById("w_b_loading_bg");word_balloon_fadeOut(b);word_balloon_fadeOut(a);}function word_balloon_BlackOrWhite(e){var d=parseInt(e.substr(1,2),16);var c=parseInt(e.substr(3,2),16);var a=parseInt(e.substr(5,2),16);return(((d*0.299)+(c*0.587)+(a*0.114))>186)?"#000000":"#ffffff";}