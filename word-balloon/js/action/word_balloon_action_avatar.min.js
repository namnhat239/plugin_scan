function word_balloon_get_avatar_position(){return document.getElementById("avatar_position_L").checked?"L":"R"}function word_balloon_get_avatar_size(){return word_balloon_get_select_option_value("w_b_select_avatar_size")}function word_balloon_get_avatar_custom_size(size){return document.getElementById("w_b_avatar_custom_size_"+size).value}function word_balloon_get_avatar_default_name(){var e=document.getElementById("w_b_avatar_select");return e.options[e.selectedIndex].getAttribute("data-avatar_name")}function word_balloon_get_avatar_name(){return document.getElementById("w_b_avatar_name").value}function word_balloon_get_avatar_name_size(){var name_size=document.getElementById("w_b_atts_name_font_size").value;return""===name_size&&(name_size=document.getElementById("w_b_name_font_size").value),parseInt(name_size)}function word_balloon_get_avatar_name_color(){return document.getElementById("w_b_edit_avatar_name_color").value}function word_balloon_get_avatar_name_position(){return word_balloon_get_select_option_value("w_b_edit_avatar_name_position")}function word_balloon_get_balloon_default_name_position(){return document.getElementById("custom_balloon_"+word_balloon_get_balloon()+"_"+word_balloon_get_avatar_position()).getAttribute("data-avatar_name_position_value")}function word_balloon_get_avatar_image_url(){var e=document.getElementById("w_b_avatar_select");return e.options[e.selectedIndex].getAttribute("data-avatar_img")}function word_balloon_get_avatar_id(){return word_balloon_get_select_option_value("w_b_avatar_select")}function word_balloon_get_avatar_border_radius(){return word_balloon_get_select_option_value("w_b_edit_avatar_border_radius")}function word_balloon_get_avatar_border_style(){return document.getElementById("w_b_edit_avatar_border_style")?word_balloon_get_select_option_value("w_b_edit_avatar_border_style"):""}function word_balloon_get_avatar_border_width(){return document.getElementById("w_b_edit_avatar_border_width")?document.getElementById("w_b_edit_avatar_border_width").value:""}function word_balloon_get_avatar_border_color(){return document.getElementById("w_b_edit_avatar_border_color")?document.getElementById("w_b_edit_avatar_border_color").value:""}function word_balloon_get_avatar_effect(){return document.getElementById("w_b_edit_avatar_effect")?word_balloon_get_select_option_value("w_b_edit_avatar_effect"):""}function word_balloon_get_avatar_filter(){return document.getElementById("w_b_edit_avatar_filter")?word_balloon_get_select_option_value("w_b_edit_avatar_filter"):""}function word_balloon_get_avatar_in_view(){return document.getElementById("w_b_edit_avatar_in_view")?word_balloon_get_select_option_value("w_b_edit_avatar_in_view"):""}function word_balloon_get_avatar_flip(){return document.getElementById("w_b_avatar_flip_h").checked&&document.getElementById("w_b_avatar_flip_v").checked?"hv":document.getElementById("w_b_avatar_flip_h").checked?"h":document.getElementById("w_b_avatar_flip_v").checked?"v":""}function word_balloon_set_avatar_name(position){for(var arr=["under_avatar","on_balloon","on_avatar","under_balloon","side_avatar"],i=0;i<arr.length;i++){var reset_position=document.getElementById("w_b_name_"+arr[i]);reset_position.innerHTML="",reset_position.style.display="none",reset_position.style.color=""}if("hide"!==position){var set_position=document.getElementById("w_b_name_"+position);set_position.style.display="block",set_position.style.color=document.getElementById("w_b_edit_avatar_name_color").value,set_position.innerHTML=word_balloon_get_avatar_name();var temp=word_balloon_get_avatar_name_color();""!==temp&&(set_position.style.color=temp)}}function word_balloon_set_avatar_name_positon(position){for(var e=document.getElementById("w_b_edit_avatar_name_position"),i=0;i<e.options.length;i++)if(e.options[i].value==position){e[i].selected=!0;break}}function word_balloon_set_avatar_image(url){document.getElementById("w_b_ava_img").src=url}function word_balloon_change_avatar_size(){var size=word_balloon_get_avatar_size(),resize=word_balloon_get_avatar_custom_size(size),balloon=word_balloon_get_balloon(),w_b_ava_img=document.getElementById("w_b_ava_img");w_b_ava_img.width=resize,w_b_ava_img.height=resize;var w_b_ava_effect=document.getElementById("w_b_ava_effect");w_b_ava_effect.classList.remove("w_b_size_S"),w_b_ava_effect.classList.remove("w_b_size_M"),w_b_ava_effect.classList.remove("w_b_size_L"),w_b_ava_effect.classList.add("w_b_size_"+size),word_balloon_change_balloon_space(),word_balloon_reset_avatar(),word_balloon_change_avatar_flip(),"rpg_3"===balloon&&word_balloon_change_balloon()}function word_balloon_change_avatar_border(){var w_b_ava_effect=document.getElementById("w_b_ava_effect");w_b_ava_effect.classList.remove("w_b_border_L"),w_b_ava_effect.classList.remove("w_b_border_R"),w_b_ava_effect.style.borderStyle="none",document.getElementById("w_b_edit_avatar_border").checked&&(w_b_ava_effect.style.borderStyle="",w_b_ava_effect.classList.add("w_b_border_"+word_balloon_get_avatar_position()),document.getElementById("w_b_edit_avatar_border_style")&&word_balloon_change_avatar_border_style(word_balloon_get_select_option_value("w_b_edit_avatar_border_style")))}function word_balloon_change_avatar_shadow(){var w_b_ava_effect=document.getElementById("w_b_ava_effect");w_b_ava_effect.classList.remove("w_b_ava_shadow_L"),w_b_ava_effect.classList.remove("w_b_ava_shadow_R"),document.getElementById("w_b_avatar_shadow").checked&&w_b_ava_effect.classList.add("w_b_ava_shadow_"+word_balloon_get_avatar_position())}function word_balloon_change_avatar_border_radius(){var radius=word_balloon_get_avatar_border_radius(),w_b_ava_effect=document.getElementById("w_b_ava_effect"),Classes=new Array;switch((Classes=["w_b_radius","w_b_radius_3","w_b_radius_12","w_b_radius_20"]).forEach((function(target){w_b_ava_effect.classList.remove(target)})),radius){case"radius_3":w_b_ava_effect.classList.add("w_b_radius_3");break;case"radius_12":w_b_ava_effect.classList.add("w_b_radius_12");break;case"radius_20":w_b_ava_effect.classList.add("w_b_radius_20");break;case"true":w_b_ava_effect.classList.add("w_b_radius")}}function word_balloon_change_avatar(){word_balloon_set_avatar_image(word_balloon_get_avatar_image_url()),document.getElementById("w_b_avatar_name").value=word_balloon_get_avatar_default_name(),word_balloon_set_avatar_name(word_balloon_get_avatar_name_position());var e=word_balloon_get_select_option_value("w_b_avatar_select");"mystery_men"!==e&&"unset"!==e||(document.getElementById("w_b_name_"+word_balloon_get_avatar_name_position()).innerHTML="",document.getElementById("w_b_avatar_name").value="")}function word_balloon_change_avatar_flip(){var w_b_ava_img=document.getElementById("w_b_ava_img");w_b_ava_img.classList.remove("w_b_flip_h"),w_b_ava_img.classList.remove("w_b_flip_v"),w_b_ava_img.classList.remove("w_b_flip_hv");var flip=word_balloon_get_avatar_flip();""!==flip&&w_b_ava_img.classList.add("w_b_flip_"+flip)}function word_balloon_change_avatar_hide(){document.getElementById("w_b_edit_avatar_hide").checked?document.getElementById("w_b_ava_box").style.visibility="hidden":document.getElementById("w_b_ava_box").style.visibility="visible"}function word_balloon_change_avatar_name_position(){word_balloon_reset_avatar_name_box();var name=word_balloon_get_avatar_name(),name_position=word_balloon_get_avatar_name_position(),balloon=word_balloon_get_balloon(),side=word_balloon_get_avatar_position(),name_side=name_position,name_size=word_balloon_get_avatar_name_size();if("hide"!==name_position)var name_box=document.getElementById("w_b_name_"+name_position);switch(name_position){case"under_avatar":case"on_avatar":name_box.classList.add("w_b_name_C"),name_box.classList.add("w_b_ta_C");break;case"on_balloon":"L"===side?(name_box.classList.add("w_b_name_R"),name_box.classList.add("w_b_ta_R")):(name_box.classList.add("w_b_name_L"),name_box.classList.add("w_b_ta_L")),void 0!==balloon&&"function"==typeof window["word_balloon_name_on_balloon_margin_"+balloon]&&eval("word_balloon_name_on_balloon_margin_"+balloon+"(side)");break;case"under_balloon":"L"===side?(name_box.classList.add("w_b_name_R"),name_box.classList.add("w_b_ta_R")):(name_box.classList.add("w_b_name_L"),name_box.classList.add("w_b_ta_L")),void 0!==balloon&&"function"==typeof window["word_balloon_name_under_balloon_margin_"+balloon]&&eval("word_balloon_name_under_balloon_margin_"+balloon+"(side)");break;case"side_avatar":"R"===side&&name_box.classList.add("w_b_order-1")}"hide"!==name_position&&(name_box.style.fontSize=name_size+"px");var w_b_ava_box=document.getElementById("w_b_ava_box");w_b_ava_box.classList.remove("w_b_flex");var w_b_name_side_avatar=document.getElementById("w_b_name_side_avatar");w_b_name_side_avatar.classList.remove("w_b_order-1"),"side_avatar"===name_position&&(w_b_name_side_avatar.style.marginTop="auto",w_b_ava_box.classList.add("w_b_flex"),"R"===side&&w_b_name_side_avatar.classList.add("w_b_order-1")),word_balloon_change_balloon_space(),word_balloon_set_avatar_name(name_position),word_balloon_change_status_box()}function word_balloon_change_avatar_position(){var side=word_balloon_get_avatar_position(),balloon=word_balloon_get_balloon(),w_b_ava_box=document.getElementById("w_b_ava_box"),Classes=new Array;(Classes=["w_b_order_1","w_b_order_3","w_b_ava_L","w_b_ava_R"]).forEach((function(target){w_b_ava_box.classList.remove(target)}));var w_b_bal_box=document.getElementById("w_b_bal_box"),w_b_status_box=document.getElementById("w_b_status_box");"L"===side?(w_b_ava_box.classList.add("w_b_order_1"),w_b_ava_box.classList.add("w_b_ava_L"),w_b_status_box.classList.remove("w_b_order-1")):(w_b_ava_box.classList.add("w_b_order_3"),w_b_ava_box.classList.add("w_b_ava_R"),w_b_status_box.classList.add("w_b_order-1")),word_balloon_reset_avatar(),word_balloon_reset_balloon()}function word_balloon_change_avatar_border_width(width){document.getElementById("w_b_edit_avatar_border").checked&&(document.getElementById("w_b_ava_effect").style.borderWidth=width+"px")}function word_balloon_change_avatar_border_style(style){document.getElementById("w_b_edit_avatar_border").checked&&(document.getElementById("w_b_ava_effect").style.borderStyle=style)}function word_balloon_change_avatar_name(e){document.getElementById("w_b_name_"+word_balloon_get_avatar_name_position()).innerHTML=e.target.value}function word_balloon_change_name_font_size(size){var name_position;if(document.getElementById("w_b_atts_name_font_size").value=size,"hide"!==word_balloon_get_avatar_name_position()){var name_box=document.getElementById("w_b_name_"+word_balloon_get_avatar_name_position());name_box.style.fontSize=""===size?"":size+"px"}word_balloon_change_balloon_space(),word_balloon_change_status_box()}function word_balloon_reset_avatar_name_box(){for(var arr=["under_avatar","on_balloon","on_avatar","under_balloon","side_avatar"],i=0;i<arr.length;i++){var reset_position=document.getElementById("w_b_name_"+arr[i]);reset_position.className="",reset_position.innerHTML="",reset_position.style.marginTop="",reset_position.style.marginRight="",reset_position.style.marginBottom="",reset_position.style.marginLeft="",reset_position.classList.add("w_b_name"),reset_position.classList.add("w_b_mp0"),reset_position.classList.add("w_b_lh"),reset_position.classList.add("w_b_name_"+arr[i]),reset_position.classList.add("w_b_div")}}function word_balloon_reset_avatar(){word_balloon_change_avatar_border(),word_balloon_change_avatar_shadow(),word_balloon_change_avatar_border_radius(),"function"==typeof word_balloon_change_avatar_effect&&word_balloon_change_avatar_effect(),"function"==typeof word_balloon_change_avatar_filter&&word_balloon_change_avatar_filter()}