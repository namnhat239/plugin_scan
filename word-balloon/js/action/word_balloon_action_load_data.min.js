function word_balloon_favorite_to_reset(favorite_id){for(var reset_item=word_balloon_restore_data_name(),w_b_restore=document.getElementById("w_b_restore"),w_b_favorite=document.getElementById("w_b_favorite_"+favorite_id),i=0;i<reset_item.length;i++)w_b_restore.setAttribute("data-"+reset_item[i],w_b_favorite.getAttribute("data-"+reset_item[i]));word_balloon_load_data_set(),word_balloon_change_select_option("w_b_edit_select_favorite","default")}function word_balloon_load_data_set(){var result,pre,id_name="#w_b_restore",restore_data=document.getElementById("w_b_restore"),display_checke=!0,w_b_overlay=document.getElementById("w_b_overlay");"none"===w_b_overlay.style.display?(w_b_overlay.style.display="block",w_b_overlay.style.visibility="hidden"):display_checke=!1,jQuery(document).ready((function($){document.getElementById("w_b_restore_load").value="true",jQuery("#w_b_overlay .w_b_bal").removeAttr("style")})),jQuery(document).ready((function($){for(var set_item=["avatar_position","icon_position"],i=0;i<set_item.length;i++)""!==(result=restore_data.getAttribute("data-"+set_item[i]))&&(document.getElementById(set_item[i]+"_"+result).checked=!0)})),jQuery(document).ready((function($){for(var set_item=["enable","avatar_border","avatar_flip_h","avatar_flip_v","avatar_hide","avatar_shadow","balloon_full_width","balloon_shadow","box_center","icon_flip_h","icon_flip_v","balloon_vertical_writing","balloon_hide","box_margin","quote_effect_minimum"],i=0;i<set_item.length;i++)"true"===(result=restore_data.getAttribute("data-"+set_item[i]))?jQuery('#w_b_overlay input[name="'+set_item[i]+'"]').prop("checked",!0):jQuery('#w_b_overlay input[name="'+set_item[i]+'"]').prop("checked",!1),jQuery('#w_b_overlay input[name="'+set_item[i]+'"]').change()})),jQuery(document).ready((function($){for(var set_item=["font_size","text_align","avatar_border_radius","choice_balloon","avatar_select"],i=0;i<set_item.length;i++){if(result=restore_data.getAttribute("data-"+set_item[i]),pre="","avatar_select"===set_item[i]){pre="w_b_";var options=jQuery('#w_b_overlay select[name="w_b_avatar_select"]').children();if(""===result)result=options.first().val();else if("unset"===result){for(var has_src=!1,q=0;q<options.length;q++)options.eq(q).attr("data-avatar_img")===restore_data.getAttribute("data-src")&&(has_src=!0);has_src||jQuery('#w_b_overlay select[name="w_b_avatar_select"]').append('<option value="unset" data-avatar_name="'+restore_data.getAttribute("data-avatar_name")+'" data-avatar_img="'+restore_data.getAttribute("data-src")+'">'+translations_word_balloon.anonymous+"</option>")}}"choice_balloon"===set_item[i]&&(pre="post_"),jQuery('#w_b_overlay select[name="'+pre+set_item[i]+'"] option').attr("selected",!1),jQuery('#w_b_overlay select[name="'+pre+set_item[i]+'"]').val(result).prop("selected",!0),jQuery('#w_b_overlay select[name="'+pre+set_item[i]+'"]').val(result).trigger("change",[!0])}})),jQuery(document).ready((function($){for(var set_item=["icon_type","avatar_size","avatar_effect","avatar_filter","balloon_effect","balloon_filter","icon_effect","icon_filter","icon_size","name_position","border_style","balloon_m","avatar_size_m","name_position_m","font_size_m","avatar_border_style","avatar_in_view","icon_in_view","balloon_in_view","quote_effect"],i=0;i<set_item.length;i++){if(result=restore_data.getAttribute("data-"+set_item[i]),pre="","border_style"===set_item[i]){pre="balloon_";var balloon=word_balloon_get_balloon();if("round"!==balloon&&"round_2"!==balloon)continue}"name_position"===set_item[i]&&""===result&&(result=word_balloon_get_balloon_default_name_position()),-1!==["avatar_effect","icon_effect","balloon_effect","avatar_filter","balloon_filter","icon_filter","icon_size","icon_type","quote_effect"].indexOf(set_item[i])&&(pre="w_b_"),"icon_size"===set_item[i]&&""===result&&(result="M"),jQuery('#w_b_overlay select[name="'+pre+set_item[i]+'"] option').attr("selected",!1),jQuery('#w_b_overlay select[name="'+pre+set_item[i]+'"]').val(result).change()}})),jQuery(document).ready((function($){var set_item=["balloon_background","balloon_background_alpha","balloon_border_color","balloon_shadow_color","name_color","status_color","text_color","avatar_border_color","avatar_background_color","icon_fill","icon_stroke"];jQuery(document).ready((function($){for(var i=0;i<set_item.length;i++){result=restore_data.getAttribute("data-"+set_item[i]);var after="",pre="",target;if("icon_fill"!==set_item[i]&&"icon_stroke"!==set_item[i]||(after="_color"),"balloon_background_alpha"!==set_item[i]||""===restore_data.getAttribute("data-balloon_background"))""===jQuery('#w_b_overlay input.w_b_color_pick[name="'+set_item[i]+after+'"]').val()&&(jQuery('#w_b_overlay input.w_b_color_pick[name="'+set_item[i]+after+'"]').val("#666666").change(),jQuery('#w_b_overlay input.w_b_color_pick[name="'+set_item[i]+after+'"]').val("").change()),jQuery('#w_b_overlay input.w_b_color_pick[name="'+set_item[i]+after+'"]').val(result).trigger("change",[!0])}}))})),jQuery(document).ready((function($){jQuery("#w_b_overlay .w_b_status").html(restore_data.getAttribute("data-status"));for(var set_item=["memo","avatar_name","status","status_sound_filename","status_sound_url","status_sound_id"],i=0;i<set_item.length;i++){if(result=restore_data.getAttribute("data-"+set_item[i]),pre="","avatar_name"===set_item[i])""===result&&(result=document.getElementById("w_b_avatar_name").value),"false"===result&&(result="");else if("status_sound_id"===set_item[i]&&""!==result&&""===restore_data.getAttribute("data-status_sound_url")){var data=JSON.stringify({action:"word_balloon_call_ajax",nonce:word_balloon_ajax_data.nonce,ID:parseInt(result)}),xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(4===xhr.readyState){var msg=JSON.parse(xhr.response);200===xhr.status&&"OK"===msg.message&&(document.getElementById("w_b_status_sound_url").value=msg.url,restore_data.setAttribute("data-status_sound_url",msg.url),document.getElementById("w_b_status_sound_filename").value=msg.url.match(".+/(.+?)([?#;].*)?$")[1],restore_data.setAttribute("data-status_sound_filename",msg.url.match(".+/(.+?)([?#;].*)?$")[1]),word_balloon_change_status_box())}},xhr.open("POST",word_balloon_ajax_data.ajaxurl,!0),xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhr.send("action=word_balloon_call_ajax&nonce="+word_balloon_ajax_data.nonce+"&ID="+parseInt(result))}jQuery('#w_b_overlay input[name="'+pre+set_item[i]+'"]').val(result),jQuery('#w_b_overlay input[name="'+pre+set_item[i]+'"]').change()}})),jQuery(document).ready((function($){word_balloon_change_avatar_name_position(),word_balloon_change_status_box();for(var set_item=["border_width","avatar_border_width","icon_stroke_width","avatar_effect_duration","icon_effect_duration","balloon_effect_duration","quote_effect_speed","avatar_in_view_duration","icon_in_view_duration","balloon_in_view_duration","name_font_size"],i=0;i<set_item.length;i++)result=restore_data.getAttribute("data-"+set_item[i]),pre="","border_width"===set_item[i]&&(pre="balloon_"),jQuery('#w_b_overlay input[name="'+pre+set_item[i]+'"]').val(result),jQuery('#w_b_overlay input[name="'+pre+set_item[i]+'"]').change()})),jQuery(document).ready((function($){var quote="",w_b_post_text=document.getElementById("w_b_post_text"),w_b_post_pre_text=document.getElementById("w_b_post_pre_text"),w_b_post_text_ph=document.getElementById("w_b_post_text_ph");""!==restore_data.getAttribute("data-balloon_quote")&&(quote=restore_data.getAttribute("data-balloon_quote").replace(/<p>&nbsp;<\/p>/g,"\r\r").replace(/<br \/>/g,"\r").replace(/<br>/g,"\r")),""!==quote&&(w_b_post_text.value=quote,w_b_post_pre_text.innerHTML=restore_data.getAttribute("data-balloon_quote").replace(/\r?\n/g,"<br>")+"â€‹"),""!==quote?(w_b_post_text_ph.style.display="none",w_b_post_pre_text.style.display="block",w_b_quote.style.minWidth="auto"):(w_b_post_text_ph.style.display="block",w_b_post_pre_text.style.display="none",w_b_quote.style.minWidth="120px")})),display_checke&&(w_b_overlay.style.visibility="visible",w_b_overlay.style.display="none"),jQuery(document).ready((function($){word_balloon_change_balloon_space()})),jQuery(document).ajaxStop((function(){jQuery("#w_b_overlay input#w_b_restore_load").val("false")}))}