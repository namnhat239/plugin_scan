"use strict";var el=wp.element.createElement,_wp$blocks=wp.blocks,registerBlockType=_wp$blocks.registerBlockType,createBlock=_wp$blocks.createBlock,__=wp.i18n.__,_x=wp.i18n._x,Fragment=wp.element.Fragment,_wp$components=wp.components,PanelBody=_wp$components.PanelBody,PanelRow=_wp$components.PanelRow,SelectControl=_wp$components.SelectControl,CustomSelectControl=_wp$components.CustomSelectControl,FormToggle=_wp$components.FormToggle,RadioControl=_wp$components.RadioControl,TextControl=_wp$components.TextControl,ColorPicker=_wp$components.ColorPicker,RangeControl=_wp$components.RangeControl,Button=_wp$components.Button,Dashicon=_wp$components.Dashicon,FontSizePicker=_wp$components.FontSizePicker,_wp$compose=wp.compose,withState=_wp$compose.withState,_wp$editor=wp.blockEditor,InnerBlocks=_wp$editor.InnerBlocks,BlockControls=_wp$editor.BlockControls,RichText=_wp$editor.RichText,AlignmentToolbar=_wp$editor.AlignmentToolbar,InspectorControls=_wp$editor.InspectorControls,PanelColorSettings=_wp$editor.PanelColorSettings,MediaUpload=_wp$editor.MediaUpload,_wp$data=wp.data,useDispatch=_wp$data.useDispatch,useSelect=_wp$data.useSelect,load_setting=word_balloon_block_default_settings,word_balloon_url=load_setting.word_balloon_url,BalloonIcon=el("svg",{width:20,height:20,viewBox:"0 0 20 20"},el("path",{d:"M10,4.3c-3.7,0-6.9,2.1-6.9,4.6c0,1.4,0.9,2.6,2.4,3.4l0.8,0.5l-0.2,0.9c-0.2,0.6-0.4,1.1-0.6,1.5 c0.9-0.4,1.8-0.9,2.5-1.5l0.4-0.3l0.5,0.1c0.4,0.1,0.8,0.1,1.2,0.1c3.7,0,6.9-2.1,6.9-4.6S13.7,4.3,10,4.3L10,4.3z M18,8.9 c0,3.2-3.6,5.7-8,5.7c-0.4,0-0.9,0-1.3-0.1c-1.2,1-2.6,1.8-4.1,2.2c-0.3,0.1-0.6,0.2-1,0.2H3.5c-0.2,0-0.3-0.2-0.4-0.3l0,0 C3,16.2,3.2,16.2,3.4,16c0.6-0.6,1.2-1.2,1.6-2.6c-1.8-1-3-2.7-3-4.5c0-3.2,3.6-5.7,8-5.7l0,0C14.4,3.1,18,5.7,18,8.9L18,8.9z"})),AvatarIcon=el("svg",{width:20,height:20,viewBox:"0 0 20 20"},el("path",{d:"M16.6,15.3c0,1.5-1,2.7-2.2,2.7H5.6c-1.2,0-2.2-1.3-2.2-2.7c0-2.7,0.6-5.9,3.4-5.9c0.9,0.8,2,1.4,3.3,1.4 s2.4-0.6,3.3-1.4C16,9.4,16.6,12.6,16.6,15.3z M14,6c0,2.2-1.8,4-4,4S6,8.2,6,6s1.8-4,4-4S14,3.8,14,6z"})),IconIcon=el("svg",{width:20,height:20,viewBox:"0 0 20 20"},el("path",{d:"M13.8,11.8c-0.6,1.7-2.1,2.8-3.8,2.8s-3.3-1.1-3.8-2.8c-0.1-0.3,0.1-0.7,0.4-0.8c0.3-0.1,0.7,0.1,0.8,0.4 c0.3,1.1,1.4,1.8,2.6,1.8s2.2-0.7,2.6-1.8c0.1-0.3,0.5-0.6,0.9-0.4C13.8,11.1,13.9,11.5,13.8,11.8z M8.6,7.4c0,0.7-0.6,1.4-1.4,1.4 S6,8.1,6,7.4S6.6,6,7.4,6S8.6,6.6,8.6,7.4z M14,7.4c0,0.7-0.6,1.4-1.4,1.4c-0.7,0-1.4-0.6-1.4-1.4S11.9,6,12.6,6 C13.4,6,14,6.6,14,7.4z M16.6,10c0-3.7-3-6.6-6.6-6.6s-6.6,3-6.6,6.6s3,6.6,6.6,6.6S16.6,13.7,16.6,10z M18,10c0,4.4-3.6,8-8,8 s-8-3.6-8-8s3.6-8,8-8S18,5.6,18,10z"})),EffectIcon=el("svg",{width:20,height:20,viewBox:"0 0 20 20"},el("path",{d:"M13.4,7.7l2.9-2.9l-1-1l-2.9,2.9L13.4,7.7z M17.8,4.8c0,0.2-0.1,0.3-0.2,0.4L5,17.8C4.9,17.9,4.7,18,4.6,18 c-0.2,0-0.3-0.1-0.4-0.2l-1.9-1.9C2.1,15.8,2,15.6,2,15.4s0.1-0.3,0.2-0.4L14.7,2.4c0.1-0.1,0.2-0.2,0.4-0.2s0.3,0.1,0.4,0.2l2.1,2 C17.7,4.5,17.8,4.6,17.8,4.8z M4.6,3l1,0.3l-1,0.2l-0.3,1l-0.3-1L3,3.3l1-0.3l0.3-1L4.6,3z M7.9,4.6l1.9,0.6L7.9,5.7L7.4,7.6 L6.8,5.7L4.9,5.1l1.9-0.6l0.6-1.9L7.9,4.6z M17,9.2l1,0.3l-1,0.3l-0.3,1l-0.3-1l-1-0.3l1-0.3l0.3-1L17,9.2z M10.8,3l1,0.3l-1,0.2 l-0.3,1l-0.3-1L9.3,3.3l1-0.3l0.2-1L10.8,3z"})),In_viewIcon=el("svg",{width:20,height:20,viewBox:"0 0 20 20"},el("path",{d:"M18.6,10c-1.1-1.6-2.5-3-4.3-3.9C14.8,6.8,15,7.7,15,8.6c0,2.8-2.2,5-5,5s-5-2.2-5-5c0-0.9,0.2-1.8,0.7-2.5 C3.9,7,2.5,8.4,1.4,10c1.9,2.9,5,5,8.6,5S16.7,12.9,18.6,10z M10.5,5.7c0-0.3-0.2-0.5-0.5-0.5c-1.9,0-3.4,1.5-3.4,3.4 c0,0.3,0.2,0.5,0.5,0.5c0.3,0,0.5-0.2,0.5-0.5c0-1.3,1-2.3,2.3-2.3C10.3,6.3,10.5,6,10.5,5.7z M20,10c0,0.3-0.1,0.5-0.2,0.8 c-2.1,3.4-5.8,5.7-9.8,5.7s-7.7-2.3-9.8-5.7C0.1,10.5,0,10.3,0,10s0.1-0.5,0.2-0.8C2.3,5.9,6,3.6,10,3.6s7.7,2.3,9.8,5.7\tC19.9,9.5,20,9.7,20,10z"})),FilterIcon=el("svg",{width:20,height:20,viewBox:"0 0 20 20"},el("path",{d:"M17.9,2.5C18,2.7,18,3,17.8,3.3l-5.6,5.6v8.4c0,0.3-0.2,0.6-0.5,0.6c-0.1,0-0.2,0.1-0.3,0.1s-0.4-0.1-0.5-0.2 L8,14.9c-0.2-0.2-0.2-0.3-0.2-0.5V8.9L2.2,3.3C2,3,1.9,2.7,2.1,2.5C2.2,2.2,2.4,2,2.7,2h14.6C17.6,2,17.9,2.2,17.9,2.5z"})),MobileIcon=el("svg",{width:20,height:20,viewBox:"0 0 20 20"},el("path",{d:"M11.3,18c0-0.7-0.6-1.3-1.3-1.3S8.8,17.3,8.8,18s0.6,1.3,1.3,1.3S11.3,18.7,11.3,18z M14.5,15.5v-11C14.5,4.2,14.3,4,14,4H6 C5.7,4,5.5,4.2,5.5,4.5v11C5.5,15.8,5.7,16,6,16h8C14.3,16,14.5,15.8,14.5,15.5z M11.5,2.3c0-0.1-0.1-0.3-0.3-0.3H8.8 C8.6,2,8.5,2.1,8.5,2.3s0.1,0.3,0.3,0.3h2.5C11.4,2.5,11.5,2.4,11.5,2.3z M16,2v16c0,1.1-0.9,2-2,2H6c-1.1,0-2-0.9-2-2V2 c0-1.1,0.9-2,2-2h8C15.1,0,16,0.9,16,2z"})),ArrowsLeftIcon=el("svg",{width:28,height:28,viewBox:"0 0 28 28"},el("path",{d:"M27.3,12.9v2.3c0,1.2-0.8,2.3-2.1,2.3H12.6l5.3,5.3c0.4,0.4,0.7,1.1,0.7,1.6s-0.3,1.2-0.7,1.6l-1.3,1.4 c-0.4,0.4-1.1,0.7-1.6,0.7c-0.6,0-1.2-0.3-1.7-0.7L1.4,15.6C1,15.2,0.7,14.6,0.7,14c0-0.5,0.3-1.2,0.7-1.7L13.2,0.7 C13.6,0.3,14.2,0,14.8,0c0.6,0,1.2,0.3,1.6,0.7L17.7,2c0.4,0.4,0.7,1.1,0.7,1.7s-0.2,1.1-0.6,1.6l-5.3,5.3h12.7 C26.5,10.6,27.3,11.7,27.3,12.9z"})),CircleIcon=el("svg",{width:28,height:28,viewBox:"0 0 28 28"},el("path",{d:"M28,14c0,7.7-6.3,14-14,14S0,21.7,0,14S6.3,0,14,0S28,6.3,28,14z"})),avatarData=[],avatar_defalt_id=0;word_balloon_block_avatar[0]&&(avatarData[0]={value:"mystery_men",label:word_balloon_block_avatar[0].name+"("+word_balloon_block_avatar[0].memo+")",url:word_balloon_block_avatar[0].url,name:"false"}),word_balloon_block_avatar&&Object.keys(word_balloon_block_avatar).forEach((function(key){if("mystery_men"!==this[key].id){var val=this[key],avatar_label=val.name+(""===val.memo?"":"("+val.memo+")");avatarData[val.id]={value:val.id,label:avatar_label,url:val.url,name:val.name},0===avatar_defalt_id&&(avatar_defalt_id=val.id)}}),word_balloon_block_avatar);var mystery_men_id=0,john_doe_id=1e6,balloonData=[],balloon_defalt_type;if(word_balloon_block_balloon){var i=0;Object.keys(word_balloon_block_balloon).forEach((function(key){var val=this[key];balloonData[i]={value:val.value,label:val.label},++i}),word_balloon_block_balloon)}var iconData=[];if(word_balloon_block_icon)for(var i=0;i<Object.keys(word_balloon_block_icon).length;i++)iconData[i]={value:word_balloon_block_icon[i].value,label:word_balloon_block_icon[i].label};var effectData=[];if(word_balloon_block_effect)for(var i=0;i<Object.keys(word_balloon_block_effect).length;i++)effectData[i]={value:word_balloon_block_effect[i].value,label:word_balloon_block_effect[i].label};var filterData=[];if(word_balloon_block_filter)for(var i=0;i<Object.keys(word_balloon_block_filter).length;i++)filterData[i]={value:word_balloon_block_filter[i].value,label:word_balloon_block_filter[i].label};var in_viewData=[];if(word_balloon_block_in_view)for(var i=0;i<Object.keys(word_balloon_block_in_view).length;i++)in_viewData[i]={value:word_balloon_block_in_view[i].value,label:word_balloon_block_in_view[i].label};var in_view_balloonData=[];if(word_balloon_block_in_view_balloon)for(var i=0;i<Object.keys(word_balloon_block_in_view_balloon).length;i++)in_view_balloonData[i]={value:word_balloon_block_in_view_balloon[i].value,label:word_balloon_block_in_view_balloon[i].label};var quote_effectData=[];if(word_balloon_block_quote_effect)for(var i=0;i<Object.keys(word_balloon_block_quote_effect).length;i++)quote_effectData[i]={value:word_balloon_block_quote_effect[i].value,label:word_balloon_block_quote_effect[i].label};var BorderStyleData=[];if(word_balloon_block_border_style)for(var i=0;i<Object.keys(word_balloon_block_border_style).length;i++)BorderStyleData[i]={value:word_balloon_block_border_style[i].value,label:word_balloon_block_border_style[i].label};var BorderStyleSpaceData=[];BorderStyleSpaceData[0]={value:"",label:""},BorderStyleSpaceData=BorderStyleSpaceData.concat(BorderStyleData);var TemplateData=[],TemplateDisplay="none";if(word_balloon_block_template)for(var i=0;i<Object.keys(word_balloon_block_template).length;i++)i>0?""!==word_balloon_block_template[i].label&&(TemplateDisplay="block",TemplateData[i]={value:word_balloon_block_template[i].value,label:word_balloon_block_template[i].label}):TemplateData[i]={value:word_balloon_block_template[i].value,label:word_balloon_block_template[i].label};var FavoriteData=[],FavoriteDisplay="none";if(word_balloon_block_favorite)for(var i=0;i<Object.keys(word_balloon_block_favorite).length;i++)i>0&&(FavoriteDisplay="block"),FavoriteData[i]={value:word_balloon_block_favorite[i].value,label:word_balloon_block_favorite[i].label};var BLOCKS_TEMPLATE=[],syncerSounds={flag:{},currentPlayID:null},extend=function(){var i=1,key,length=arguments.length,target=arguments[0]||{},isDeep=!1;for(!0===target&&(++i,target=arguments[1]||{},isDeep=!0);i<length;++i)for(key in arguments[i])arguments[i].hasOwnProperty(key)&&(isDeep&&"[object Object]"===Object.prototype.toString.call(arguments[i][key])?target[key]=extend(target[key],arguments[i][key]):target[key]=arguments[i][key]);return target};function word_balloon_block_avatar_radius(type_radius){var w_b_radius="";switch(type_radius){case"radius_3":w_b_radius=" w_b_radius_3";break;case"radius_12":w_b_radius=" w_b_radius_12";break;case"radius_20":w_b_radius=" w_b_radius_20";break;case"true":w_b_radius=" w_b_radius"}return w_b_radius}function word_balloon_block_icon_position(icon_position){var w_b_icon_position="";switch(icon_position){case"top_left":w_b_icon_position=" w_b_icon_L w_b_icon_T";break;case"top_center":w_b_icon_position=" w_b_icon_HC w_b_icon_T";break;case"top_right":w_b_icon_position=" w_b_icon_R w_b_icon_T";break;case"center_left":w_b_icon_position=" w_b_icon_L w_b_icon_VC";break;case"center":w_b_icon_position=" w_b_icon_HC w_b_icon_VC";break;case"center_right":w_b_icon_position=" w_b_icon_R w_b_icon_VC";break;case"bottom_left":w_b_icon_position=" w_b_icon_L w_b_icon_B";break;case"bottom_center":w_b_icon_position=" w_b_icon_HC w_b_icon_B";break;case"bottom_right":w_b_icon_position=" w_b_icon_R w_b_icon_B"}return w_b_icon_position}function isset(data){return void 0!==data}function word_balloon_block_get_balloon_direction(balloon,position){return word_balloon_is_over_balloon(balloon)?"O":word_balloon_is_under_balloon(balloon)?"U":"L"===position?"L":"R"}function word_balloon_block_in_view_reset(box){setTimeout((function(){Array.prototype.slice.call(document.querySelectorAll(box)).forEach((function(target){target.classList.remove("w_b_outclass"),target.classList.add("w_b_inview"),target.classList.add("w_b_inclass")}))}),1e3)}function word_balloon_block_checkbox(check){return"true"===check}function word_balloon_stopCurrentSound(){var currentSound=document.getElementById(syncerSounds.currentPlayID);null!=currentSound&&(currentSound.pause(),currentSound.currentTime=0),syncerSounds.currentPlayID=null}function word_balloon_block_get_url(url){return new Promise((function(resolve,reject){var xhr=new XMLHttpRequest;xhr.open("GET",url),xhr.send(),xhr.onreadystatechange=function(){4===xhr.readyState&&200===xhr.status?resolve(xhr.responseText):200!==xhr.status&&reject("Error")}}))}function word_balloon_block_svg_icon_add_component(type,svg){return(svg=(svg=svg.replace(/<path/g,"<path "+type+'=""')).replace(/<ellipse/g,"<ellipse "+type+'=""')).replace(/<polygon/g,"<polygon "+type+'=""')}function word_balloon_block_get_balloon_default_name_position(balloon,position){return document.getElementById("custom_balloon_"+balloon+"_"+position).getAttribute("data-avatar_name_position_value")}function word_balloon_block_balloon_adjustment(attributes,balloon,size){var data=[];data.style=[],data.style.w_b_name=[],data.style.w_b_name.marginTop="",data.style.w_b_name.marginRight="",data.style.w_b_name.marginBottom="",data.style.w_b_name.marginLeft="",data.style.w_b_ava_box=[],data.style.w_b_ava_box.marginTop="",data.style.w_b_ava_box.marginBottom="",data.style.w_b_ava_box.paddingTop="",data.style.w_b_ava_box.paddingBottom="",data.style.w_b_status_box=[],data.style.w_b_status_box.marginTop="",data.style.w_b_status_box.marginRight="",data.style.w_b_status_box.marginBottom="",data.style.w_b_status_box.marginLeft="",data.style.w_b_status_box.position="",data.style.w_b_status_box.top="",data.style.w_b_status_box.right="",data.style.w_b_status_box.bottom="",data.style.w_b_status_box.left="",data.style.w_b_status_box.height="",data.style.w_b_status_box.width="",data.style.w_b_status_box.textAlign="",data.style.w_b_status_sound=[],data.style.w_b_status_sound.marginTop="",data.style.w_b_status_sound.marginRight="",data.style.w_b_status_sound.marginBottom="",data.style.w_b_status_sound.marginLeft="",data.style.w_b_space_on_balloon=[],data.style.w_b_space_on_balloon.paddingTop="",data.style.w_b_space_under_balloon=[],data.style.w_b_space_under_balloon.paddingBottom="",data.Space_padding=[],data.style.w_b_space_on_balloon.paddingTop="",data.style.w_b_space_under_balloon.paddingBottom="";var side=attributes.position,is_status=!1,temp_margin=0;(attributes.sound_URL||attributes.status)&&(is_status=!0);var base_name_font_size=attributes.name_font_size;""===base_name_font_size&&(base_name_font_size=parseInt(document.getElementById("w_b_name_font_size").value)),data.name_margin=Math.floor(1.4*base_name_font_size);var name_position=attributes.name_position,avatar_custom_size=document.getElementById("w_b_avatar_custom_size_"+size);switch(avatar_custom_size=avatar_custom_size.value,-1!==["talk_uc","talk_oc","slash_uc","slash_oc"].indexOf(balloon)&&(data.style.w_b_status_box.position="absolute",data.style.w_b_status_box.height="100%",data.style.w_b_status_box.width="100%","L"===side?(data.style.w_b_status_box.left="4px",data.style.w_b_status_box.marginLeft="100%"):(data.style.w_b_status_box.right="4px",data.style.w_b_status_box.marginRight="100%",data.style.w_b_status_box.textAlign="right")),"under_balloon"===name_position&&(data.style.w_b_status_box.bottom=data.name_margin+"px"),is_status&&("on_balloon"!==name_position&&"under_balloon"!==name_position||(data.style.w_b_status_sound.marginTop=data.name_margin)),balloon){case"talk":"on_balloon"===name_position?temp_margin=data.name_margin:"on_avatar"===name_position&&(temp_margin=-data.name_margin),data.style.w_b_space_on_balloon.paddingTop=parseInt(avatar_custom_size/2.5-temp_margin);break;case"think":"under_balloon"!==name_position&&(data.style.w_b_space_under_balloon.paddingBottom=18);break;case"line":data.style.w_b_space_on_balloon.paddingTop="on_balloon"!==name_position?data.name_margin+4:4,"on_avatar"===name_position&&(data.style.w_b_space_on_balloon.paddingTop=2*data.name_margin+8);break;case"round":"under_avatar"===name_position?data.style.w_b_space_under_balloon.paddingBottom=data.name_margin:"under_balloon"===name_position&&(data.style.w_b_ava_box.paddingBottom=data.name_margin);break;case"tail":"under_avatar"===name_position?temp_margin=data.name_margin:"on_avatar"===name_position?data.style.w_b_space_on_balloon.paddingTop=data.name_margin:"under_balloon"===name_position?data.style.w_b_ava_box.paddingBottom=data.name_margin:"on_balloon"===name_position&&(data.style.w_b_ava_box.paddingTop=data.name_margin),data.style.w_b_space_under_balloon.paddingBottom=parseInt(.48*avatar_custom_size+temp_margin);break;case"bump":data.style.w_b_space_on_balloon.paddingTop=data.name_margin,"on_avatar"===name_position?data.style.w_b_space_on_balloon.paddingTop=2*data.name_margin:"on_balloon"===name_position&&(data.style.w_b_space_on_balloon.paddingTop="");break;case"upper":"under_balloon"!==name_position&&(data.style.w_b_space_under_balloon.paddingBottom=16);break;case"lower":"on_balloon"!==name_position&&(data.style.w_b_space_on_balloon.paddingTop=16);break;case"soi":"under_avatar"===name_position?temp_margin=data.name_margin:"on_avatar"===name_position?data.style.w_b_space_on_balloon.paddingTop=data.name_margin:"under_balloon"===name_position&&(data.style.w_b_ava_box.paddingBottom=data.name_margin),data.style.w_b_space_under_balloon.paddingBottom=temp_margin+5;break;case"talk_2":"on_balloon"===name_position?temp_margin=data.name_margin:"on_avatar"===name_position&&(temp_margin=-data.name_margin),data.style.w_b_space_on_balloon.paddingTop=parseInt(avatar_custom_size/2.5-temp_margin);break;case"bump_2":data.style.w_b_space_on_balloon.paddingTop=data.name_margin,"on_avatar"===name_position?data.style.w_b_space_on_balloon.paddingTop=2*data.name_margin:"on_balloon"===name_position&&(data.style.w_b_space_on_balloon.paddingTop="");break;case"wriggle":"under_avatar"===name_position?temp_margin=data.name_margin:"under_balloon"===name_position&&(data.style.w_b_ava_box.paddingTop=data.name_margin+5),data.style.w_b_space_under_balloon.paddingBottom=temp_margin+5,is_status&&"under_balloon"!==name_position&&(data.style.w_b_status_box.marginBottom="26px");break;case"pointy":"on_balloon"===name_position?temp_margin=data.name_margin:"on_avatar"===name_position&&(temp_margin=-data.name_margin),data.style.w_b_space_on_balloon.paddingTop=parseInt(avatar_custom_size/2-temp_margin);break;case"freehand":"under_avatar"===name_position?temp_margin=data.name_margin:"under_balloon"===name_position&&(data.style.w_b_ava_box.paddingBottom=data.name_margin),data.style.w_b_space_under_balloon.paddingBottom=temp_margin+5;break;case"8bit":"under_avatar"===name_position?temp_margin=data.name_margin:"on_avatar"===name_position?data.style.w_b_space_on_balloon.paddingTop=data.name_margin:"under_balloon"===name_position&&(data.style.w_b_ava_box.paddingBottom=data.name_margin),data.style.w_b_space_under_balloon.paddingBottom=parseInt(.48*avatar_custom_size+temp_margin);break;case"8bit_2":"on_balloon"===name_position?temp_margin=data.name_margin:"on_avatar"===name_position&&(temp_margin=-data.name_margin),data.style.w_b_space_on_balloon.paddingTop=parseInt(avatar_custom_size/2.5-temp_margin);break;case"tail_2":"under_avatar"===name_position?temp_margin=data.name_margin:"on_avatar"===name_position?data.style.w_b_space_on_balloon.paddingTop=data.name_margin:"under_balloon"===name_position&&(data.style.w_b_ava_box.paddingBottom=data.name_margin),data.style.w_b_space_under_balloon.paddingBottom=parseInt(.48*avatar_custom_size+temp_margin);break;case"scream":"under_avatar"===name_position?temp_margin=data.name_margin:"on_avatar"===name_position?data.style.w_b_space_on_balloon.paddingTop=data.name_margin:"under_balloon"===name_position&&(data.style.w_b_ava_box.paddingBottom=data.name_margin),data.style.w_b_space_under_balloon.paddingBottom=parseInt(.28*avatar_custom_size+temp_margin);break;case"talk_o":"under_balloon"!==name_position&&(data.style.w_b_space_under_balloon.paddingBottom=data.name_margin);break;case"talk_u":"on_balloon"!==name_position&&(data.style.w_b_space_on_balloon.paddingTop=data.name_margin);break;case"think_2":is_status&&(data.style.w_b_status_box.marginBottom="16px");break;case"talk_oc":case"talk_uc":break;case"freehand_o":"under_balloon"===name_position&&(data.style.w_b_name.marginTop="-18px"),is_status&&(data.style.w_b_status_box.marginBottom="18px");break;case"freehand_u":"on_balloon"===name_position&&(data.style.w_b_name.marginBottom="-16px"),is_status&&(data.style.w_b_status_box.marginTop="12px");break;case"tail_3":"under_avatar"===name_position&&(temp_margin=data.name_margin),"on_avatar"===name_position&&(data.style.w_b_space_on_balloon.paddingTop=data.name_margin),data.style.w_b_space_under_balloon.paddingBottom=parseInt(.48*avatar_custom_size+temp_margin);break;case"twin_t":"under_avatar"===name_position&&(temp_margin=data.name_margin),"on_avatar"===name_position&&(data.style.w_b_space_on_balloon.paddingTop=data.name_margin),data.style.w_b_space_under_balloon.paddingBottom=temp_margin+5;break;case"slash":break;case"slash_oc":data.style.w_b_status_box.position="absolute",data.style.w_b_status_box.bottom="4px",data.style.w_b_status_box.height="100%","L"===side?data.style.w_b_status_box.right="-72px":data.style.w_b_status_box.left="-72px";break;case"slash_uc":data.style.w_b_status_box.position="absolute",data.style.w_b_status_box.height="100%","L"===side?data.style.w_b_status_box.right="-72px":data.style.w_b_status_box.left="-72px";break;case"geek":break;case"think_3":"under_avatar"===name_position&&(temp_margin=data.name_margin),"on_avatar"===name_position&&(data.style.w_b_space_on_balloon.paddingTop=data.name_margin),data.style.w_b_space_under_balloon.paddingBottom=parseInt(.48*avatar_custom_size+temp_margin)}return data}registerBlockType("word-balloon/word-balloon-block",{title:__("Word Balloon","word-balloon"),description:__("You will easy to add word balloons in your post.","word-balloon"),icon:BalloonIcon,category:"common",keywords:[_x("Word","keywords","word-balloon"),_x("Balloon","keywords","word-balloon"),_x("Word Balloon","keywords","word-balloon"),_x("Word Balloon","keywords2","word-balloon"),_x("Word Balloon","keywords3","word-balloon"),_x("Word Balloon","keywords4","word-balloon")],example:{},attributes:{avatar_id:{type:"string",default:avatar_defalt_id},position:{type:"string",default:load_setting.avatar_position},balloon:{type:"string",default:load_setting.choice_balloon},avatar_size:{type:"string",default:load_setting.avatar_size},type_radius:{type:"string",default:load_setting.avatar_border_radius},avatar_flip_h:{type:"boolean",default:!1},avatar_flip_v:{type:"boolean",default:!1},avatar_shadow:{type:"boolean",default:load_setting.avatar_shadow},avatar_border:{type:"boolean",default:load_setting.avatar_border},avatar_border_color:{type:"string",default:""},avatar_border_style:{type:"string",default:""},avatar_border_width:{type:"number",default:""},avatar_background_color:{type:"string",default:""},avatar_hide:{type:"boolean",default:load_setting.avatar_hide},avatar_src:{type:"string",default:""},avatar_name:{type:"string",default:""},name_position:{type:"string",default:""},name_font_size:{type:"number",default:""},name_color:{type:"string",default:load_setting.name_color},balloon_shadow:{type:"boolean",default:load_setting.balloon_shadow},balloon_full_width:{type:"boolean",default:load_setting.balloon_full_width},box_center:{type:"boolean",default:load_setting.box_center},box_margin:{type:"boolean",default:load_setting.box_margin},balloon_hide:{type:"boolean",default:!1},background_color:{type:"string",default:""},border_color:{type:"string",default:""},border_style:{type:"string"},border_width:{type:"number",default:""},balloon_shadow_color:{type:"string",default:""},text_align:{type:"string"},text_color:{type:"string"},font_size:{type:"number",default:""},icon_type:{type:"string",default:""},icon_position:{type:"string",default:"top_left"},icon_size:{type:"string",default:load_setting.icon_size},icon_flip_h:{type:"boolean",default:!1},icon_flip_v:{type:"boolean",default:!1},icon_fill:{type:"string",default:""},icon_stroke:{type:"string",default:""},icon_stroke_width:{type:"number",default:""},icon_svg:{type:"string",default:""},avatar_effect:{type:"string",default:""},icon_effect:{type:"string",default:""},balloon_effect:{type:"string",default:""},avatar_effect_duration:{type:"number",default:""},icon_effect_duration:{type:"number",default:""},balloon_effect_duration:{type:"number",default:""},avatar_in_view:{type:"string",default:""},icon_in_view:{type:"string",default:""},balloon_in_view:{type:"string",default:""},avatar_in_view_duration:{type:"number",default:""},icon_in_view_duration:{type:"number",default:""},balloon_in_view_duration:{type:"number",default:""},quote_effect:{type:"string",default:""},quote_effect_speed:{type:"number",default:Number(load_setting.quote_effect_speed)},quote_effect_minimum:{type:"boolean",default:load_setting.quote_effect_minimum},avatar_filter:{type:"string",default:""},icon_filter:{type:"string",default:""},balloon_filter:{type:"string",default:""},status:{type:"string",default:""},status_color:{type:"string",default:load_setting.status_color},sound_ID:{type:"number",default:""},sound_URL:{type:"string",default:""},sound_FileName:{type:"string",default:""},balloon_m:{type:"string",default:load_setting.balloon_m},avatar_size_m:{type:"string",default:load_setting.avatar_size_m},name_position_m:{type:"string",default:load_setting.name_position_m},font_size_m:{type:"string",default:load_setting.font_size_m},balloon_vertical_writing:{type:"boolean",default:load_setting.balloon_vertical_writing},favorite:{type:"string",default:""},innerblocks_mode:{type:"boolean",default:load_setting.innerblocks_mode},avatar:{type:"string",default:""},name:{type:"string",default:""},quote:{type:"string",source:"html",selector:"p"}},transforms:{from:[{type:"block",blocks:["core/paragraph","core/heading"],transform:function(attributes){var transform_fontsize="",transform_textcolor="";if(attributes.customFontSize)transform_fontsize=attributes.customFontSize;else if(attributes.fontSize)switch(attributes.fontSize){case"small":transform_fontsize=13;break;case"normal":transform_fontsize=16;break;case"medium":transform_fontsize=20;break;case"large":transform_fontsize=36;break;case"huge":transform_fontsize=48}else if(attributes.level){switch(attributes.level){case 6:transform_fontsize=13;break;case 5:transform_fontsize=16;break;case 4:transform_fontsize=20;break;case 3:transform_fontsize=25;break;case 2:transform_fontsize=31;break;case 1:transform_fontsize=39}attributes.content='<strong data-rich-text-format-boundary="true">'+attributes.content+"</strong>"}attributes.customTextColor&&(transform_textcolor=attributes.customTextColor);var transforms_data={};return transforms_data.quote=attributes.content,""!==transform_fontsize&&(transforms_data.font_size=transform_fontsize),""!==transform_textcolor&&(transforms_data.text_color=transform_textcolor),wp.blocks.createBlock("word-balloon/word-balloon-block",transforms_data)}}]},edit:function edit(_edit_ref){var attributes=_edit_ref.attributes,className=_edit_ref.className,setAttributes=_edit_ref.setAttributes,clientId=_edit_ref.clientId,quote=attributes.quote,avatar_id=attributes.avatar_id,position=attributes.position,balloon=attributes.balloon,avatar_size=attributes.avatar_size,type_radius=attributes.type_radius,avatar_flip_h=attributes.avatar_flip_h,avatar_flip_v=attributes.avatar_flip_v,avatar_border=attributes.avatar_border,avatar_border_color=attributes.avatar_border_color,avatar_border_style=attributes.avatar_border_style,avatar_border_width=attributes.avatar_border_width,avatar_background_color=attributes.avatar_background_color,avatar_shadow=attributes.avatar_shadow,avatar_hide=attributes.avatar_hide,avatar_src=attributes.avatar_src,avatar_name=attributes.avatar_name,name_position=attributes.name_position,balloon_shadow=attributes.balloon_shadow,balloon_full_width=attributes.balloon_full_width,balloon_vertical_writing=attributes.balloon_vertical_writing,box_center=attributes.box_center,box_margin=attributes.box_margin,balloon_hide=attributes.balloon_hide,background_color=attributes.background_color,border_color=attributes.border_color,border_style=attributes.border_style,border_width=attributes.border_width,balloon_shadow_color=attributes.balloon_shadow_color,text_align=attributes.text_align,text_color=attributes.text_color,font_size=attributes.font_size,icon_type=attributes.icon_type,icon_position=attributes.icon_position,icon_size=attributes.icon_size,icon_flip_h=attributes.icon_flip_h,icon_flip_v=attributes.icon_flip_v,icon_fill=attributes.icon_fill,icon_stroke=attributes.icon_stroke,icon_stroke_width=attributes.icon_stroke_width,icon_svg=attributes.icon_svg,avatar_effect=attributes.avatar_effect,icon_effect=attributes.icon_effect,balloon_effect=attributes.balloon_effect,avatar_effect_duration=attributes.avatar_effect_duration,icon_effect_duration=attributes.icon_effect_duration,balloon_effect_duration=attributes.balloon_effect_duration,avatar_in_view=attributes.avatar_in_view,icon_in_view=attributes.icon_in_view,balloon_in_view=attributes.balloon_in_view,avatar_in_view_duration=attributes.avatar_in_view_duration,icon_in_view_duration=attributes.icon_in_view_duration,balloon_in_view_duration=attributes.balloon_in_view_duration,quote_effect=attributes.quote_effect,quote_effect_speed=attributes.quote_effect_speed,quote_effect_minimum=attributes.quote_effect_minimum,avatar_filter=attributes.avatar_filter,icon_filter=attributes.icon_filter,balloon_filter=attributes.balloon_filter,name_color=attributes.name_color,name_font_size=attributes.name_font_size,status=attributes.status,status_color=attributes.status_color,sound_ID=attributes.sound_ID,sound_URL=attributes.sound_URL,sound_FileName=attributes.sound_FileName,template=attributes.template,favorite=attributes.favorite,balloon_m=attributes.balloon_m,avatar_size_m=attributes.avatar_size_m,name_position_m=attributes.name_position_m,font_size_m=attributes.font_size_m,innerblocks_mode=attributes.innerblocks_mode,_useDispatch=useDispatch("core/block-editor"),removeBlocks=_useDispatch.removeBlocks,_useSelect,slides=useSelect((function(select){return{slides:select("core/block-editor").getBlocks(clientId)}})).slides,innerblocks_count=useSelect((function(select){return select("core/block-editor").getBlockCount(clientId)}),[]);function word_balloon_avatar_position_arrows(){var w_b_avatar_position_arrows,children=["L","R"].map((function(arrow){return el("div",{id:"w_b_avatar_position_arrow_"+arrow,key:"w_b_avatar_position_arrow_"+arrow,className:"w_b_avatar_position_"+arrow,onClick:function onClick(){return setAttributes({position:arrow,name_position:word_balloon_block_get_balloon_default_name_position(balloon,arrow)})}},ArrowsLeftIcon)}));return el("div",{id:"w_b_avatar_position_arrows_div",key:"w_b_avatar_position_arrow_div_"+clientId,className:"w_b_flex w_b_ai_c w_b_avatar_active_position_"+position,style:{marginBottom:"24px",lineHeight:0}},el("label",{htmlFor:"w_b_avatar_position_arrow_ul"},__("Avatar's Position","word-balloon")),children)}function word_balloon_icon_position_arrows(){var children=word_balloon_block_icon_position_data.map((function(arrow){var active_icon=arrow.value!==icon_position?"":" active";return el("div",{id:"w_b_icon_position_arrow_"+arrow.value,key:"w_b_icon_position_arrow_"+arrow.value,className:"w_b_icon_position_"+arrow.value+" w_b_icon_active_position"+active_icon,onClick:function onClick(){return setAttributes({icon_position:arrow.value})}},"center"!==arrow.value?ArrowsLeftIcon:CircleIcon)}));return el("div",{id:"w_b_icon_position_arrows_div",key:"w_b_icon_position_arrow_div_"+clientId,className:"w_b_icon_position_arrows_div w_b_flex w_b_ai_c w_b_flex_wrap"},children)}function word_balloon_sml_size_control(type){var size_option,children=[{value:"S",label:__("Small","word-balloon")},{value:"M",label:__("Medium","word-balloon")},{value:"L",label:__("Large","word-balloon")}].map((function(size){if("avatar_size"===type)var active_size=size.value!==avatar_size?"":" active";else if("icon_size"===type)var active_size=size.value!==icon_size?"":" active";return el("div",{id:"w_b_"+type+"_"+size.value,key:"w_b_"+type+"_"+size.value,className:"w_b_size_option_"+size.value+" w_b_size_option"+active_size,onClick:function onClick(){return"avatar_size"===type?setAttributes({avatar_size:size.value}):"icon_size"===type?setAttributes({icon_size:size.value}):void 0}},size.label)}));return el("div",{id:"w_b_"+type+"_option_wrap",key:"w_b_size_option_wrap_"+clientId,className:"w_b_size_option_wrap w_b_flex w_b_ai_c"},children)}var avatarListData=[],avatar_anonymous=[],avatar_local_list=[],avatar_local_list_anonymous=[];""!==attributes.avatar&&(avatar_id=attributes.avatar,setAttributes({avatar:"",avatar_id:attributes.avatar})),""!==attributes.name&&(avatar_name=attributes.name,setAttributes({name:"",avatar_name:attributes.name})),""!==quote&&void 0!==quote&&setAttributes({innerblocks_mode:!1}),0!==innerblocks_count&&setAttributes({innerblocks_mode:!0});var avatar_ID=avatar_id;if("mystery_men"===avatar_ID)avatar_ID=mystery_men_id;else if("unset"===avatar_ID){avatar_ID=john_doe_id;var john_doe_label=__("John Doe","word-balloon");void 0===avatar_name?avatar_name="":""!==avatar_name&&(john_doe_label=avatar_name),""!==avatar_src&&(avatar_anonymous[clientId]=[],avatar_anonymous[clientId][john_doe_id]={value:"unset",label:john_doe_label,url:avatar_src,name:avatar_name},avatar_local_list_anonymous[clientId]=[],avatar_local_list_anonymous[clientId][john_doe_id]={value:"unset",label:john_doe_label})}else""===avatar_name&&(avatar_name=avatarData[avatar_ID].name);avatar_anonymous[clientId]?(avatarListData=extend(!0,avatar_anonymous[clientId],avatarData),avatar_local_list=extend(!0,avatar_local_list_anonymous[clientId],word_balloon_block_avatar_select_option)):(avatarListData=extend(!0,[],avatarData),avatar_local_list=extend(!0,[],word_balloon_block_avatar_select_option)),avatarListData[avatar_ID]||(avatarListData[avatar_ID]=avatarListData[avatar_defalt_id],setAttributes({avatar_id:avatar_defalt_id}));var data=[];data=word_balloon_block_balloon_adjustment(attributes,balloon,avatar_size);var w_b_Style=[];w_b_Style.w_b_bal=[],w_b_Style.w_b_bal.margin_right="",w_b_Style.w_b_bal.margin_left="",w_b_Style.w_b_bal.padding_right="",w_b_Style.w_b_bal.padding_left="",w_b_Style.w_b_bal.min_height="",w_b_Style.w_b_bal.boxShadow="",data.style.w_b_ava_box.display="";var w_b_Class=[];w_b_Class.w_b_ava_box="",w_b_Class.w_b_bal_box="",w_b_Class.w_b_name_on_avatar="",w_b_Class.w_b_name_under_avatar="",w_b_Class.w_b_icon_wrap="",w_b_Class.w_b_box_over_under="";var avatar_effect_val="",icon_effect_val="",balloon_effect_val="",avatar_effect_duration_style="",icon_effect_duration_style="",balloon_effect_duration_style="",avatar_in_view_duration_style="",icon_in_view_duration_style="",balloon_in_view_duration_style="",avatar_filter_val="",icon_filter_val="",balloon_filter_val="",icon_in_view_val="",w_b_radius=word_balloon_block_avatar_radius(type_radius),w_b_icon="",icon_flip="",w_b_icon_style_height="auto",w_b_icon_style_width="auto";""!==icon_type?(w_b_icon=" w_b_icon-"+icon_size,w_b_icon+=word_balloon_block_icon_position(icon_position),icon_flip_h&&icon_flip_v?icon_flip=" w_b_flip_hv":icon_flip_h?icon_flip=" w_b_flip_h":icon_flip_v&&(icon_flip=" w_b_flip_v"),""!==icon_effect&&(icon_effect_val=" w_b_"+icon_effect,""!==icon_effect_duration&&(icon_effect_duration_style=icon_effect_duration+"s")),""!==icon_filter&&(icon_filter_val=" w_b_f_"+icon_filter),""!==icon_in_view&&(icon_in_view_val=" w_b_inview_"+icon_in_view+" w_b_inview_solo w_b_outview w_b_outclass w_b_direction_"+word_balloon_block_get_balloon_direction(balloon,position),word_balloon_block_in_view_reset(".w_b_icon"),""!==icon_in_view_duration&&(icon_in_view_duration_style=icon_in_view_duration+"s")),word_balloon_block_get_url(word_balloon_url+"icon/"+icon_type+".svg").then((function(icon_svg){return""!==icon_fill&&(-1===icon_svg.indexOf("fill=")&&(icon_svg=word_balloon_block_svg_icon_add_component("fill",icon_svg)),icon_svg=icon_svg.replace(/fill=".*?"/g,'fill="'+icon_fill+'"')),""!==icon_stroke&&(-1===icon_svg.indexOf("stroke=")&&(icon_svg=word_balloon_block_svg_icon_add_component("stroke",icon_svg)),icon_svg=icon_svg.replace(/stroke=".*?"/g,'stroke="'+icon_stroke+'"')),""!==icon_stroke_width&&(-1===icon_svg.indexOf("stroke-width=")&&(icon_svg=word_balloon_block_svg_icon_add_component("stroke-width",icon_svg)),icon_svg=icon_svg.replace(/stroke-width=".*?"/g,'stroke-width="'+icon_stroke_width+'"')),setAttributes({icon_svg:"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(icon_svg)))})}),(function(error){console.error(error)}))):(w_b_icon_style_height=0,w_b_icon_style_width=0,icon_svg="");var avatar_flip="";avatar_flip_h&&avatar_flip_v?avatar_flip=" w_b_flip_hv":avatar_flip_h?avatar_flip=" w_b_flip_h":avatar_flip_v&&(avatar_flip=" w_b_flip_v"),""!==avatar_effect&&(avatar_effect_val=" w_b_"+avatar_effect,""!==avatar_effect_duration&&(avatar_effect_duration_style=avatar_effect_duration+"s")),""!==avatar_filter&&(avatar_filter_val=" w_b_f_"+avatar_filter);var avatar_in_view_val="";""!==avatar_in_view&&(avatar_in_view_val=" w_b_inview_"+avatar_in_view+" w_b_inview_solo w_b_outview w_b_outclass w_b_direction_"+word_balloon_block_get_balloon_direction(balloon,position),word_balloon_block_in_view_reset(".w_b_ava_wrap"),""!==avatar_in_view_duration&&(avatar_in_view_duration_style=avatar_in_view_duration+"s"));var avatar_shadow_val="";avatar_shadow&&(avatar_shadow_val=" w_b_ava_shadow_"+position);var avatar_border_val="",w_b_ava_wrap_style_border_color="",w_b_ava_wrap_style_border_style="",w_b_ava_wrap_style_border_width="",w_b_ava_wrap_style_background_color="";avatar_border&&(avatar_border_val=" w_b_border_"+position,avatar_border_color&&(w_b_ava_wrap_style_border_color=avatar_border_color),avatar_border_style&&(w_b_ava_wrap_style_border_style=avatar_border_style),avatar_border_width&&(w_b_ava_wrap_style_border_width=avatar_border_width+"px")),avatar_background_color&&(w_b_ava_wrap_style_background_color=avatar_background_color);var name_side=position;void 0===avatar_name&&(avatar_name="mystery_men"===avatar_ID?"":"unset"===avatar_ID?"":avatarListData[avatar_ID].name);var name_position_type=[{value:"under_avatar",label:__("under the avatar","word-balloon")},{value:"on_avatar",label:__("on the avatar","word-balloon")},{value:"hide",label:__("hide","word-balloon")}],name_position_m_type=[],balloonData_m=[],font_size_m_type=[];name_position_m_type=[{value:"",label:""}].concat(name_position_type),balloonData_m=[{value:"",label:""}].concat(balloonData),name_position_m_type=name_position_m_type.concat([{value:"side_avatar",label:__("side the avatar","word-balloon")}]),font_size_m_type=[{value:"",label:""},{value:"unset",label:__("Unset","word-balloon")}];for(var i=6;i<33;i++)font_size_m_type=font_size_m_type.concat([{value:i,label:i}]);word_balloon_is_over_under_balloon(balloon)&&"talk_uc"!==balloon&&"talk_oc"!==balloon&&"slash_uc"!==balloon&&"slash_oc"!==balloon?name_position_type=name_position_type.concat([{value:"side_avatar",label:__("side the avatar","word-balloon")}]):"side_avatar"===name_position&&(name_position="under_avatar"),word_balloon_is_under_balloon(balloon)?"on_balloon"===name_position&&(name_position="under_avatar"):name_position_type=name_position_type.concat([{value:"on_balloon",label:__("on the balloon","word-balloon")}]),word_balloon_is_over_balloon(balloon)?"under_balloon"===name_position&&(name_position="under_avatar"):name_position_type=name_position_type.concat([{value:"under_balloon",label:__("under the balloon","word-balloon")}]);var pro_display="dn";load_setting.word_balloon_pro&&(pro_display=""),""===name_position&&(name_position=word_balloon_block_get_balloon_default_name_position(balloon,position));var Name_display=[],Name_absolute;Name_display.style=[],Name_display.style.on_avatar="none",Name_display.style.under_avatar="none",Name_display.style.on_balloon="none",Name_display.style.under_balloon="none",Name_display.style.side_avatar="none",Name_display.position=[],Name_display.position.on_balloon="",Name_display.position.under_avatar="",Name_display.position.on_avatar="",Name_display.position.under_balloon="",Name_display.position.side_avatar="";var Name_font_size=document.getElementById("w_b_name_font_size").value;if("false"!==avatar_name)switch(name_position){case"on_avatar":Name_display.position.on_avatar=avatar_name,Name_display.style.on_avatar="",w_b_Class.w_b_name_on_avatar+=" w_b_w100 w_b_name_C w_b_ta_C";break;case"under_balloon":Name_display.position.under_balloon=avatar_name,Name_display.style.under_balloon="",name_side="R"===position?"L":"R";break;case"on_balloon":Name_display.position.on_balloon=avatar_name,Name_display.style.on_balloon="",name_side="R"===position?"L":"R";break;case"under_avatar":Name_display.position.under_avatar=avatar_name,Name_display.style.under_avatar="",w_b_Class.w_b_name_under_avatar+=" w_b_w100 w_b_name_C w_b_ta_C"}""!==balloon_effect&&(balloon_effect_val=" w_b_"+balloon_effect,""!==balloon_effect_duration&&(balloon_effect_duration_style=balloon_effect_duration+"s")),""!==balloon_filter&&(balloon_filter_val=" w_b_f_"+balloon_filter);var balloon_in_view_val="";""!==balloon_in_view&&(balloon_in_view_val=" w_b_inview_"+balloon_in_view+" w_b_inview_solo w_b_outview w_b_outclass w_b_direction_"+word_balloon_block_get_balloon_direction(balloon,position),word_balloon_block_in_view_reset(".w_b_bal_box"),""!==balloon_in_view_duration&&(balloon_in_view_duration_style=balloon_in_view_duration+"s"));var balloon_shadow_value="";balloon_shadow&&(balloon_shadow_value=" w_b_shadow_"+position);var balloon_full_width_value="",balloon_full_width_flex="";balloon_full_width&&(balloon_full_width_value=" w_b_w100",balloon_full_width_flex=" w_b_flex");var balloon_hide_val="";balloon_hide&&(balloon_hide_val="none");var balloon_font_size="";balloon_font_size=""!==font_size?font_size+"px":"unset";var margin_left_auto=" w_b_mla",flex_center="",flex_end="";switch(box_center&&(flex_center+=" w_b_jc_c w_b_mla w_b_mra",margin_left_auto=""),"rpg_3"===balloon&&(w_b_Class.w_b_ava_box+=" w_b_z2"),"L"===position&&(flex_center+=" w_b_mra"),"R"===position&&(flex_end=flex_end+" w_b_jc_fe"+margin_left_auto,flex_center+=" w_b_mla"),word_balloon_is_over_under_balloon(balloon)&&("L"===position&&(flex_end=" w_b_col w_b_ai_fs"),"R"===position&&(flex_end=" w_b_col w_b_ai_fe"+margin_left_auto),"R"===position&&!0===box_center&&(flex_end=" w_b_col w_b_ai_fe"),word_balloon_is_over_balloon(balloon)&&(w_b_Class.w_b_box_over_under="over"),word_balloon_is_under_balloon(balloon)&&(w_b_Class.w_b_box_over_under="under"),"talk_uc"!==balloon&&"talk_oc"!==balloon&&"slash_uc"!==balloon&&"slash_oc"!==balloon||(flex_end=" w_b_col w_b_ai_c","R"===position&&(flex_end+=margin_left_auto))),"side_avatar"===name_position&&(w_b_Class.w_b_ava_box+=" w_b_flex w_b_ai_fe",word_balloon_is_over_balloon(balloon)&&(Name_display.position.on_avatar=avatar_name,Name_display.style.on_avatar="","L"===position&&(w_b_Class.w_b_name_on_avatar+=" w_b_o_2")),word_balloon_is_under_balloon(balloon)&&(Name_display.position.under_avatar=avatar_name,Name_display.style.under_avatar="","R"===position&&(w_b_Class.w_b_icon_wrap+=" w_b_o_2"))),balloon){case"think":case"tail":case"8bit":case"tail_2":case"scream":case"tail_3":case"think_3":w_b_Class.w_b_ava_box+=" w_b_mta w_b_flex w_b_col w_b_jc_fe";break;case"round":case"soi":case"round_2":case"wriggle":case"freehand":case"twin_t":w_b_Class.w_b_bal_box+=" w_b_mta w_b_flex w_b_col w_b_jc_fe",w_b_Class.w_b_ava_box+=" w_b_mta w_b_flex w_b_col w_b_jc_fe";break;case"slash":w_b_Class.w_b_bal_box+=" w_b_mta w_b_mba",w_b_Class.w_b_ava_box+=" w_b_mta w_b_mba";break;case"rpg_3":w_b_Class.w_b_ava_box+=" w_b_flex w_b_col w_b_jc_c"}if(avatar_hide&&(data.style.w_b_ava_box.display="none"),"rpg_3"===balloon){var resize=document.getElementById("w_b_avatar_custom_size_"+avatar_size);resize=resize.value,"L"===position?(w_b_Style.w_b_bal.margin_left=-(parseInt(resize)+10),w_b_Style.w_b_bal.padding_left=parseInt(resize)+20):(w_b_Style.w_b_bal.margin_right=-(parseInt(resize)+10),w_b_Style.w_b_bal.padding_right=parseInt(resize)+20);var ava_style=16;"on_balloon"===name_position&&(ava_style=32),data.style.w_b_ava_box.marginTop=ava_style,ava_style=0,"on_avatar"!==name_position&&"under_avatar"!==name_position||(ava_style=32),w_b_Style.w_b_bal.min_height=parseInt(resize)+parseInt(ava_style)+30}var fontSizes=[{name:__("Small","word-balloon"),slug:"small",size:12},{name:__("Normal","word-balloon"),slug:"normal",size:""},{name:__("Large","word-balloon"),slug:"large",size:32},{name:__("Huge","word-balloon"),slug:"huge",size:60}];w_b_Style.w_b_bal.line_color="",w_b_Style.w_b_bal.tail_color="",w_b_Style.w_b_bal.bump_a_color="",w_b_Style.w_b_bal.bump_b_color="",w_b_Style.w_b_bal.upper_a_color="",w_b_Style.w_b_bal.upper_b_color="",w_b_Style.w_b_bal.lower_a_color="",w_b_Style.w_b_bal.lower_b_color="",w_b_Style.w_b_bal.tail_2_color="",w_b_Style.w_b_bal.tail_3_a_color="",w_b_Style.w_b_bal.tail_3_b_color="",w_b_Style.w_b_bal.twin_t_color="",w_b_Style.operation=[],w_b_Style.operation.background_color_display="none",w_b_Style.operation.border_color_display="none",w_b_Style.operation.border_style_display="none",w_b_Style.operation.border_width_display="none",w_b_Style.operation.balloon_shadow_color_display="none",isset(background_color)||(background_color=""),isset(border_color)||(border_color=""),isset(balloon_shadow_color)||(balloon_shadow_color="");var border_color_val=border_color;switch(-1!==["line","round","tail","bump","upper","lower","rpg_1","rpg_3","tail_2","tail_3","twin_t","clay","topic"].indexOf(balloon)&&(w_b_Style.operation.background_color_display="block"),-1!==["round","bump","upper","lower","rpg_1","rpg_3","round_2","tail_3","twin_t","topic"].indexOf(balloon)&&(w_b_Style.operation.border_color_display="block"),balloon){case"line":w_b_Style.w_b_bal.line_color=background_color;break;case"round":w_b_Style.operation.border_style_display="block",w_b_Style.operation.border_width_display="block";break;case"tail":w_b_Style.w_b_bal.tail_color=background_color;break;case"bump":w_b_Style.w_b_bal.bump_b_color=background_color,w_b_Style.w_b_bal.bump_a_color=border_color;break;case"upper":w_b_Style.w_b_bal.upper_b_color=background_color,w_b_Style.w_b_bal.upper_a_color=border_color;break;case"lower":w_b_Style.w_b_bal.lower_b_color=background_color,w_b_Style.w_b_bal.lower_a_color=border_color;break;case"rpg_1":w_b_Style.w_b_bal.boxShadow="0 0 0 4px "+border_color+" inset",border_color_val=background_color;break;case"rpg_3":w_b_Style.operation.balloon_shadow_color_display="block",balloon_shadow_color&&(w_b_Style.w_b_bal.boxShadow="-2px 3px 1px 1px "+balloon_shadow_color);break;case"round_2":w_b_Style.operation.border_style_display="block",w_b_Style.operation.border_width_display="block";break;case"tail_2":w_b_Style.w_b_bal.tail_2_color=background_color;break;case"tail_3":w_b_Style.w_b_bal.tail_3_b_color=background_color,w_b_Style.w_b_bal.tail_3_a_color=border_color;break;case"twin_t":w_b_Style.w_b_bal.twin_t_color=border_color}var Sound_flip="",w_b_sound_style="left";data.style.w_b_status_sound.display="none",""!==sound_FileName&&("R"===position&&(Sound_flip=" w_b_flip_h",w_b_sound_style="right"),data.style.w_b_status_sound.display="block"),isset(avatar_ID)||(avatarListData[avatar_ID=mystery_men_id]={url:word_balloon_url+"img/mystery_men.svg"});var display_innerblocks="none",display_richtext="none",display_innerblocks_mode="w_b_block_out_innerblocks_mode";return innerblocks_mode?display_innerblocks="":display_richtext="",void 0!==quote&&""!==quote||0!==innerblocks_count||(display_innerblocks_mode=""),el(Fragment,null,el(InspectorControls,null,el(PanelBody,{title:__("Preference","word-balloon")},el(SelectControl,{label:__("Avatar","word-balloon"),value:avatar_id,options:avatar_local_list,onChange:function onChange(value){var avatar_name;return avatar_name="mystery_men"===value?avatarListData[mystery_men_id].name:"unset"===value?avatarListData[john_doe_id].name:avatarListData[value].name,setAttributes({avatar_name:avatar_name,avatar_id:value})}}),word_balloon_avatar_position_arrows(),el(SelectControl,{label:__("Balloon","word-balloon"),value:balloon,onChange:function onChange(value){return setAttributes({background_color:"",border_color:"",balloon_shadow_color:"",border_style:"",border_width:"",text_color:"",balloon:value,name_position:word_balloon_block_get_balloon_default_name_position(value,position)})},options:balloonData}),el("div",{className:pro_display,style:{display:FavoriteDisplay}},el(SelectControl,{label:__("Favorite","word-balloon"),value:favorite,onChange:function onChange(value){""===value&&setAttributes({favorite:""});var temp="",restore=document.getElementById("w_b_favorite_"+value),avatar_src=restore.getAttribute("data-src"),select_avatar=restore.getAttribute("data-avatar_select");if(avatar_id=select_avatar,""!==restore.getAttribute("data-balloon_quote")&&(quote=restore.getAttribute("data-balloon_quote")),font_size="",""!==(temp=restore.getAttribute("data-font_size"))&&(font_size=Number(temp)),quote_effect_speed=90,""!==(temp=restore.getAttribute("data-quote_effect_speed"))&&(quote_effect_speed=Number(temp)),avatar_border_width="",""!==(temp=restore.getAttribute("data-avatar_border_width"))&&(avatar_border_width=Number(temp)),border_width="",""!==(temp=restore.getAttribute("data-balloon_border_width"))&&(border_width=Number(temp)),icon_stroke_width="",""!==(temp=restore.getAttribute("data-icon_stroke_width"))&&(icon_stroke_width=Number(temp)),avatar_effect_duration="",""!==(temp=restore.getAttribute("data-avatar_effect_duration"))&&(avatar_effect_duration=Number(temp)),icon_effect_duration="",""!==(temp=restore.getAttribute("data-icon_effect_duration"))&&(icon_effect_duration=Number(temp)),balloon_effect_duration="",""!==(temp=restore.getAttribute("data-balloon_effect_duration"))&&(balloon_effect_duration=Number(temp)),avatar_in_view_duration="",""!==(temp=restore.getAttribute("data-avatar_in_view_duration"))&&(avatar_in_view_duration=Number(temp)),icon_in_view_duration="",""!==(temp=restore.getAttribute("data-icon_in_view_duration"))&&(icon_in_view_duration=Number(temp)),balloon_in_view_duration="",""!==(temp=restore.getAttribute("data-balloon_in_view_duration"))&&(balloon_in_view_duration=Number(temp)),sound_ID="",""!==(temp=restore.getAttribute("data-status_sound_id"))&&(sound_ID=Number(temp)),name_font_size="",""!==(temp=restore.getAttribute("data-name_font_size"))&&(name_font_size=Number(temp)),avatarListData[select_avatar]||("mystery_men"===select_avatar?(avatar_id="mystery_men",avatar_src=word_balloon_url+"img/mystery_men.svg"):avatar_id="unset"),""!==quote)for(var i=0;i<slides.length;i++)_useDispatch.removeBlocks(slides[i].clientId);return setAttributes({quote:quote,avatar_id:avatar_id,position:restore.getAttribute("data-avatar_position"),balloon:restore.getAttribute("data-choice_balloon"),avatar_size:restore.getAttribute("data-avatar_size"),type_radius:restore.getAttribute("data-avatar_border_radius"),avatar_flip_h:word_balloon_block_checkbox(restore.getAttribute("data-avatar_flip_h")),avatar_flip_v:word_balloon_block_checkbox(restore.getAttribute("data-avatar_flip_v")),avatar_border:word_balloon_block_checkbox(restore.getAttribute("data-avatar_border")),avatar_border_color:restore.getAttribute("data-avatar_border_color"),avatar_border_style:restore.getAttribute("data-avatar_border_style"),avatar_border_width:avatar_border_width,avatar_shadow:word_balloon_block_checkbox(restore.getAttribute("data-avatar_shadow")),avatar_hide:word_balloon_block_checkbox(restore.getAttribute("data-avatar_hide")),avatar_src:avatar_src,avatar_name:restore.getAttribute("data-avatar_name"),name_position:restore.getAttribute("data-name_position"),avatar_background_color:restore.getAttribute("data-avatar_background_color"),balloon_shadow:word_balloon_block_checkbox(restore.getAttribute("data-balloon_shadow")),balloon_full_width:word_balloon_block_checkbox(restore.getAttribute("data-balloon_full_width")),balloon_vertical_writing:word_balloon_block_checkbox(restore.getAttribute("data-balloon_vertical_writing")),box_center:word_balloon_block_checkbox(restore.getAttribute("data-box_center")),box_margin:word_balloon_block_checkbox(restore.getAttribute("data-box_margin")),balloon_hide:word_balloon_block_checkbox(restore.getAttribute("data-balloon_hide")),background_color:restore.getAttribute("data-balloon_background"),border_color:restore.getAttribute("data-balloon_border_color"),border_style:restore.getAttribute("data-balloon_border_style"),border_width:border_width,balloon_shadow_color:restore.getAttribute("data-balloon_shadow_color"),text_align:restore.getAttribute("data-text_align"),text_color:restore.getAttribute("data-text_color"),font_size:font_size,icon_type:restore.getAttribute("data-icon_type"),icon_position:restore.getAttribute("data-icon_position"),icon_size:restore.getAttribute("data-icon_size"),icon_flip_h:word_balloon_block_checkbox(restore.getAttribute("data-icon_flip_h")),icon_flip_v:word_balloon_block_checkbox(restore.getAttribute("data-icon_flip_v")),icon_fill:restore.getAttribute("data-icon_fill"),icon_stroke:restore.getAttribute("data-icon_stroke"),icon_stroke_width:icon_stroke_width,avatar_effect:restore.getAttribute("data-avatar_effect"),icon_effect:restore.getAttribute("data-icon_effect"),balloon_effect:restore.getAttribute("data-balloon_effect"),avatar_effect_duration:avatar_effect_duration,icon_effect_duration:icon_effect_duration,balloon_effect_duration:balloon_effect_duration,avatar_in_view:restore.getAttribute("data-avatar_in_view"),icon_in_view:restore.getAttribute("data-icon_in_view"),balloon_in_view:restore.getAttribute("data-balloon_in_view"),avatar_in_view_duration:avatar_in_view_duration,icon_in_view_duration:icon_in_view_duration,balloon_in_view_duration:balloon_in_view_duration,quote_effect:restore.getAttribute("data-quote_effect"),quote_effect_speed:quote_effect_speed,quote_effect_minimum:word_balloon_block_checkbox(restore.getAttribute("data-quote_effect_minimum")),avatar_filter:restore.getAttribute("data-avatar_filter"),icon_filter:restore.getAttribute("data-icon_filter"),balloon_filter:restore.getAttribute("data-balloon_filter"),name_color:restore.getAttribute("data-name_color"),name_font_size:name_font_size,status:restore.getAttribute("data-status"),status_color:restore.getAttribute("data-status_color"),sound_ID:sound_ID,sound_URL:restore.getAttribute("data-status_sound_url"),sound_FileName:restore.getAttribute("data-status_sound_filename"),balloon_m:restore.getAttribute("data-balloon_m"),avatar_size_m:restore.getAttribute("data-avatar_size_m"),name_position_m:restore.getAttribute("data-name_position_m"),font_size_m:restore.getAttribute("data-font_size_m"),favorite:""})},options:FavoriteData})),el("div",{className:pro_display,style:{display:TemplateDisplay}},el(SelectControl,{label:__("Template","word-balloon"),value:template,onChange:function onChange(value){return setAttributes({quote:TemplateData[value].label,template:0})},options:TemplateData})),el("div",{className:display_innerblocks_mode,style:{}},el(PanelRow,{className:""},el("label",{htmlFor:"w_b_innerblocks_mode"},__("InnerBlocks","word-balloon")),el(FormToggle,{title:__("InnerBlocks","word-balloon"),id:"w_b_innerblocks_mode",style:{display:display_innerblocks_mode},checked:innerblocks_mode,onChange:function onChange(){return setAttributes({innerblocks_mode:!innerblocks_mode})}})))),el(PanelBody,{icon:MobileIcon,title:__("Mobile","word-balloon"),initialOpen:!1,className:pro_display},el(SelectControl,{label:__("Balloon","word-balloon"),value:balloon_m,onChange:function onChange(value){return setAttributes({balloon_m:value})},options:balloonData_m}),el(SelectControl,{label:__("Avatar Size","word-balloon"),value:avatar_size_m,onChange:function onChange(value){return setAttributes({avatar_size_m:value})},options:[{value:"",label:""},{value:"S",label:__("Small","word-balloon")},{value:"M",label:__("Medium","word-balloon")},{value:"L",label:__("Large","word-balloon")}]}),el(SelectControl,{label:__("Font size","word-balloon"),value:font_size_m,onChange:function onChange(value){return setAttributes({font_size_m:value})},options:font_size_m_type}),el(SelectControl,{label:__("Name Position","word-balloon"),value:name_position_m,onChange:function onChange(value){return setAttributes({name_position_m:value})},options:name_position_m_type})),el(PanelBody,{icon:AvatarIcon,title:__("Avatar","word-balloon"),initialOpen:!1},el("label",{htmlFor:"w_b_avatar_size_option_wrap"},__("Size","word-balloon")),word_balloon_sml_size_control("avatar_size"),el(SelectControl,{label:__("Rounded corners","word-balloon"),value:type_radius,onChange:function onChange(value){return setAttributes({type_radius:value})},options:[{value:"false",label:_x("Square","Border_radius_name","word-balloon")},{value:"radius_3",label:_x("3%","Block_Border_radius_name","word-balloon")},{value:"radius_12",label:_x("12%","Block_Border_radius_name","word-balloon")},{value:"radius_20",label:_x("20%","Block_Border_radius_name","word-balloon")},{value:"true",label:_x("Rounded","Border_radius_name","word-balloon")}]}),el(PanelRow,{className:""},el("label",{htmlFor:"avatar_hide"},__("Hide avatar","word-balloon")),el(FormToggle,{title:__("Hide avatar","word-balloon"),id:"avatar_hide",checked:avatar_hide,onChange:function onChange(){return setAttributes({avatar_hide:!avatar_hide})}})),el(PanelRow,{className:""},__("Flip","word-balloon")),el(PanelRow,{className:""},el("label",{htmlFor:"avatar_flip_h"},__("Horizontal","word-balloon")),el(FormToggle,{title:__("Horizontal","word-balloon"),id:"avatar_flip_h",label:__("Horizontal","word-balloon"),checked:avatar_flip_h,onChange:function onChange(){return setAttributes({avatar_flip_h:!avatar_flip_h})}})),el(PanelRow,{className:""},el("label",{htmlFor:"avatar_flip_v"},__("Vertical","word-balloon")),el(FormToggle,{title:__("Vertical","word-balloon"),id:"avatar_flip_v",label:__("Vertical","word-balloon"),checked:avatar_flip_v,onChange:function onChange(){return setAttributes({avatar_flip_v:!avatar_flip_v})}})),el(PanelRow,{className:"w_b_block_label_title"},__("Border","word-balloon")),el(PanelRow,{className:""},el("label",{htmlFor:"avatar_border"},__("On border around","word-balloon")),el(FormToggle,{title:__("On border around","word-balloon"),id:"avatar_border",checked:avatar_border,onChange:function onChange(){return setAttributes({avatar_border:!avatar_border})}})),el(PanelRow,{className:"w_b_mb_32"},el("label",{htmlFor:"avatar_shadow"},__("Shadow effect","word-balloon")),el(FormToggle,{title:__("Shadow effect","word-balloon"),id:"avatar_shadow",checked:avatar_shadow,onChange:function onChange(){return setAttributes({avatar_shadow:!avatar_shadow})}})),el(PanelColorSettings,{title:__("Border Color","word-balloon"),initialOpen:!0,className:pro_display,colorSettings:[{value:avatar_border_color,onChange:function onChange(value){return setAttributes({avatar_border_color:value})},label:""}]}),el(SelectControl,{label:__("Border Style","word-balloon"),value:avatar_border_style,className:pro_display,onChange:function onChange(value){return setAttributes({avatar_border_style:value})},options:BorderStyleSpaceData}),el(RangeControl,{label:__("Border Width","word-balloon"),value:avatar_border_width,className:pro_display,onChange:function onChange(value){return setAttributes({avatar_border_width:value})},min:1,max:50,initialPosition:1}),el(PanelColorSettings,{title:__("Background Color","word-balloon"),initialOpen:!0,className:pro_display,colorSettings:[{value:avatar_background_color,onChange:function onChange(value){return setAttributes({avatar_background_color:value})},label:""}]}),el(PanelRow,{className:"w_b_block_label_title"},__("Name","word-balloon")),el(SelectControl,{label:__("Position","word-balloon"),value:name_position,onChange:function onChange(value){return setAttributes({name_position:value})},options:name_position_type}),el(TextControl,{label:__("Name","word-balloon"),value:avatar_name,onChange:function onChange(value){return setAttributes({avatar_name:value})}}),el(PanelColorSettings,{title:__("Name Color","word-balloon"),initialOpen:!0,colorSettings:[{value:name_color,onChange:function onChange(value){return setAttributes({name_color:value})},label:""}]}),el(RangeControl,{label:__("Name Size","word-balloon"),value:name_font_size,className:pro_display,onChange:function onChange(value){return setAttributes({name_font_size:value||""})},min:10,max:32,allowReset:!0})),el(PanelBody,{icon:BalloonIcon,title:__("Balloon","word-balloon"),initialOpen:!1},el("div",{className:"",style:{display:display_richtext}},el(FontSizePicker,{fontSizes:fontSizes,value:font_size,fallbackFontSize:"",withSlider:!0,onChange:function onChange(value){return setAttributes({font_size:value})}})),el(PanelColorSettings,{title:__("Text","word-balloon"),initialOpen:!0,colorSettings:[{value:text_color,onChange:function onChange(value){return setAttributes({text_color:value})},label:""}]}),el("div",{className:"",style:{display:w_b_Style.operation.background_color_display}},el(PanelColorSettings,{title:__("Background Color","word-balloon"),initialOpen:!0,colorSettings:[{value:background_color,onChange:function onChange(value){return setAttributes({background_color:value})},label:""}]})),el("div",{className:"",style:{display:w_b_Style.operation.border_color_display}},el(PanelColorSettings,{title:__("Border Color","word-balloon"),initialOpen:!0,colorSettings:[{value:border_color,onChange:function onChange(value){return setAttributes({border_color:value})},label:""}]})),el("div",{className:"",style:{display:w_b_Style.operation.border_style_display}},el(SelectControl,{label:__("Border Style","word-balloon"),value:border_style,onChange:function onChange(value){return setAttributes({border_style:value})},options:BorderStyleSpaceData})),el("div",{className:"",style:{display:w_b_Style.operation.border_width_display}},el(RangeControl,{label:__("Border Width","word-balloon"),value:border_width,onChange:function onChange(value){return setAttributes({border_width:value})},min:1,max:50,initialPosition:1})),el("div",{className:"",style:{display:w_b_Style.operation.balloon_shadow_color_display}},el(PanelColorSettings,{title:__("Shadow Color","word-balloon"),initialOpen:!0,colorSettings:[{value:balloon_shadow_color,onChange:function onChange(value){return setAttributes({balloon_shadow_color:value})},label:""}]})),el(PanelRow,{className:""},el("label",{htmlFor:"balloon_shadow"},__("Shadow effect","word-balloon")),el(FormToggle,{title:__("Shadow effect","word-balloon"),id:"balloon_shadow",checked:balloon_shadow,onChange:function onChange(){return setAttributes({balloon_shadow:!balloon_shadow})}})),el(PanelRow,{className:""},el("label",{htmlFor:"full_width"},__("Full width","word-balloon")),el(FormToggle,{title:__("Full width","word-balloon"),id:"full_width",checked:balloon_full_width,onChange:function onChange(){return setAttributes({balloon_full_width:!balloon_full_width})}})),el(PanelRow,{className:""},el("label",{htmlFor:"box_center"},__("Align center","word-balloon")),el(FormToggle,{title:__("Align center","word-balloon"),id:"box_center",checked:box_center,onChange:function onChange(){return setAttributes({box_center:!box_center})}})),el(PanelRow,{className:""},el("label",{htmlFor:"balloon_hide"},__("Hide","word-balloon")),el(FormToggle,{title:__("Hide","word-balloon"),id:"balloon_hide",checked:balloon_hide,onChange:function onChange(){return setAttributes({balloon_hide:!balloon_hide})}})),el(PanelRow,{className:pro_display},el("label",{htmlFor:"box_margin"},__("Margin","word-balloon")),el(FormToggle,{title:__("Margin","word-balloon"),id:"box_margin",checked:box_margin,onChange:function onChange(){return setAttributes({box_margin:!box_margin})}})),el(PanelRow,{className:""},el("label",{htmlFor:"vertical_writing"},__("Vertical writing","word-balloon")),el(FormToggle,{title:__("Vertical writing","word-balloon"),id:"vertical_writing",checked:balloon_vertical_writing,onChange:function onChange(){return setAttributes({balloon_vertical_writing:!balloon_vertical_writing})}})),el("label",{htmlFor:"vertical_writing"},__("Vertical writing can't preview","word-balloon"))),el(PanelBody,{icon:IconIcon,title:__("Icon","word-balloon"),initialOpen:!1},el(SelectControl,{label:__("Icon","word-balloon"),value:icon_type,onChange:function onChange(value){return setAttributes(""===value?{icon_type:""}:{icon_type:value,icon_fill:document.getElementById("custom_icon_"+value).getAttribute("data-fill"),icon_stroke:document.getElementById("custom_icon_"+value).getAttribute("data-stroke"),icon_stroke_width:Number(document.getElementById("custom_icon_"+value).getAttribute("data-stroke_width"))})},options:iconData}),el("label",{htmlFor:"w_b_icon_position_arrows_div"},__("Position","word-balloon")),word_balloon_icon_position_arrows(),el("label",{htmlFor:"w_b_icon_size_option_wrap"},__("Size","word-balloon")),word_balloon_sml_size_control("icon_size"),el(PanelRow,{className:""},__("Flip","word-balloon")),el(PanelRow,{className:""},el("label",{htmlFor:"icon_flip_h"},__("Horizontal","word-balloon")),el(FormToggle,{title:__("Horizontal","word-balloon"),id:"icon_flip_h",label:__("Horizontal","word-balloon"),checked:icon_flip_h,onChange:function onChange(){return setAttributes({icon_flip_h:!icon_flip_h})}})),el(PanelRow,{className:"w_b_mb_32"},el("label",{htmlFor:"icon_flip_v"},__("Vertical","word-balloon")),el(FormToggle,{title:__("Vertical","word-balloon"),id:"icon_flip_v",label:__("Vertical","word-balloon"),checked:icon_flip_v,onChange:function onChange(){return setAttributes({icon_flip_v:!icon_flip_v})}})),el(PanelColorSettings,{title:__("Color","word-balloon"),initialOpen:!0,className:pro_display,colorSettings:[{value:icon_fill,onChange:function onChange(value){return"undefined"===value&&(value=document.getElementById("custom_icon_"+icon_type).getAttribute("data-fill")),setAttributes({icon_fill:value})},label:""}]}),el(PanelColorSettings,{title:__("Border Color","word-balloon"),initialOpen:!0,className:pro_display,colorSettings:[{value:icon_stroke,onChange:function onChange(value){return"undefined"===value&&(value=document.getElementById("custom_icon_"+icon_type).getAttribute("data-stroke")),setAttributes({icon_stroke:value})},label:""}]}),el(RangeControl,{label:__("Border Width","word-balloon"),value:icon_stroke_width,className:pro_display,onChange:function onChange(value){return"undefined"===value&&(value=document.getElementById("custom_icon_"+icon_type).getAttribute("data-stroke-width")),setAttributes({icon_stroke_width:value})},min:1,max:50,initialPosition:1})),el(PanelBody,{icon:EffectIcon,title:__("Effects","word-balloon"),initialOpen:!1},el(SelectControl,{label:__("Avatar","word-balloon"),value:avatar_effect,onChange:function onChange(value){return setAttributes({avatar_effect:value})},options:effectData}),el(RangeControl,{label:__("Speed","word-balloon"),value:avatar_effect_duration,className:pro_display,onChange:function onChange(value){return setAttributes({avatar_effect_duration:value||""})},min:.1,max:99,step:.1,initialPosition:5,allowReset:!0}),el(SelectControl,{label:__("Icon","word-balloon"),value:icon_effect,onChange:function onChange(value){return setAttributes({icon_effect:value})},options:effectData}),el(RangeControl,{label:__("Speed","word-balloon"),value:icon_effect_duration,className:pro_display,onChange:function onChange(value){return setAttributes({icon_effect_duration:value||""})},min:.1,max:99,step:.1,initialPosition:5,allowReset:!0}),el(SelectControl,{label:__("Balloon","word-balloon"),value:balloon_effect,onChange:function onChange(value){return setAttributes({balloon_effect:value})},options:effectData}),el(RangeControl,{label:__("Speed","word-balloon"),value:balloon_effect_duration,className:pro_display,onChange:function onChange(value){return setAttributes({balloon_effect_duration:value||""})},min:.1,max:99,step:.1,initialPosition:5,allowReset:!0})),el(PanelBody,{icon:In_viewIcon,title:__("In view","word-balloon"),initialOpen:!1,className:pro_display},el(SelectControl,{label:__("Avatar","word-balloon"),value:avatar_in_view,onChange:function onChange(value){return setAttributes({avatar_in_view:value})},options:in_viewData}),el(RangeControl,{label:__("Speed","word-balloon"),value:avatar_in_view_duration,className:pro_display,onChange:function onChange(value){return setAttributes({avatar_in_view_duration:value||""})},min:.1,max:99,step:.1,initialPosition:5,allowReset:!0}),el(SelectControl,{label:__("Icon","word-balloon"),value:icon_in_view,onChange:function onChange(value){return setAttributes({icon_in_view:value})},options:in_viewData}),el(RangeControl,{label:__("Speed","word-balloon"),value:icon_in_view_duration,className:pro_display,onChange:function onChange(value){return setAttributes({icon_in_view_duration:value||""})},min:.1,max:99,step:.1,initialPosition:5,allowReset:!0}),el(SelectControl,{label:__("Balloon","word-balloon"),value:balloon_in_view,onChange:function onChange(value){return setAttributes({balloon_in_view:value})},options:in_view_balloonData}),el(RangeControl,{label:__("Speed","word-balloon"),value:balloon_in_view_duration,className:pro_display,onChange:function onChange(value){return setAttributes({balloon_in_view_duration:value||""})},min:.1,max:99,step:.1,initialPosition:5,allowReset:!0}),el("div",{className:"w_b_annotation"},__("Can't preview","word-balloon")),el(SelectControl,{label:__("Quote","word-balloon"),value:quote_effect,onChange:function onChange(value){return setAttributes({quote_effect:value})},options:quote_effectData}),el(PanelRow,{className:"w_b_mb_32"},el("label",{htmlFor:"quote_effect_minimum"},__("Minimum","word-balloon")),el(FormToggle,{title:__("Minimum","word-balloon"),id:"quote_effect_minimum",checked:quote_effect_minimum,onChange:function onChange(){return setAttributes({quote_effect_minimum:!quote_effect_minimum})}})),el(RangeControl,{label:__("Speed (millisecond)","word-balloon"),value:quote_effect_speed,className:pro_display,onChange:function onChange(value){return setAttributes({quote_effect_speed:value||90})},min:1,max:1e3,initialPosition:90,allowReset:!0})),el(PanelBody,{icon:FilterIcon,title:__("Filters","word-balloon"),initialOpen:!1},el(SelectControl,{label:__("Avatar","word-balloon"),value:avatar_filter,onChange:function onChange(value){return setAttributes({avatar_filter:value})},options:filterData}),el(SelectControl,{label:__("Icon","word-balloon"),value:icon_filter,onChange:function onChange(value){return setAttributes({icon_filter:value})},options:filterData}),el(SelectControl,{label:__("Balloon","word-balloon"),value:balloon_filter,onChange:function onChange(value){return setAttributes({balloon_filter:value})},options:filterData})),el(PanelBody,{title:__("Status","word-balloon"),initialOpen:!1},el(TextControl,{label:__("Status","word-balloon"),value:status,onChange:function onChange(value){return setAttributes({status:value})}}),el(PanelColorSettings,{title:__("Color","word-balloon"),initialOpen:!0,colorSettings:[{value:status_color,onChange:function onChange(value){return setAttributes({status_color:value})},label:""}]}),el(MediaUpload,{allowedTypes:"audio",onSelect:function onSelectAudio(newAudio){return setAttributes({sound_ID:newAudio.id,sound_URL:newAudio.url,sound_FileName:newAudio.filename})},render:function(obj){return el(Button,{className:"components-icon-button image-block-btn is-button is-default is-large",onClick:obj.open},el(Dashicon,{icon:"controls-volumeon"}),el("span",{},__("Sound","word-balloon")))}}),el("input",{type:"text",value:sound_FileName,disabled:"disabled"}),el(Button,{className:"components-icon-button image-block-btn is-button is-default is-large",onClick:function onClick(value){return setAttributes({sound_ID:"",sound_URL:"",sound_FileName:""})}},el("span",{},__("Clear","word-balloon"))))),el(BlockControls,null,el(AlignmentToolbar,{value:text_align,onChange:function onChangeAlignment(newAlignment){setAttributes({text_align:newAlignment})}})),el("div",{className:"w_b_box w_b_flex w_b_block_ed "+flex_center+" w_b_block_"+w_b_Class.w_b_box_over_under},el("div",{className:"w_b_wrap w_b_wrap_"+balloon+" w_b_flex "+flex_end+balloon_full_width_value},el("div",{className:"w_b_ava_box w_b_relative w_b_ava_"+position+" w_b_f_n"+w_b_Class.w_b_ava_box,style:{marginTop:data.style.w_b_ava_box.marginTop,marginBottom:data.style.w_b_ava_box.marginBottom,paddingTop:data.style.w_b_ava_box.paddingTop,paddingBottom:data.style.w_b_ava_box.paddingBottom,display:data.style.w_b_ava_box.display}},el("div",{className:"w_b_name w_b_lh"+w_b_Class.w_b_name_on_avatar,style:{color:name_color,fontSize:name_font_size,display:Name_display.style.on_avatar,marginTop:data.style.w_b_name.marginTop,marginRight:data.style.w_b_name.marginRight,marginBottom:data.style.w_b_name.marginBottom,marginLeft:data.style.w_b_name.marginLeft}},Name_display.position.on_avatar),el("div",{className:"w_b_icon_wrap w_b_relative"+w_b_Class.w_b_icon_wrap,style:{position:"relative"}},el("div",{className:"w_b_icon"+w_b_icon+icon_in_view_val,style:{position:"absolute",width:word_balloon_block_icon_size[icon_size]+"%",height:word_balloon_block_icon_size[icon_size]+"%",animationDuration:icon_in_view_duration_style}},el("div",{className:"w_b_icon_effect"+icon_effect_val,style:{animationDuration:icon_effect_duration_style}},el("img",{className:"w_b_icon_"+icon_type+icon_flip+icon_filter_val,src:icon_svg,style:{width:w_b_icon_style_width,height:w_b_icon_style_height}}))),el("div",{className:"w_b_ava_wrap"+avatar_in_view_val,style:{animationDuration:avatar_in_view_duration_style}},el("div",{className:"w_b_ava_effect w_b_flex w_b_oh w_b_size_"+avatar_size+avatar_effect_val+w_b_radius+avatar_shadow_val+avatar_border_val,style:{borderWidth:w_b_ava_wrap_style_border_width,borderColor:w_b_ava_wrap_style_border_color,borderStyle:w_b_ava_wrap_style_border_style,animationDuration:avatar_effect_duration_style,backgroundColor:w_b_ava_wrap_style_background_color}},el(MediaUpload,{allowedTypes:"image",onSelect:function onSelectImage(newImage){return setAttributes({avatar_src:newImage.url,avatar_name:"",avatar_id:"unset"})},render:function(obj){return el("img",{className:"w_b_ava_img w_b_w100 w_b_mp0 w_b_img"+avatar_flip+avatar_filter_val,src:avatarListData[avatar_ID].url,onClick:obj.open})}})))),el("div",{className:"w_b_name w_b_lh"+w_b_Class.w_b_name_under_avatar,style:{color:name_color,fontSize:name_font_size,display:Name_display.style.under_avatar,marginTop:data.style.w_b_name.marginTop,marginRight:data.style.w_b_name.marginRight,marginBottom:data.style.w_b_name.marginBottom,marginLeft:data.style.w_b_name.marginLeft}},Name_display.position.under_avatar)),el("div",{className:"w_b_bal_box w_b_bal_"+position+" w_b_relative w_b_w100"+w_b_Class.w_b_bal_box+balloon_in_view_val,style:{display:balloon_hide_val,animationDuration:balloon_in_view_duration_style}},el("div",{className:"w_b_space w_b_space_on_balloon",style:{width:0,height:0,margin:0,paddingTop:data.style.w_b_space_on_balloon.paddingTop}}),el("div",{className:"w_b_bal_outer w_b_relative w_b_flex"+balloon_full_width_value+balloon_effect_val,style:{animationDuration:balloon_effect_duration_style}},el("div",{className:"w_b_bal_wrap w_b_bal_wrap_"+position+balloon_full_width_value},el("div",{className:"w_b_name w_b_lh w_b_name_"+name_side+" w_b_ta_"+name_side,style:{color:name_color,fontSize:name_font_size,display:Name_display.style.on_balloon,marginTop:data.style.w_b_name.marginTop,marginRight:data.style.w_b_name.marginRight,marginBottom:data.style.w_b_name.marginBottom,marginLeft:data.style.w_b_name.marginLeft}},Name_display.position.on_balloon),el("div",{className:"w_b_block_bal w_b_bal w_b_relative w_b_"+balloon+" w_b_bal_"+position+" w_b_"+balloon+"_"+position+balloon_shadow_value+balloon_full_width_flex+balloon_filter_val,style:{marginRight:w_b_Style.w_b_bal.margin_right,marginLeft:w_b_Style.w_b_bal.margin_left,paddingRight:w_b_Style.w_b_bal.padding_right,paddingLeft:w_b_Style.w_b_bal.padding_left,minHeight:w_b_Style.w_b_bal.min_height,color:text_color,backgroundColor:background_color,borderColor:border_color_val,borderStyle:border_style,borderWidth:border_width,boxShadow:w_b_Style.w_b_bal.boxShadow,"--w_b_line":w_b_Style.w_b_bal.line_color,"--w_b_tail":w_b_Style.w_b_bal.tail_color,"--w_b_bump_b":w_b_Style.w_b_bal.bump_b_color,"--w_b_bump_a":w_b_Style.w_b_bal.bump_a_color,"--w_b_upper_b":w_b_Style.w_b_bal.upper_b_color,"--w_b_upper_a":w_b_Style.w_b_bal.upper_a_color,"--w_b_lower_b":w_b_Style.w_b_bal.lower_b_color,"--w_b_lower_a":w_b_Style.w_b_bal.lower_a_color,"--w_b_tail_2":w_b_Style.w_b_bal.tail_2_color,"--w_b_tail_3_b":w_b_Style.w_b_bal.tail_3_b_color,"--w_b_tail_3_a":w_b_Style.w_b_bal.tail_3_a_color,"--w_b_twin_t":w_b_Style.w_b_bal.twin_t_color}},el(RichText,{key:"editable",tagName:"p",placeholder:__("Place avatar's message here","word-balloon"),className:className,style:{textAlign:text_align,color:text_color,fontSize:balloon_font_size,display:display_richtext},onChange:function onChangeContent(newContent){setAttributes({quote:newContent})},value:quote}),el("div",{style:{display:display_innerblocks}},el(InnerBlocks,{template:BLOCKS_TEMPLATE}))),el("div",{className:"w_b_name w_b_lh w_b_name_"+name_side+" w_b_ta_"+name_side,style:{color:name_color,fontSize:name_font_size,display:Name_display.style.under_balloon,marginTop:data.style.w_b_name.marginTop,marginRight:data.style.w_b_name.marginRight,marginBottom:data.style.w_b_name.marginBottom,marginLeft:data.style.w_b_name.marginLeft}},Name_display.position.under_balloon)),el("div",{className:"w_b_status_box w_b_flex w_b_col w_b_f_n w_b_relative w_b_lh w_b_z2",style:{marginTop:data.style.w_b_status_box.marginTop,marginRight:data.style.w_b_status_box.marginRight,marginBottom:data.style.w_b_status_box.marginBottom,marginLeft:data.style.w_b_status_box.marginLeft,position:data.style.w_b_status_box.position,top:data.style.w_b_status_box.top,right:data.style.w_b_status_box.right,bottom:data.style.w_b_status_box.bottom,left:data.style.w_b_status_box.left,height:data.style.w_b_status_box.height,width:data.style.w_b_status_box.width,textAlign:data.style.w_b_status_box.textAlign}},el("div",{className:"w_b_status_sound w_b_mba",style:{display:data.style.w_b_status_sound.display,marginTop:data.style.w_b_status_sound.marginTop,marginRight:data.style.w_b_status_sound.marginRight,marginBottom:data.style.w_b_status_sound.marginBottom,marginLeft:data.style.w_b_status_sound.marginLeft}},el("div",{className:"w_b_sound",style:{textAlign:w_b_sound_style}},el("div",{className:"w_b_play_sound","data-audio_id":sound_ID,"data-audio_url":sound_URL,"data-play":word_balloon_url+"img/play.svg","data-speaker":word_balloon_url+"img/speaker.svg","data-flip":Sound_flip,onMouseEnter:function(newPlay){var play=newPlay.currentTarget.firstElementChild;play.src=word_balloon_url+"img/play.svg","R"===position&&play.classList.remove("w_b_flip_h")},onMouseLeave:function(newSpeaker){var speaker=newSpeaker.currentTarget.firstElementChild;speaker.src=word_balloon_url+"img/speaker.svg","R"===position&&speaker.classList.add("w_b_flip_h")},onClick:function(PlaySound){var play_icon=PlaySound.currentTarget,stop_icon=PlaySound.currentTarget.nextElementSibling;play_icon.style.display="none",stop_icon.style.display="block";var id=play_icon.getAttribute("data-audio_id");if(void 0===syncerSounds.flag[id]||1!=syncerSounds.flag[id]){var audio=document.createElement("audio");audio.id=id,audio.src=play_icon.getAttribute("data-audio_url"),document.body.appendChild(audio)}function endedCurrentSound(e){this.play_sound.style.display="block",this.stop_sound.style.display="none",word_balloon_stopCurrentSound()}word_balloon_stopCurrentSound(),document.getElementById(id).play(),syncerSounds.currentPlayID=id,syncerSounds.flag[id]=1,document.getElementById(id).addEventListener("ended",{play_sound:play_icon,stop_sound:stop_icon,handleEvent:endedCurrentSound})}},el("img",{src:word_balloon_url+"img/speaker.svg",className:Sound_flip,width:26,height:26,style:{cursor:"pointer"}})),el("div",{className:"w_b_stop_sound",style:{display:"none"},"data-audio_id":sound_ID,onClick:function(StopSound){StopSound.currentTarget.style.display="none",StopSound.currentTarget.previousElementSibling.style.display="block",word_balloon_stopCurrentSound()}},el("img",{src:word_balloon_url+"img/stop.svg",className:"",width:26,height:26,style:{cursor:"pointer"}})))),el("div",{className:"w_b_status w_b_mta w_b_h100 w_b_flex w_b_col w_b_jc_fe",style:{color:status_color},dangerouslySetInnerHTML:{__html:status}}))),el("div",{className:"w_b_space w_b_space_under_balloon",style:{width:0,height:0,margin:0,paddingBottom:data.style.w_b_space_under_balloon.paddingBottom}})))))},save:function save(_save_ref){var attributes=_save_ref.attributes,avatar_id=attributes.avatar_id,balloon_type=attributes.balloon,avatar_size=attributes.avatar_size,avatar_position=attributes.position,type_radius=attributes.type_radius,avatar_flip_h=attributes.avatar_flip_h,avatar_flip_v=attributes.avatar_flip_v,avatar_border=attributes.avatar_border,avatar_border_color=attributes.avatar_border_color,avatar_border_style=attributes.avatar_border_style,avatar_border_width=attributes.avatar_border_width,avatar_background_color=attributes.avatar_background_color,avatar_shadow=attributes.avatar_shadow,avatar_hide=attributes.avatar_hide,avatar_src=attributes.avatar_src,avatar_name=attributes.avatar_name,name_position=attributes.name_position,balloon_shadow=attributes.balloon_shadow,balloon_full_width=attributes.balloon_full_width,balloon_vertical_writing=attributes.balloon_vertical_writing,box_center=attributes.box_center,box_margin=attributes.box_margin,balloon_hide=attributes.balloon_hide,background_color=attributes.background_color,border_color=attributes.border_color,border_style=attributes.border_style,border_width=attributes.border_width,balloon_shadow_color=attributes.balloon_shadow_color,text_align=attributes.text_align,text_color=attributes.text_color,font_size=attributes.font_size,icon_type=attributes.icon_type,icon_position=attributes.icon_position,icon_size=attributes.icon_size,icon_flip_h=attributes.icon_flip_h,icon_flip_v=attributes.icon_flip_v,icon_fill=attributes.icon_fill,icon_stroke=attributes.icon_stroke,icon_stroke_width=attributes.icon_stroke_width,avatar_effect=attributes.avatar_effect,icon_effect=attributes.icon_effect,balloon_effect=attributes.balloon_effect,avatar_effect_duration=attributes.avatar_effect_duration,icon_effect_duration=attributes.icon_effect_duration,balloon_effect_duration=attributes.balloon_effect_duration,avatar_in_view=attributes.avatar_in_view,icon_in_view=attributes.icon_in_view,balloon_in_view=attributes.balloon_in_view,avatar_in_view_duration=attributes.avatar_in_view_duration,icon_in_view_duration=attributes.icon_in_view_duration,balloon_in_view_duration=attributes.balloon_in_view_duration,quote_effect=attributes.quote_effect,quote_effect_speed=attributes.quote_effect_speed,quote_effect_minimum=attributes.quote_effect_minimum,avatar_filter=attributes.avatar_filter,icon_filter=attributes.icon_filter,balloon_filter=attributes.balloon_filter,name_color=attributes.name_color,name_font_size=attributes.name_font_size,status=attributes.status,status_color=attributes.status_color,sound_ID=attributes.sound_ID,sound_URL=attributes.sound_URL,sound_FileName=attributes.sound_FileName,balloon_m=attributes.balloon_m,avatar_size_m=attributes.avatar_size_m,name_position_m=attributes.name_position_m,font_size_m=attributes.font_size_m,quote=attributes.quote,innerblocks_mode=attributes.innerblocks_mode,temp="",balloon_atts="",avatar_atts="",icon_atts="",status_atts="",mobile_atts="";0===avatar_id&&(avatar_id="mystery_men"),avatar_atts+=' id="'+avatar_id+'"',"unset"===avatar_id&&(avatar_atts+=' src="'+avatar_src+'"'),avatar_atts+=' size="'+avatar_size+'"',avatar_atts+=' position="'+avatar_position+'"',name_position&&(avatar_atts+=' name_position="'+name_position+'"'),avatar_atts+=' radius="'+type_radius+'"',avatar_shadow&&(avatar_atts+=' avatar_shadow="true"'),avatar_hide&&(avatar_atts+=' avatar_hide="true"'),"mystery_men"===avatar_id?avatar_atts+=void 0!==avatar_name?' name="'+avatar_name+'"':' name="false"':isset("unset"===avatar_id)?avatar_atts+=void 0!==avatar_name?' name="'+avatar_name+'"':' name=""':isset(avatarData[avatar_id])&&(void 0===avatar_name?avatar_name=avatarData[avatar_id].name:avatar_name!==avatarListData[avatar_id].name&&(avatar_atts+=' name="'+avatar_name+'"')),""!==name_color&&(avatar_atts+=' name_color="'+name_color+'"'),""!==name_font_size&&(avatar_atts+=' name_font_size="'+name_font_size+'"'),avatar_border&&(avatar_atts+=' avatar_border="true"',avatar_border_color&&(avatar_atts+=' avatar_border_color="'+avatar_border_color+'"'),avatar_border_style&&(avatar_atts+=' avatar_border_style="'+avatar_border_style+'"'),avatar_border_width&&(avatar_atts+=' avatar_border_width="'+avatar_border_width+'"')),avatar_background_color&&(avatar_atts+=' avatar_background_color="'+avatar_background_color+'"'),avatar_flip_h&&avatar_flip_v?avatar_atts+=' avatar_flip="hv"':avatar_flip_h?avatar_atts+=' avatar_flip="h"':avatar_flip_v&&(avatar_atts+=' avatar_flip="v"'),""!==avatar_effect&&(avatar_atts+=' avatar_effect="'+avatar_effect+'"',""!==avatar_effect_duration&&(avatar_atts+=' avatar_effect_duration="'+avatar_effect_duration+'"')),""!==avatar_filter&&(avatar_atts+=' avatar_filter="'+avatar_filter+'"'),""!==avatar_in_view&&(avatar_atts+=' avatar_in_view="'+avatar_in_view+'"',""!==avatar_in_view_duration&&(avatar_atts+=' avatar_in_view_duration="'+avatar_in_view_duration+'"')),""!==icon_type&&(icon_atts+=' icon_type="'+icon_type+'"',icon_atts+=' icon_position="'+icon_position+'" icon_size="'+icon_size+'"',icon_flip_h&&icon_flip_v?icon_atts+=' icon_flip="hv"':icon_flip_h?icon_atts+=' icon_flip="h"':icon_flip_v&&(icon_atts+=' icon_flip="v"'),""!==icon_effect&&(icon_atts+=' icon_effect="'+icon_effect+'"',""!==icon_effect_duration&&(icon_atts+=' icon_effect_duration="'+icon_effect_duration+'"')),""!==icon_filter&&(icon_atts+=' icon_filter="'+icon_filter+'"'),""!==icon_in_view&&(icon_atts+=' icon_in_view="'+icon_in_view+'"',""!==icon_in_view_duration&&(icon_atts+=' icon_in_view_duration="'+icon_in_view_duration+'"')),""!==icon_fill&&(icon_atts+=' icon_fill="'+icon_fill+'"'),""!==icon_stroke&&(icon_atts+=' icon_stroke="'+icon_stroke+'"'),""!==icon_stroke_width&&null!==icon_stroke_width&&(icon_atts+=' icon_stroke_width="'+icon_stroke_width+'"')),balloon_atts+=' balloon="'+balloon_type+'"',balloon_shadow&&(balloon_atts+=' balloon_shadow="true"'),balloon_full_width&&(balloon_atts+=' balloon_full_width="true"'),balloon_vertical_writing&&(balloon_atts+=' balloon_vertical_writing="true"'),box_center&&(balloon_atts+=' box_center="true"'),balloon_hide&&(balloon_atts+=' balloon_hide="true"'),box_margin&&(balloon_atts+=' box_margin="true"'),"center"===text_align?balloon_atts+=' text_align="C"':"right"===text_align&&(balloon_atts+=' text_align="R"'),""!==font_size&&(balloon_atts+=' font_size="'+font_size+'"'),""!==balloon_effect&&(balloon_atts+=' balloon_effect="'+balloon_effect+'"',""!==balloon_effect_duration&&(balloon_atts+=' balloon_effect_duration="'+balloon_effect_duration+'"')),""!==balloon_filter&&(balloon_atts+=' balloon_filter="'+balloon_filter+'"'),""!==balloon_in_view&&(balloon_atts+=' balloon_in_view="'+balloon_in_view+'"',""!==balloon_in_view_duration&&(balloon_atts+=' balloon_in_view_duration="'+balloon_effect_duration+'"')),""!==quote_effect&&(balloon_atts+=' quote_effect="'+quote_effect+'"',""!==quote_effect_speed&&(balloon_atts+=' quote_effect_speed="'+quote_effect_speed+'"'),quote_effect_minimum&&(balloon_atts+=' quote_effect_minimum="true"')),isset(background_color)||(background_color=""),isset(border_color)||(border_color=""),isset(balloon_shadow_color)||(balloon_shadow_color=""),isset(text_color)||(text_color=""),text_color&&(balloon_atts+=' font_color="'+text_color+'"'),-1!==["line","round","soi","tail","bump","upper","lower","rpg_1","rpg_3","tail_2","tail_3","twin_t","topic"].indexOf(balloon_type)&&""!==background_color&&(balloon_atts+=' bg_color="'+background_color+'"'),-1!==["round","round_2"].indexOf(balloon_type)&&(""!==border_style&&(balloon_atts+=' border_style="'+border_style+'"'),""!==border_width&&(balloon_atts+=' border_width="'+border_width+'"')),-1!==["round","bump","upper","lower","rpg_1","rpg_3","round_2","tail_3","twin_t","topic"].indexOf(balloon_type)&&""!==border_color&&(balloon_atts+=' border_color="'+border_color+'"'),-1!==["rpg_3"].indexOf(balloon_type)&&""!==balloon_shadow_color&&(balloon_atts+=' balloon_shadow_color="'+balloon_shadow_color+'"'),""!==sound_ID&&(status_atts+=' sound="'+sound_ID+'"'),""!==status&&(status_atts+=' status="'+status+'"',""!==status_color&&(status_atts+=' status_color="'+status_color+'"')),isset(balloon_m)||(balloon_m=""),isset(avatar_size_m)||(avatar_size_m=""),isset(name_position_m)||(name_position_m=""),isset(font_size_m)||(font_size_m=""),""!==balloon_m&&(mobile_atts+=' balloon_m="'+balloon_m+'"'),""!==avatar_size_m&&(mobile_atts+=' avatar_size_m="'+avatar_size_m+'"'),""!==name_position_m&&(mobile_atts+=' name_position_m="'+name_position_m+'"'),""!==font_size_m&&(mobile_atts+=' font_size_m="'+font_size_m+'"');var shortcode_front="[word_balloon"+avatar_atts+balloon_atts+icon_atts+status_atts+mobile_atts+"]",shortcode_end="[/word_balloon]";return innerblocks_mode?el("div",{},el(RichText.Content,{value:shortcode_front}),el("div",{className:"w_b_block_quote"},el(InnerBlocks.Content,null)),el(RichText.Content,{value:shortcode_end})):el("div",{},shortcode_front,el(RichText.Content,{style:{textAlign:text_align},value:quote,tagName:"p"}),shortcode_end)}});