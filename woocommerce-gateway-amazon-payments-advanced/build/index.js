!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=56)}([function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(29))},function(t,e){t.exports=window.wp.element},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(7),o=Function.prototype,i=o.bind,a=o.call,c=r&&i.bind(a,a);t.exports=r?function(t){return t&&c(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,n){var r=n(2);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){t.exports=window.wp.i18n},function(t,e,n){var r=n(2);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},function(t,e,n){var r=n(4);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},function(t,e){t.exports=window.wp.htmlEntities},function(t,e,n){var r=n(7),o=Function.prototype,i=o.apply,a=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},function(t,e,n){var r=n(7),o=Function.prototype.call;t.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},function(t,e,n){var r=n(13),o=n(0),i=n(4),a=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t])||a(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e){t.exports={}},function(t,e,n){var r=n(3),o=n(47),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(0).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},function(t,e,n){var r=n(35),o=n(18);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},function(t,e,n){var r=n(0),o=n(12),i=n(4),a=n(36),c=n(19),u=r.Object;t.exports=c?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return i(e)&&a(e.prototype,u(t))}},function(t,e,n){var r=n(20);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(37),o=n(2);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,e,n){var r=n(0),o=n(4),i=n(40),a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a function")}},function(t,e,n){var r=n(5),o=n(2),i=n(49);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){t.exports=n(25)},function(t,e){t.exports=window.React},function(t,e,n){var r=n(26);t.exports=r},function(t,e,n){n(27);var r=n(13),o=n(10);r.JSON||(r.JSON={stringify:JSON.stringify}),t.exports=function(t,e,n){return o(r.JSON.stringify,null,arguments)}},function(t,e,n){var r=n(28),o=n(0),i=n(12),a=n(10),c=n(3),u=n(2),s=o.Array,f=i("JSON","stringify"),p=c(/./.exec),l=c("".charAt),y=c("".charCodeAt),d=c("".replace),v=c(1..toString),m=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,g=/^[\uDC00-\uDFFF]$/,h=function(t,e,n){var r=l(n,e-1),o=l(n,e+1);return p(b,t)&&!p(g,o)||p(g,t)&&!p(b,r)?"\\u"+v(y(t,0),16):t},w=u((function(){return'"\\udf06\\ud834"'!==f("\udf06\ud834")||'"\\udead"'!==f("\udead")}));f&&r({target:"JSON",stat:!0,forced:w},{stringify:function(t,e,n){for(var r=0,o=arguments.length,i=s(o);r<o;r++)i[r]=arguments[r];var c=a(f,null,i);return"string"==typeof c?d(c,m,h):c}})},function(t,e,n){"use strict";var r=n(0),o=n(10),i=n(3),a=n(4),c=n(30).f,u=n(50),s=n(13),f=n(51),p=n(52),l=n(14),y=function(t){var e=function(n,r,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,i)}return o(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,o,d,v,m,b,g,h,w=t.target,O=t.global,x=t.stat,_=t.proto,j=O?r:x?r[w]:(r[w]||{}).prototype,S=O?s:s[w]||p(s,w,{})[w],P=S.prototype;for(d in e)n=!u(O?d:w+(x?".":"#")+d,t.forced)&&j&&l(j,d),m=S[d],n&&(b=t.noTargetGet?(h=c(j,d))&&h.value:j[d]),v=n&&b?b:e[d],n&&typeof m==typeof v||(g=t.bind&&n?f(v,r):t.wrap&&n?y(v):_&&a(v)?i(v):v,(t.sham||v&&v.sham||m&&m.sham)&&p(g,"sham",!0),p(S,d,g),_&&(l(s,o=w+"Prototype")||p(s,o,{}),p(s[o],d,v),t.real&&P&&!P[d]&&p(P,d,v)))}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(5),o=n(11),i=n(31),a=n(15),c=n(32),u=n(17),s=n(14),f=n(22),p=Object.getOwnPropertyDescriptor;e.f=r?p:function(t,e){if(t=c(t),e=u(e),f)try{return p(t,e)}catch(t){}if(s(t,e))return a(!o(i.f,t,e),t[e])}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(33),o=n(16);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(0),o=n(3),i=n(2),a=n(34),c=r.Object,u=o("".split);t.exports=i((function(){return!c("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?u(t,""):c(t)}:c},function(t,e,n){var r=n(3),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},function(t,e,n){var r=n(0),o=n(11),i=n(8),a=n(18),c=n(39),u=n(41),s=n(42),f=r.TypeError,p=s("toPrimitive");t.exports=function(t,e){if(!i(t)||a(t))return t;var n,r=c(t,p);if(r){if(void 0===e&&(e="default"),n=o(r,t,e),!i(n)||a(n))return n;throw f("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},function(t,e,n){var r=n(3);t.exports=r({}.isPrototypeOf)},function(t,e,n){var r,o,i=n(0),a=n(38),c=i.process,u=i.Deno,s=c&&c.versions||u&&u.version,f=s&&s.v8;f&&(o=(r=f.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},function(t,e,n){var r=n(12);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(21);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},function(t,e,n){var r=n(0).String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},function(t,e,n){var r=n(0),o=n(11),i=n(4),a=n(8),c=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&i(n=t.toString)&&!a(r=o(n,t)))return r;if(i(n=t.valueOf)&&!a(r=o(n,t)))return r;if("string"!==e&&i(n=t.toString)&&!a(r=o(n,t)))return r;throw c("Can't convert object to primitive value")}},function(t,e,n){var r=n(0),o=n(43),i=n(14),a=n(48),c=n(20),u=n(19),s=o("wks"),f=r.Symbol,p=f&&f.for,l=u?f:f&&f.withoutSetter||a;t.exports=function(t){if(!i(s,t)||!c&&"string"!=typeof s[t]){var e="Symbol."+t;c&&i(f,t)?s[t]=f[t]:s[t]=u&&p?p(e):l(e)}return s[t]}},function(t,e,n){var r=n(44),o=n(45);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(t,e){t.exports=!0},function(t,e,n){var r=n(0),o=n(46),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(0),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(0),o=n(16),i=r.Object;t.exports=function(t){return i(o(t))}},function(t,e,n){var r=n(3),o=0,i=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},function(t,e,n){var r=n(0),o=n(8),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(2),o=n(4),i=/#|\.prototype\./,a=function(t,e){var n=u[c(t)];return n==f||n!=s&&(o(e)?r(e):!!e)},c=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=a.data={},s=a.NATIVE="N",f=a.POLYFILL="P";t.exports=a},function(t,e,n){var r=n(3),o=n(21),i=n(7),a=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?a(t,e):function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(5),o=n(53),i=n(15);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(0),o=n(5),i=n(22),a=n(54),c=n(55),u=n(17),s=r.TypeError,f=Object.defineProperty,p=Object.getOwnPropertyDescriptor;e.f=o?a?function(t,e,n){if(c(t),e=u(e),c(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var r=p(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return f(t,e,n)}:f:function(t,e,n){if(c(t),e=u(e),c(n),i)try{return f(t,e,n)}catch(t){}if("get"in n||"set"in n)throw s("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(5),o=n(2);t.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(t,e,n){var r=n(0),o=n(8),i=r.String,a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not an object")}},function(t,e,n){"use strict";n.r(e);var r=n(1),o=n(6),i=n(9);const a=t=>{const e=wc.wcSettings.getSetting(t,null);if(!e)throw new Error("Amazon Pay initialization data is not available");return e};var c=n(23),u=n.n(c);const s=(t,e)=>({merchantId:amazon_payments_advanced.merchant_id,ledgerCurrency:amazon_payments_advanced.ledger_currency,sandbox:"1"===amazon_payments_advanced.sandbox,placement:amazon_payments_advanced.placement,buttonColor:amazon_payments_advanced.button_color,checkoutLanguage:""!==amazon_payments_advanced.button_language?amazon_payments_advanced.button_language.replace("-","_"):void 0,productType:void 0!==e.payloadJSON.addressDetails?"PayAndShip":"PayOnly"});var f=n(24),p=n.n(f);const l=()=>{const t=a("amazon_payments_advanced_data");return Object(i.decodeEntities)(t.description||"")},y=t=>(Object(r.useEffect)(()=>{const e=t.eventRegistration.onCheckoutAfterProcessingWithSuccess(async t=>{let{processingResponse:e}=t;const n=e.paymentDetails||{};return((t,e,n)=>{const r=((t,e,n)=>{let r=null;const o=document.querySelectorAll(t);for(const t of o){const e="#"+t.getAttribute("id"),o=s(0,n);r=amazon.Pay.renderButton(e,o)}return r})(t,0,n=JSON.parse(n));null!==r&&(n.payloadJSON=u()(n.payloadJSON),r.initCheckout({createCheckoutSessionConfig:n}))})("#classic_pay_with_amazon",0,null==n?void 0:n.amazonCreateCheckoutParams),!0});return()=>e()},[t.eventRegistration.onCheckoutAfterProcessingWithSuccess,t.emitResponse.noticeContexts.PAYMENTS,t.emitResponse.responseTypes.ERROR,t.emitResponse.responseTypes.SUCCESS]),Object(r.useEffect)(()=>{const e=t.eventRegistration.onPaymentProcessing(async()=>{const t=document.getElementById("shipping-phone"),e=document.getElementById("phone");return!!(null!=t&&t.value||null!=e&&e.value)||{type:"error",message:Object(o.__)("A phone number is required to complete your checkout through Amazon Pay.","woocommerce-gateway-amazon-payments-advanced")}});return()=>e()},[t.eventRegistration.onPaymentProcessing,t.emitResponse.noticeContexts.PAYMENTS,t.emitResponse.responseTypes.ERROR,t.emitResponse.responseTypes.SUCCESS]),Object(r.createElement)("div",{id:"classic_pay_with_amazon"})),d=t=>Object(r.createElement)(p.a.Fragment,null,Object(r.createElement)(l,null),Object(r.createElement)(y,t));var v;const m=a("amazon_payments_advanced_data"),b=Object(o.__)("Amazon Pay","woocommerce-gateway-amazon-payments-advanced"),g=Object(i.decodeEntities)(m.title)||b,h=t=>{let{RenderedComponent:e,...n}=t;const[o,i]=Object(r.useState)("");return Object(r.useEffect)(()=>{if(o)throw new Error(o)},[o]),Object(r.createElement)(e,n)},w={name:"amazon_payments_advanced",label:Object(r.createElement)(t=>{const{PaymentMethodLabel:e}=t.components;return Object(r.createElement)(e,{text:g})},null),placeOrderButtonLabel:Object(o.__)("Proceed to Amazon","woocommerce-gateway-amazon-payments-advanced"),content:Object(r.createElement)(h,{RenderedComponent:d}),edit:Object(r.createElement)(h,{RenderedComponent:d}),canMakePayment:()=>!0,ariaLabel:g,supports:{features:null!==(v=null==m?void 0:m.supports)&&void 0!==v?v:[]}},{registerPaymentMethod:O}=wc.wcBlocksRegistry;O(w)}]);