{"version":3,"file":"commons.js","mappings":"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","sources":["webpack://wc_stripe/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/construct.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/createClass.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/extends.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/inherits.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/typeof.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://wc_stripe/./node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js","webpack://wc_stripe/./node_modules/@stripe/stripe-js/dist/stripe.esm.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/index.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/installments/index.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/payment-method-label/index.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/payment-method/index.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/radio-option/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/ach/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/ach/hooks/use-create-link-token.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/ach/hooks/use-initialize-plaid.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/ach/hooks/use-process-payment.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/ach/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/ach/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/applepay/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/applepay/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/components/bootstrap/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/components/custom-card-form.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/components/simple/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/components/stripe-card-form.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/payment-element.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/error-boundary.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/button.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/constants.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/hooks/use-error-message.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/hooks/use-payment-request.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/hooks/use-payments-client.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/util.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-after-process-payment.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-breakpoint-width.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-exported-values.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-payment-events.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-payment-request.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-process-checkout-error.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-process-payment-intent.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-setup-intent.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-stripe-error.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-update-payment-intent.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/link/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/link/hooks/use-link.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/link/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/afterpay.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/alipay.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/bancontact.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/becs.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/boleto.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/eps.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/fpx.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/giropay.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/grabpay.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/hooks/use-after-process-local-payment.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/hooks/use-create-source.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/hooks/use-validate-checkout.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/ideal.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/klarna.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/local-payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/multibanco.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/oxxo.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/p24.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/sepa.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/sofort.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/wechat.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/payment-request/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/payment-request/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/saved-card-component.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/util.js","webpack://wc_stripe/./node_modules/classnames/index.js"],"sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'react'], factory) :\n\t(global = global || self, factory(global.ReactStripe = {}, global.React));\n}(this, (function (exports, React) { 'use strict';\n\n\tReact = React && Object.prototype.hasOwnProperty.call(React, 'default') ? React['default'] : React;\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\t/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\n\tvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\tvar ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\n\tfunction emptyFunction() {}\n\n\tfunction emptyFunctionWithReset() {}\n\n\temptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n\tvar factoryWithThrowingShims = function () {\n\t  function shim(props, propName, componentName, location, propFullName, secret) {\n\t    if (secret === ReactPropTypesSecret_1) {\n\t      // It is still safe when called from React.\n\t      return;\n\t    }\n\n\t    var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n\t    err.name = 'Invariant Violation';\n\t    throw err;\n\t  }\n\t  shim.isRequired = shim;\n\n\t  function getShim() {\n\t    return shim;\n\t  }\n\t  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n\t  var ReactPropTypes = {\n\t    array: shim,\n\t    bool: shim,\n\t    func: shim,\n\t    number: shim,\n\t    object: shim,\n\t    string: shim,\n\t    symbol: shim,\n\t    any: shim,\n\t    arrayOf: getShim,\n\t    element: shim,\n\t    elementType: shim,\n\t    instanceOf: getShim,\n\t    node: shim,\n\t    objectOf: getShim,\n\t    oneOf: getShim,\n\t    oneOfType: getShim,\n\t    shape: getShim,\n\t    exact: getShim,\n\t    checkPropTypes: emptyFunctionWithReset,\n\t    resetWarningCache: emptyFunction\n\t  };\n\t  ReactPropTypes.PropTypes = ReactPropTypes;\n\t  return ReactPropTypes;\n\t};\n\n\tvar propTypes = createCommonjsModule(function (module) {\n\t/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\t{\n\t  // By explicitly using `prop-types` you are opting into new production behavior.\n\t  // http://fb.me/prop-types-in-prod\n\t  module.exports = factoryWithThrowingShims();\n\t}\n\t});\n\n\tfunction ownKeys(object, enumerableOnly) {\n\t  var keys = Object.keys(object);\n\n\t  if (Object.getOwnPropertySymbols) {\n\t    var symbols = Object.getOwnPropertySymbols(object);\n\n\t    if (enumerableOnly) {\n\t      symbols = symbols.filter(function (sym) {\n\t        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n\t      });\n\t    }\n\n\t    keys.push.apply(keys, symbols);\n\t  }\n\n\t  return keys;\n\t}\n\n\tfunction _objectSpread2(target) {\n\t  for (var i = 1; i < arguments.length; i++) {\n\t    var source = arguments[i] != null ? arguments[i] : {};\n\n\t    if (i % 2) {\n\t      ownKeys(Object(source), true).forEach(function (key) {\n\t        _defineProperty(target, key, source[key]);\n\t      });\n\t    } else if (Object.getOwnPropertyDescriptors) {\n\t      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n\t    } else {\n\t      ownKeys(Object(source)).forEach(function (key) {\n\t        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n\t      });\n\t    }\n\t  }\n\n\t  return target;\n\t}\n\n\tfunction _typeof(obj) {\n\t  \"@babel/helpers - typeof\";\n\n\t  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n\t    _typeof = function (obj) {\n\t      return typeof obj;\n\t    };\n\t  } else {\n\t    _typeof = function (obj) {\n\t      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n\t    };\n\t  }\n\n\t  return _typeof(obj);\n\t}\n\n\tfunction _defineProperty(obj, key, value) {\n\t  if (key in obj) {\n\t    Object.defineProperty(obj, key, {\n\t      value: value,\n\t      enumerable: true,\n\t      configurable: true,\n\t      writable: true\n\t    });\n\t  } else {\n\t    obj[key] = value;\n\t  }\n\n\t  return obj;\n\t}\n\n\tfunction _slicedToArray(arr, i) {\n\t  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n\t}\n\n\tfunction _arrayWithHoles(arr) {\n\t  if (Array.isArray(arr)) return arr;\n\t}\n\n\tfunction _iterableToArrayLimit(arr, i) {\n\t  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n\t  if (_i == null) return;\n\t  var _arr = [];\n\t  var _n = true;\n\t  var _d = false;\n\n\t  var _s, _e;\n\n\t  try {\n\t    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n\t      _arr.push(_s.value);\n\n\t      if (i && _arr.length === i) break;\n\t    }\n\t  } catch (err) {\n\t    _d = true;\n\t    _e = err;\n\t  } finally {\n\t    try {\n\t      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n\t    } finally {\n\t      if (_d) throw _e;\n\t    }\n\t  }\n\n\t  return _arr;\n\t}\n\n\tfunction _unsupportedIterableToArray(o, minLen) {\n\t  if (!o) return;\n\t  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n\t  var n = Object.prototype.toString.call(o).slice(8, -1);\n\t  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n\t  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n\t  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n\t}\n\n\tfunction _arrayLikeToArray(arr, len) {\n\t  if (len == null || len > arr.length) len = arr.length;\n\n\t  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n\t  return arr2;\n\t}\n\n\tfunction _nonIterableRest() {\n\t  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n\t}\n\n\tvar usePrevious = function usePrevious(value) {\n\t  var ref = React.useRef(value);\n\t  React.useEffect(function () {\n\t    ref.current = value;\n\t  }, [value]);\n\t  return ref.current;\n\t};\n\n\tvar isUnknownObject = function isUnknownObject(raw) {\n\t  return raw !== null && _typeof(raw) === 'object';\n\t};\n\tvar isPromise = function isPromise(raw) {\n\t  return isUnknownObject(raw) && typeof raw.then === 'function';\n\t}; // We are using types to enforce the `stripe` prop in this lib,\n\t// but in an untyped integration `stripe` could be anything, so we need\n\t// to do some sanity validation to prevent type errors.\n\n\tvar isStripe = function isStripe(raw) {\n\t  return isUnknownObject(raw) && typeof raw.elements === 'function' && typeof raw.createToken === 'function' && typeof raw.createPaymentMethod === 'function' && typeof raw.confirmCardPayment === 'function';\n\t};\n\n\tvar PLAIN_OBJECT_STR = '[object Object]';\n\tvar isEqual = function isEqual(left, right) {\n\t  if (!isUnknownObject(left) || !isUnknownObject(right)) {\n\t    return left === right;\n\t  }\n\n\t  var leftArray = Array.isArray(left);\n\t  var rightArray = Array.isArray(right);\n\t  if (leftArray !== rightArray) return false;\n\t  var leftPlainObject = Object.prototype.toString.call(left) === PLAIN_OBJECT_STR;\n\t  var rightPlainObject = Object.prototype.toString.call(right) === PLAIN_OBJECT_STR;\n\t  if (leftPlainObject !== rightPlainObject) return false; // not sure what sort of special object this is (regexp is one option), so\n\t  // fallback to reference check.\n\n\t  if (!leftPlainObject && !leftArray) return left === right;\n\t  var leftKeys = Object.keys(left);\n\t  var rightKeys = Object.keys(right);\n\t  if (leftKeys.length !== rightKeys.length) return false;\n\t  var keySet = {};\n\n\t  for (var i = 0; i < leftKeys.length; i += 1) {\n\t    keySet[leftKeys[i]] = true;\n\t  }\n\n\t  for (var _i = 0; _i < rightKeys.length; _i += 1) {\n\t    keySet[rightKeys[_i]] = true;\n\t  }\n\n\t  var allKeys = Object.keys(keySet);\n\n\t  if (allKeys.length !== leftKeys.length) {\n\t    return false;\n\t  }\n\n\t  var l = left;\n\t  var r = right;\n\n\t  var pred = function pred(key) {\n\t    return isEqual(l[key], r[key]);\n\t  };\n\n\t  return allKeys.every(pred);\n\t};\n\n\tvar extractAllowedOptionsUpdates = function extractAllowedOptionsUpdates(options, prevOptions, immutableKeys) {\n\t  if (!isUnknownObject(options)) {\n\t    return null;\n\t  }\n\n\t  return Object.keys(options).reduce(function (newOptions, key) {\n\t    var isUpdated = !isUnknownObject(prevOptions) || !isEqual(options[key], prevOptions[key]);\n\n\t    if (immutableKeys.includes(key)) {\n\t      if (isUpdated) {\n\t        console.warn(\"Unsupported prop change: options.\".concat(key, \" is not a mutable property.\"));\n\t      }\n\n\t      return newOptions;\n\t    }\n\n\t    if (!isUpdated) {\n\t      return newOptions;\n\t    }\n\n\t    return _objectSpread2(_objectSpread2({}, newOptions || {}), {}, _defineProperty({}, key, options[key]));\n\t  }, null);\n\t};\n\n\tvar INVALID_STRIPE_ERROR = 'Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.'; // We are using types to enforce the `stripe` prop in this lib, but in a real\n\t// integration `stripe` could be anything, so we need to do some sanity\n\t// validation to prevent type errors.\n\n\tvar validateStripe = function validateStripe(maybeStripe) {\n\t  if (maybeStripe === null || isStripe(maybeStripe)) {\n\t    return maybeStripe;\n\t  }\n\n\t  throw new Error(INVALID_STRIPE_ERROR);\n\t};\n\n\tvar parseStripeProp = function parseStripeProp(raw) {\n\t  if (isPromise(raw)) {\n\t    return {\n\t      tag: 'async',\n\t      stripePromise: Promise.resolve(raw).then(validateStripe)\n\t    };\n\t  }\n\n\t  var stripe = validateStripe(raw);\n\n\t  if (stripe === null) {\n\t    return {\n\t      tag: 'empty'\n\t    };\n\t  }\n\n\t  return {\n\t    tag: 'sync',\n\t    stripe: stripe\n\t  };\n\t};\n\n\tvar ElementsContext = /*#__PURE__*/React.createContext(null);\n\tElementsContext.displayName = 'ElementsContext';\n\tvar parseElementsContext = function parseElementsContext(ctx, useCase) {\n\t  if (!ctx) {\n\t    throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n\t  }\n\n\t  return ctx;\n\t};\n\t/**\n\t * The `Elements` provider allows you to use [Element components](https://stripe.com/docs/stripe-js/react#element-components) and access the [Stripe object](https://stripe.com/docs/js/initializing) in any nested component.\n\t * Render an `Elements` provider at the root of your React app so that it is available everywhere you need it.\n\t *\n\t * To use the `Elements` provider, call `loadStripe` from `@stripe/stripe-js` with your publishable key.\n\t * The `loadStripe` function will asynchronously load the Stripe.js script and initialize a `Stripe` object.\n\t * Pass the returned `Promise` to `Elements`.\n\t *\n\t * @docs https://stripe.com/docs/stripe-js/react#elements-provider\n\t */\n\n\tvar Elements = function Elements(_ref) {\n\t  var rawStripeProp = _ref.stripe,\n\t      options = _ref.options,\n\t      children = _ref.children;\n\t  var parsed = React.useMemo(function () {\n\t    return parseStripeProp(rawStripeProp);\n\t  }, [rawStripeProp]); // For a sync stripe instance, initialize into context\n\n\t  var _React$useState = React.useState(function () {\n\t    return {\n\t      stripe: parsed.tag === 'sync' ? parsed.stripe : null,\n\t      elements: parsed.tag === 'sync' ? parsed.stripe.elements(options) : null\n\t    };\n\t  }),\n\t      _React$useState2 = _slicedToArray(_React$useState, 2),\n\t      ctx = _React$useState2[0],\n\t      setContext = _React$useState2[1];\n\n\t  React.useEffect(function () {\n\t    var isMounted = true; // For an async stripePromise, store it in context once resolved\n\n\t    if (parsed.tag === 'async' && !ctx.stripe) {\n\t      parsed.stripePromise.then(function (stripe) {\n\t        if (stripe && isMounted) {\n\t          // Only update Elements context if the component is still mounted\n\t          // and stripe is not null. We allow stripe to be null to make\n\t          // handling SSR easier.\n\t          setContext({\n\t            stripe: stripe,\n\t            elements: stripe.elements(options)\n\t          });\n\t        }\n\t      });\n\t    } else if (parsed.tag === 'sync' && !ctx.stripe) {\n\t      // Or, handle a sync stripe instance going from null -> populated\n\t      setContext({\n\t        stripe: parsed.stripe,\n\t        elements: parsed.stripe.elements(options)\n\t      });\n\t    }\n\n\t    return function () {\n\t      isMounted = false;\n\t    };\n\t  }, [parsed, ctx, options]); // Warn on changes to stripe prop\n\n\t  var prevStripe = usePrevious(rawStripeProp);\n\t  React.useEffect(function () {\n\t    if (prevStripe !== null && prevStripe !== rawStripeProp) {\n\t      console.warn('Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.');\n\t    }\n\t  }, [prevStripe, rawStripeProp]); // Apply updates to elements when options prop has relevant changes\n\n\t  var prevOptions = usePrevious(options);\n\t  React.useEffect(function () {\n\t    if (!ctx.elements) {\n\t      return;\n\t    }\n\n\t    var updates = extractAllowedOptionsUpdates(options, prevOptions, ['clientSecret', 'fonts']);\n\n\t    if (updates) {\n\t      ctx.elements.update(updates);\n\t    }\n\t  }, [options, prevOptions, ctx.elements]); // Attach react-stripe-js version to stripe.js instance\n\n\t  React.useEffect(function () {\n\t    var anyStripe = ctx.stripe;\n\n\t    if (!anyStripe || !anyStripe._registerWrapper || !anyStripe.registerAppInfo) {\n\t      return;\n\t    }\n\n\t    anyStripe._registerWrapper({\n\t      name: 'react-stripe-js',\n\t      version: \"1.8.0\"\n\t    });\n\n\t    anyStripe.registerAppInfo({\n\t      name: 'react-stripe-js',\n\t      version: \"1.8.0\",\n\t      url: 'https://stripe.com/docs/stripe-js/react'\n\t    });\n\t  }, [ctx.stripe]);\n\t  return /*#__PURE__*/React.createElement(ElementsContext.Provider, {\n\t    value: ctx\n\t  }, children);\n\t};\n\tElements.propTypes = {\n\t  stripe: propTypes.any,\n\t  options: propTypes.object\n\t};\n\tvar useElementsContextWithUseCase = function useElementsContextWithUseCase(useCaseMessage) {\n\t  var ctx = React.useContext(ElementsContext);\n\t  return parseElementsContext(ctx, useCaseMessage);\n\t};\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#useelements-hook\n\t */\n\n\tvar useElements = function useElements() {\n\t  var _useElementsContextWi = useElementsContextWithUseCase('calls useElements()'),\n\t      elements = _useElementsContextWi.elements;\n\n\t  return elements;\n\t};\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#usestripe-hook\n\t */\n\n\tvar useStripe = function useStripe() {\n\t  var _useElementsContextWi2 = useElementsContextWithUseCase('calls useStripe()'),\n\t      stripe = _useElementsContextWi2.stripe;\n\n\t  return stripe;\n\t};\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#elements-consumer\n\t */\n\n\tvar ElementsConsumer = function ElementsConsumer(_ref2) {\n\t  var children = _ref2.children;\n\t  var ctx = useElementsContextWithUseCase('mounts <ElementsConsumer>'); // Assert to satisfy the busted React.FC return type (it should be ReactNode)\n\n\t  return children(ctx);\n\t};\n\tElementsConsumer.propTypes = {\n\t  children: propTypes.func.isRequired\n\t};\n\n\tvar useCallbackReference = function useCallbackReference(cb) {\n\t  var ref = React.useRef(cb);\n\t  React.useEffect(function () {\n\t    ref.current = cb;\n\t  }, [cb]);\n\t  return function () {\n\t    if (ref.current) {\n\t      ref.current.apply(ref, arguments);\n\t    }\n\t  };\n\t};\n\n\tvar noop = function noop() {};\n\n\tvar capitalized = function capitalized(str) {\n\t  return str.charAt(0).toUpperCase() + str.slice(1);\n\t};\n\n\tvar createElementComponent = function createElementComponent(type, isServer) {\n\t  var displayName = \"\".concat(capitalized(type), \"Element\");\n\n\t  var ClientElement = function ClientElement(_ref) {\n\t    var id = _ref.id,\n\t        className = _ref.className,\n\t        _ref$options = _ref.options,\n\t        options = _ref$options === void 0 ? {} : _ref$options,\n\t        _ref$onBlur = _ref.onBlur,\n\t        onBlur = _ref$onBlur === void 0 ? noop : _ref$onBlur,\n\t        _ref$onFocus = _ref.onFocus,\n\t        onFocus = _ref$onFocus === void 0 ? noop : _ref$onFocus,\n\t        _ref$onReady = _ref.onReady,\n\t        onReady = _ref$onReady === void 0 ? noop : _ref$onReady,\n\t        _ref$onChange = _ref.onChange,\n\t        onChange = _ref$onChange === void 0 ? noop : _ref$onChange,\n\t        _ref$onEscape = _ref.onEscape,\n\t        onEscape = _ref$onEscape === void 0 ? noop : _ref$onEscape,\n\t        _ref$onClick = _ref.onClick,\n\t        onClick = _ref$onClick === void 0 ? noop : _ref$onClick;\n\n\t    var _useElementsContextWi = useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\")),\n\t        elements = _useElementsContextWi.elements;\n\n\t    var elementRef = React.useRef(null);\n\t    var domNode = React.useRef(null);\n\t    var callOnReady = useCallbackReference(onReady);\n\t    var callOnBlur = useCallbackReference(onBlur);\n\t    var callOnFocus = useCallbackReference(onFocus);\n\t    var callOnClick = useCallbackReference(onClick);\n\t    var callOnChange = useCallbackReference(onChange);\n\t    var callOnEscape = useCallbackReference(onEscape);\n\t    React.useLayoutEffect(function () {\n\t      if (elementRef.current == null && elements && domNode.current != null) {\n\t        var element = elements.create(type, options);\n\t        elementRef.current = element;\n\t        element.mount(domNode.current);\n\t        element.on('ready', function () {\n\t          return callOnReady(element);\n\t        });\n\t        element.on('change', callOnChange);\n\t        element.on('blur', callOnBlur);\n\t        element.on('focus', callOnFocus);\n\t        element.on('escape', callOnEscape); // Users can pass an onClick prop on any Element component\n\t        // just as they could listen for the `click` event on any Element,\n\t        // but only the PaymentRequestButton will actually trigger the event.\n\n\t        element.on('click', callOnClick);\n\t      }\n\t    });\n\t    var prevOptions = usePrevious(options);\n\t    React.useEffect(function () {\n\t      if (!elementRef.current) {\n\t        return;\n\t      }\n\n\t      var updates = extractAllowedOptionsUpdates(options, prevOptions, ['paymentRequest']);\n\n\t      if (updates) {\n\t        elementRef.current.update(updates);\n\t      }\n\t    }, [options, prevOptions]);\n\t    React.useLayoutEffect(function () {\n\t      return function () {\n\t        if (elementRef.current) {\n\t          elementRef.current.destroy();\n\t          elementRef.current = null;\n\t        }\n\t      };\n\t    }, []);\n\t    return /*#__PURE__*/React.createElement(\"div\", {\n\t      id: id,\n\t      className: className,\n\t      ref: domNode\n\t    });\n\t  }; // Only render the Element wrapper in a server environment.\n\n\n\t  var ServerElement = function ServerElement(props) {\n\t    // Validate that we are in the right context by calling useElementsContextWithUseCase.\n\t    useElementsContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n\t    var id = props.id,\n\t        className = props.className;\n\t    return /*#__PURE__*/React.createElement(\"div\", {\n\t      id: id,\n\t      className: className\n\t    });\n\t  };\n\n\t  var Element = isServer ? ServerElement : ClientElement;\n\t  Element.propTypes = {\n\t    id: propTypes.string,\n\t    className: propTypes.string,\n\t    onChange: propTypes.func,\n\t    onBlur: propTypes.func,\n\t    onFocus: propTypes.func,\n\t    onReady: propTypes.func,\n\t    onClick: propTypes.func,\n\t    options: propTypes.object\n\t  };\n\t  Element.displayName = displayName;\n\t  Element.__elementType = type;\n\t  return Element;\n\t};\n\n\tvar isServer = typeof window === 'undefined';\n\t/**\n\t * Requires beta access:\n\t * Contact [Stripe support](https://support.stripe.com/) for more information.\n\t *\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar AuBankAccountElement = createElementComponent('auBankAccount', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar CardElement = createElementComponent('card', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar CardNumberElement = createElementComponent('cardNumber', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar CardExpiryElement = createElementComponent('cardExpiry', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar CardCvcElement = createElementComponent('cardCvc', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar FpxBankElement = createElementComponent('fpxBank', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar IbanElement = createElementComponent('iban', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar IdealBankElement = createElementComponent('idealBank', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar P24BankElement = createElementComponent('p24Bank', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar EpsBankElement = createElementComponent('epsBank', isServer);\n\tvar PaymentElement = createElementComponent('payment', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar PaymentRequestButtonElement = createElementComponent('paymentRequestButton', isServer);\n\t/**\n\t * Requires beta access:\n\t * Contact [Stripe support](https://support.stripe.com/) for more information.\n\t *\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar LinkAuthenticationElement = createElementComponent('linkAuthentication', isServer);\n\t/**\n\t * Requires beta access:\n\t * Contact [Stripe support](https://support.stripe.com/) for more information.\n\t *\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar ShippingAddressElement = createElementComponent('shippingAddress', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar AffirmMessageElement = createElementComponent('affirmMessage', isServer);\n\t/**\n\t * @docs https://stripe.com/docs/stripe-js/react#element-components\n\t */\n\n\tvar AfterpayClearpayMessageElement = createElementComponent('afterpayClearpayMessage', isServer);\n\n\texports.AffirmMessageElement = AffirmMessageElement;\n\texports.AfterpayClearpayMessageElement = AfterpayClearpayMessageElement;\n\texports.AuBankAccountElement = AuBankAccountElement;\n\texports.CardCvcElement = CardCvcElement;\n\texports.CardElement = CardElement;\n\texports.CardExpiryElement = CardExpiryElement;\n\texports.CardNumberElement = CardNumberElement;\n\texports.Elements = Elements;\n\texports.ElementsConsumer = ElementsConsumer;\n\texports.EpsBankElement = EpsBankElement;\n\texports.FpxBankElement = FpxBankElement;\n\texports.IbanElement = IbanElement;\n\texports.IdealBankElement = IdealBankElement;\n\texports.LinkAuthenticationElement = LinkAuthenticationElement;\n\texports.P24BankElement = P24BankElement;\n\texports.PaymentElement = PaymentElement;\n\texports.PaymentRequestButtonElement = PaymentRequestButtonElement;\n\texports.ShippingAddressElement = ShippingAddressElement;\n\texports.useElements = useElements;\n\texports.useStripe = useStripe;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","var V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"1.12.1\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      }\n\n      script.addEventListener('load', function () {\n        if (window.Stripe) {\n          resolve(window.Stripe);\n        } else {\n          reject(new Error('Stripe.js not available'));\n        }\n      });\n      script.addEventListener('error', function () {\n        reject(new Error('Failed to load Stripe.js'));\n      });\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  });\n  return stripePromise;\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n};\n\n// own script injection.\n\nvar stripePromise$1 = Promise.resolve().then(function () {\n  return loadScript(null);\n});\nvar loadCalled = false;\nstripePromise$1[\"catch\"](function (err) {\n  if (!loadCalled) {\n    console.warn(err);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now();\n  return stripePromise$1.then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","export * from './payment-method-label';\r\nexport * from './radio-option';\r\nexport * from './payment-method';\r\nexport * from './installments';","import {useState, useRef, useEffect} from '@wordpress/element';\r\nimport {__} from '@wordpress/i18n';\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport classnames from 'classnames';\r\nimport {StripeError, getRoute} from \"../../../payment-methods/util\";\r\nimport './style.scss';\r\n\r\nexport const Installments = (\r\n    {\r\n        paymentMethodName,\r\n        getCreatePaymentMethodArgs = null,\r\n        cardFormComplete = false,\r\n        addPaymentMethodData = null,\r\n        getPaymentMethod\r\n    }) => {\r\n    const [installments, setInstallments] = useState(null);\r\n    const [installment, setInstallment] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const onInstallmentSelected = (e) => {\r\n        setInstallment(e.target.value);\r\n        if (addPaymentMethodData) {\r\n            addPaymentMethodData({_stripe_installment_plan: e.target.value});\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (cardFormComplete) {\r\n            // fetch the installments\r\n            setLoading(true);\r\n            setInstallment('');\r\n\r\n            getPaymentMethod().then(async paymentMethod => {\r\n                if (paymentMethod) {\r\n                    // fetch the installment plans\r\n                    const result = await apiFetch({\r\n                        url: getRoute('create/payment_intent'),\r\n                        method: 'POST',\r\n                        data: {payment_method_id: paymentMethod, payment_method: paymentMethodName}\r\n                    });\r\n                    setInstallments(result.installments);\r\n                    if (Object.keys(result.installments)?.length) {\r\n                        setInstallment(Object.keys(result.installments)[0]);\r\n                    }\r\n                }\r\n            }).catch(error => {\r\n\r\n            }).finally(() => setLoading(false));\r\n        }\r\n    }, [cardFormComplete, getPaymentMethod]);\r\n\r\n    return (\r\n        <div className='wc-stripe-installments__container'>\r\n            <label>\r\n                {__('Pay in installments:', 'woo-stripe-payment')}\r\n                <Loader loading={loading}/>\r\n            </label>\r\n            <InstallmentOptions\r\n                installment={installment}\r\n                onChange={onInstallmentSelected}\r\n                installments={installments}\r\n                isLoading={loading}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst InstallmentOptions = ({installment, installments, onChange, isLoading}) => {\r\n    let OPTIONS = null;\r\n    if (isLoading) {\r\n        OPTIONS = <option value=\"\" disabled>{__('Loading installments...', 'woo-stripe-payment')}</option>\r\n    } else {\r\n        if (installments === null) {\r\n            OPTIONS = <option value=\"\" disabled>{__('Fill out card form for eligibility.', 'woo-stripe-payment')}</option>\r\n        } else {\r\n            OPTIONS = Object.keys(installments).map(id => {\r\n                return <option key={id} value={id} dangerouslySetInnerHTML={{__html: installments[id].text}}/>\r\n            });\r\n        }\r\n    }\r\n    return (\r\n        <select value={installment} onChange={onChange} className={classnames({loading: isLoading})}>\r\n            {OPTIONS}\r\n        </select>\r\n    );\r\n}\r\n\r\nconst Loader = ({loading}) => {\r\n    return (\r\n        <div className=\"wc-stripe-installment-loader__container\">\r\n            {loading && <div className=\"wc-stripe-installment-loader\">\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\nexport default Installments;","import './style.scss';\r\n\r\nexport const PaymentMethodLabel = ({title, icons, paymentMethod, ...props}) => {\r\n    const {PaymentMethodLabel: Label, PaymentMethodIcons: Icons} = props.components;\r\n    if (!Array.isArray(icons)) {\r\n        icons = [icons];\r\n    }\r\n    return (\r\n        <span className={`wc-stripe-label-container ${paymentMethod}`}>\r\n            <Label text={title}/>\r\n            <Icons icons={icons} align='left'/>\r\n        </span>\r\n    )\r\n}","import {useEffect, useRef} from '@wordpress/element';\r\n\r\nexport const PaymentMethod = ({getData, content, ...props}) => {\r\n    const Content = content;\r\n    const desc = getData('description');\r\n    const el = useRef(null);\r\n    useEffect(() => {\r\n        if (el.current && el.current.childNodes.length == 0) {\r\n            el.current.classList.add('no-content');\r\n        }\r\n    });\r\n    return (\r\n        <>\r\n            {desc && <Description desc={desc} payment_method={getData('name')}/>}\r\n            <div ref={el} className='wc-stripe-blocks-payment-method-content'>\r\n                <Content {...{...props, getData}}/>\r\n            </div>\r\n        </>);\r\n}\r\n\r\nconst Description = ({desc, payment_method}) => {\r\n    return (\r\n        <div className={`wc-stripe-blocks-payment-method__desc ${payment_method}`}>\r\n            <p>{desc}</p>\r\n        </div>\r\n    )\r\n}","import classnames from 'classnames';\r\n\r\nexport const RadioControlOption = ({checked, onChange, value, label}) => {\r\n    return (\r\n        <label\r\n            className={classnames('wc-stripe-blocks-radio-control__option', {\r\n                'wc-stripe-blocks-radio-control__option-checked': checked\r\n            })}>\r\n            <input\r\n                className='wc-stripe-blocks-radio-control__input'\r\n                type='radio'\r\n                value={value}\r\n                checked={checked}\r\n                onChange={(event) => onChange(event.target.value)}/>\r\n            <div className='wc-stripe-blocks-radio-control__label'>\r\n                <span>{label}</span>\r\n            </div>\r\n        </label>\r\n    )\r\n}\r\n\r\nexport default RadioControlOption;","export * from './use-create-link-token';\r\nexport * from './use-initialize-plaid';\r\nexport * from './use-process-payment';","import {useEffect, useState, useCallback} from '@wordpress/element';\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport {getRoute, getFromCache, storeInCache} from '../../util';\r\n\r\nexport const useCreateLinkToken = (\r\n    {\r\n        setValidationError\r\n    }) => {\r\n    const [linkToken, setLinkToken] = useState(false);\r\n\r\n    const createToken = useCallback(async () => {\r\n        try {\r\n            const response = await apiFetch({\r\n                url: getRoute('create/linkToken'),\r\n                method: 'POST',\r\n                data: {}\r\n            });\r\n            if (response.token) {\r\n                storeInCache('linkToken', response.token);\r\n                setLinkToken(response.token);\r\n            }\r\n        } catch (err) {\r\n            setValidationError(err);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!linkToken) {\r\n            const token = getFromCache('linkToken');\r\n            if (token) {\r\n                // cached token exist so use it\r\n                setLinkToken(token);\r\n            } else {\r\n                // create the Plaid Link token\r\n                createToken();\r\n            }\r\n        }\r\n    }, [\r\n        linkToken,\r\n        setLinkToken\r\n    ]);\r\n    return linkToken;\r\n}","import {useState, useEffect, useRef, useCallback} from '@wordpress/element';\r\nimport Plaid from '@plaid';\r\nimport {getErrorMessage} from \"../../util\";\r\n\r\nexport const useInitializePlaid = (\r\n    {\r\n        getData,\r\n        linkToken\r\n    }) => {\r\n    const linkHandler = useRef(null);\r\n    const resolvePopup = useRef(null);\r\n    const openLinkPopup = useCallback(() => new Promise((resolve, reject) => {\r\n        resolvePopup.current = {resolve, reject};\r\n        linkHandler.current.open();\r\n    }), []);\r\n\r\n    // if the token exists, initialize Plaid's link handler\r\n    useEffect(() => {\r\n        if (linkToken) {\r\n            linkHandler.current = Plaid.create({\r\n                clientName: getData('clientName'),\r\n                env: getData('plaidEnvironment'),\r\n                product: ['auth'],\r\n                token: linkToken,\r\n                selectAccount: true,\r\n                countryCodes: ['US'],\r\n                onSuccess: (publicToken, metaData) => {\r\n                    resolvePopup.current.resolve({publicToken, metaData});\r\n                },\r\n                onExit: (err) => {\r\n                    resolvePopup.current.reject(err ? getErrorMessage(err.error_message) : false);\r\n                }\r\n            });\r\n        }\r\n    }, [linkToken]);\r\n\r\n    return openLinkPopup;\r\n}","import {useEffect, useCallback} from '@wordpress/element';\r\nimport {ensureSuccessResponse, ensureErrorResponse, deleteFromCache} from \"../../util\";\r\n\r\nexport const useProcessPayment = (\r\n    {\r\n        openLinkPopup,\r\n        onPaymentProcessing,\r\n        responseTypes,\r\n        paymentMethod\r\n\r\n    }) => {\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onPaymentProcessing(async () => {\r\n            try {\r\n                // open the Plaid popup\r\n                const result = await openLinkPopup();\r\n                const {publicToken, metaData} = result;\r\n                // remove the cached link token.\r\n                deleteFromCache('linkToken');\r\n                return ensureSuccessResponse(responseTypes, {\r\n                    meta: {\r\n                        paymentMethodData: {\r\n                            [`${paymentMethod}_token_key`]: publicToken,\r\n                            [`${paymentMethod}_metadata`]: JSON.stringify(metaData)\r\n                        }\r\n                    }\r\n                });\r\n            } catch (err) {\r\n                return ensureErrorResponse(responseTypes, err);\r\n            }\r\n        });\r\n        return () => unsubscribe();\r\n    }, [\r\n        onPaymentProcessing,\r\n        responseTypes,\r\n        openLinkPopup\r\n    ]);\r\n}","import './styles.scss';\r\nimport './payment-method'","import {useState} from '@wordpress/element';\r\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings, isTestMode} from '../util';\r\nimport {PaymentMethodLabel, PaymentMethod} from '../../components/checkout';\r\nimport SavedCardComponent from '../saved-card-component';\r\nimport {useCreateLinkToken, useInitializePlaid, useProcessPayment} from './hooks';\r\nimport {useProcessCheckoutError} from \"../hooks\";\r\nimport {__} from '@wordpress/i18n';\r\n\r\nconst getData = getSettings('stripe_ach_data');\r\n\r\nconst ACHPaymentContent = (\r\n    {\r\n        getData,\r\n        eventRegistration,\r\n        components,\r\n        emitResponse,\r\n        onSubmit,\r\n        ...props\r\n    }) => {\r\n    const {responseTypes} = emitResponse;\r\n    const {onPaymentProcessing, onCheckoutAfterProcessingWithError} = eventRegistration;\r\n    const {ValidationInputError, LoadingMask} = components;\r\n    const [validationError, setValidationError] = useState(false);\r\n\r\n    const linkToken = useCreateLinkToken({setValidationError});\r\n\r\n    useProcessCheckoutError({\r\n        responseTypes,\r\n        subscriber: onCheckoutAfterProcessingWithError\r\n    });\r\n\r\n    const openLinkPopup = useInitializePlaid({\r\n        getData,\r\n        linkToken,\r\n        onSubmit\r\n    });\r\n\r\n    useProcessPayment({\r\n        openLinkPopup,\r\n        onPaymentProcessing,\r\n        responseTypes,\r\n        paymentMethod: getData('name')\r\n    });\r\n    return (\r\n        <LoadingMask isLoading={!validationError && !linkToken} showSpinner={true}>\r\n            {isTestMode && <ACHTestModeCredentials/>}\r\n            {validationError && <ValidationInputError errorMessage={validationError}/>}\r\n        </LoadingMask>\r\n    )\r\n}\r\n\r\nconst ACHTestModeCredentials = () => {\r\n    return (\r\n        <div className='wc-stripe-blocks-ach__creds'>\r\n            <label className='wc-stripe-blocks-ach__creds-label'>{__('Test Credentials', 'woo-stripe-payment')}</label>\r\n            <div className='wc-stripe-blocks-ach__username'>\r\n                <div>\r\n                    <strong>{__('username', 'woo-stripe-payment')}</strong>: user_good\r\n                </div>\r\n                <div>\r\n                    <strong>{__('password', 'woo-stripe-payment')}</strong>: pass_good\r\n                </div>\r\n                <div>\r\n                    <strong>{__('pin', 'woo-stripe-payment')}</strong>: credential_good\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nregisterPaymentMethod({\r\n    name: getData('name'),\r\n    label: <PaymentMethodLabel title={getData('title')}\r\n                               paymentMethod={getData('name')}\r\n                               icons={getData('icons')}/>,\r\n    ariaLabel: 'ACH Payment',\r\n    canMakePayment: ({cartTotals}) => cartTotals.currency_code === 'USD',\r\n    content: <PaymentMethod\r\n        getData={getData}\r\n        content={ACHPaymentContent}/>,\r\n    savedTokenComponent: <SavedCardComponent getData={getData}/>,\r\n    edit: <ACHPaymentContent getData={getData}/>,\r\n    placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n    supports: {\r\n        showSavedCards: getData('showSavedCards'),\r\n        showSaveOption: false,\r\n        features: getData('features')\r\n    }\r\n})","import './style.scss';\r\n\r\nimport './payment-method';","import {useCallback} from '@wordpress/element';\r\nimport {registerExpressPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings, initStripe as loadStripe, canMakePayment} from \"../util\";\r\nimport {Elements, PaymentRequestButtonElement, useStripe} from \"@stripe/react-stripe-js\";\r\nimport ErrorBoundary from \"../error-boundary\";\r\nimport {\r\n    usePaymentRequest,\r\n    useProcessPaymentIntent,\r\n    useExportedValues,\r\n    useAfterProcessingPayment,\r\n    useStripeError,\r\n    useExpressBreakpointWidth\r\n} from '../hooks';\r\n\r\nconst getData = getSettings('stripe_applepay_data');\r\n\r\nconst ApplePayContent = (props) => {\r\n    return (\r\n        <ErrorBoundary>\r\n            <div className='wc-stripe-apple-pay-container'>\r\n                <Elements stripe={loadStripe}>\r\n                    <ApplePayButton {...props}/>\r\n                </Elements>\r\n            </div>\r\n        </ErrorBoundary>\r\n    );\r\n}\r\n\r\nconst ApplePayButton = (\r\n    {\r\n        getData,\r\n        onClick,\r\n        onClose,\r\n        billing,\r\n        shippingData,\r\n        eventRegistration,\r\n        emitResponse,\r\n        onSubmit,\r\n        activePaymentMethod,\r\n        ...props\r\n    }) => {\r\n    const {onPaymentProcessing} = eventRegistration;\r\n    const {responseTypes, noticeContexts} = emitResponse;\r\n    const stripe = useStripe();\r\n    const [error] = useStripeError();\r\n    const canPay = (result) => result != null && result.applePay;\r\n    const exportedValues = useExportedValues();\r\n    useExpressBreakpointWidth({payment_method: getData('name'), width: 300});\r\n    const {setPaymentMethod} = useProcessPaymentIntent({\r\n        getData,\r\n        billing,\r\n        shippingData,\r\n        onPaymentProcessing,\r\n        emitResponse,\r\n        error,\r\n        onSubmit,\r\n        activePaymentMethod,\r\n        exportedValues\r\n    });\r\n    useAfterProcessingPayment({\r\n        getData,\r\n        eventRegistration,\r\n        responseTypes,\r\n        activePaymentMethod,\r\n        messageContext: noticeContexts.EXPRESS_PAYMENTS\r\n    });\r\n    const {paymentRequest} = usePaymentRequest({\r\n        getData,\r\n        onClose,\r\n        stripe,\r\n        billing,\r\n        shippingData,\r\n        eventRegistration,\r\n        setPaymentMethod,\r\n        exportedValues,\r\n        canPay\r\n    });\r\n\r\n    const handleClick = useCallback((e) => {\r\n        if (paymentRequest) {\r\n            e.preventDefault();\r\n            onClick();\r\n            paymentRequest.show();\r\n        }\r\n    }, [paymentRequest, onClick]);\r\n\r\n    if (paymentRequest) {\r\n        return (\r\n            <button\r\n                className={`apple-pay-button ${getData('buttonStyle')}`}\r\n                style={{\r\n                    '-apple-pay-button-type': getData('buttonType')\r\n                }}\r\n                onClick={handleClick}/>\r\n\r\n        )\r\n    }\r\n    return null;\r\n}\r\n\r\nconst ApplePayEdit = ({getData, ...props}) => {\r\n    return (\r\n        <div className={'apple-pay-block-editor'}>\r\n            <img src={getData('editorIcon')}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nregisterExpressPaymentMethod({\r\n    name: getData('name'),\r\n    canMakePayment: ({cartTotals, ...props}) => {\r\n        if (getData('isAdmin')) {\r\n            return true;\r\n        }\r\n        const {currency_code: currency, total_price} = cartTotals;\r\n        return canMakePayment({\r\n            country: getData('countryCode'),\r\n            currency: currency.toLowerCase(),\r\n            total: {\r\n                label: getData('totalLabel'),\r\n                amount: parseInt(total_price)\r\n            }\r\n        }, (result) => result != null && result.applePay);\r\n    },\r\n    content: <ApplePayContent getData={getData}/>,\r\n    edit: <ApplePayEdit getData={getData}/>,\r\n    supports: {\r\n        showSavedCards: getData('showSavedCards'),\r\n        showSaveOption: getData('showSaveOption'),\r\n        features: getData('features')\r\n    }\r\n})","import './style.scss';\r\nimport {registerCreditCardForm} from \"@paymentplugins/stripe/util\";\r\nimport {CardNumberElement, CardExpiryElement, CardCvcElement} from '@stripe/react-stripe-js';\r\nimport {__} from \"@wordpress/i18n\";\r\n\r\nconst Bootstrap = ({CardIcon, options, onChange}) => {\r\n    return (\r\n        <div className='wc-stripe-bootstrap-form'>\r\n            <div className='row'>\r\n                <div className='col-md-6 mb-3'>\r\n                    <CardNumberElement className='md-form md-outline stripe-input' options={options['cardNumber']}\r\n                                       onChange={onChange(CardNumberElement)}/>\r\n                    <label htmlFor=\"stripe-card-number\">{__('Card Number', 'woo-stripe-payment')}</label>\r\n                    {CardIcon}\r\n                </div>\r\n                <div className='col-md-3 mb-3'>\r\n                    <CardExpiryElement className='md-form md-outline stripe-input' options={options['cardExpiry']}\r\n                                       onChange={onChange(CardExpiryElement)}/>\r\n                    <label htmlFor=\"stripe-exp\">{__('Exp', 'woo-stripe-payment')}</label>\r\n                </div>\r\n                <div className='col-md-3 mb-3'>\r\n                    <CardCvcElement className=\"md-form md-outline stripe-input\" options={options['cardCvc']}\r\n                                    onChange={onChange(CardCvcElement)}/>\r\n                    <label htmlFor=\"stripe-cvv\">{__('CVV', 'woo-stripe-payment')}</label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nregisterCreditCardForm({\r\n    id: 'bootstrap',\r\n    breakpoint: 475,\r\n    component: <Bootstrap/>\r\n})","import {getCreditCardForm} from \"../../util\";\r\nimport {cloneElement, useRef, useCallback, useEffect, useState} from '@wordpress/element';\r\nimport {useElements, CardNumberElement, CardExpiryElement, CardCvcElement} from '@stripe/react-stripe-js';\r\nimport {sprintf, __} from '@wordpress/i18n';\r\nimport {useBreakpointWidth} from \"../../hooks\";\r\n\r\nconst classes = {\r\n    focus: 'focused',\r\n    empty: 'empty',\r\n    invalid: 'invalid'\r\n}\r\n\r\nconst CustomCardForm = (\r\n    {\r\n        getData,\r\n        onChange: eventChange,\r\n        onComplete\r\n    }) => {\r\n    const [cardType, setCardType] = useState('');\r\n    const elementOrder = useRef([]);\r\n    const [container, setContainer] = useState(null);\r\n    const elements = useElements();\r\n    const id = getData('customForm');\r\n    const {component: CardForm = null, breakpoint = 475} = getCreditCardForm(id);\r\n    const postalCodeEnabled = getData('postalCodeEnabled');\r\n    const options = {};\r\n    const elementStatus = useRef({'cardNumber': {}, 'cardExpiry': {}, 'cardCvc': {}});\r\n    ['cardNumber', 'cardExpiry', 'cardCvc'].forEach(type => {\r\n        options[type] = {\r\n            classes,\r\n            ...getData('cardOptions'),\r\n            ...getData('customFieldOptions')[type],\r\n        }\r\n    });\r\n    const onChange = (element) => {\r\n        setElementOrder(element);\r\n        return (event) => {\r\n            eventChange(event);\r\n            elementStatus.current[event.elementType] = event;\r\n            if (event.elementType === 'cardNumber') {\r\n                if (event.brand === 'unknown') {\r\n                    setCardType('');\r\n                } else {\r\n                    setCardType(event.brand);\r\n                }\r\n            }\r\n            if (event.complete) {\r\n                const idx = elementOrder.current.indexOf(element);\r\n                if (elementOrder.current[idx + 1]) {\r\n                    const nextElement = elementOrder.current[idx + 1];\r\n                    elements.getElement(nextElement).focus();\r\n                }\r\n            }\r\n            onComplete(isFormComplete());\r\n        }\r\n    }\r\n\r\n    const isFormComplete = () => {\r\n        let status = elementStatus.current;\r\n        return Object.keys(status).filter(key => !!status[key].complete).length === Object.keys(status).length;\r\n    }\r\n\r\n    const setElementOrder = useCallback((element) => {\r\n        if (!elementOrder.current.includes(element)) {\r\n            elementOrder.current.push(element);\r\n        }\r\n    }, []);\r\n\r\n    useBreakpointWidth({name: 'creditCardForm', width: breakpoint, node: container, className: 'small-form'});\r\n\r\n    const getCardIconSrc = useCallback((type) => {\r\n        for (let id of Object.keys(getData('cards'))) {\r\n            if (id === type) {\r\n                return getData('cards')[id];\r\n            }\r\n        }\r\n        return '';\r\n    }, []);\r\n\r\n    if (!CardForm) {\r\n        return (\r\n            <div className='wc-stripe-custom-form-error'>\r\n                <p>{sprintf(__('%s is not a valid blocks Stripe custom form. Please choose another custom form option in the Credit Card Settings.', 'woo-stripe-payment'), getData('customFormLabels')[id])}</p>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div className={`wc-stripe-custom-form ${id}`} ref={setContainer}>\r\n            {cloneElement(CardForm, {\r\n                postalCodeEnabled,\r\n                options,\r\n                onChange,\r\n                CardIcon: <CardIcon type={cardType} src={getCardIconSrc(cardType)}/>\r\n            })}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nconst CardIcon = ({type, src}) => {\r\n    if (type) {\r\n        return <img className={`wc-stripe-card ${type}`} src={src}/>\r\n    }\r\n    return null;\r\n}\r\n\r\nexport default CustomCardForm;\r\n","import './style.scss';\r\nimport {registerCreditCardForm} from \"@paymentplugins/stripe/util\";\r\nimport {CardNumberElement, CardExpiryElement, CardCvcElement} from '@stripe/react-stripe-js';\r\nimport {__} from \"@wordpress/i18n\";\r\nimport {useEffect, useCallback, useRef} from '@wordpress/element';\r\n\r\nconst SimpleForm = ({CardIcon, options, onChange}) => {\r\n    useEffect(() => {\r\n    }, []);\r\n    return (\r\n        <div className='wc-stripe-simple-form'>\r\n            <div className=\"row\">\r\n                <div className=\"field\">\r\n                    <div className='field-item'>\r\n                        <CardNumberElement id=\"stripe-card-number\" className=\"input empty\"\r\n                                           options={options['cardNumber']}\r\n                                           onChange={onChange(CardNumberElement)}/>\r\n                        <label htmlFor=\"stripe-card-number\"\r\n                               data-tid=\"\">{__('Card Number', 'woo-stripe-payment')}</label>\r\n                        <div className=\"baseline\"></div>\r\n                        {CardIcon}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"field half-width\">\r\n                    <div className='field-item'>\r\n                        <CardExpiryElement id=\"stripe-exp\" className=\"input empty\" options={options['cardExpiry']}\r\n                                           onChange={onChange(CardExpiryElement)}/>\r\n                        <label htmlFor=\"stripe-exp\"\r\n                               data-tid=\"\">{__('Expiration', 'woo-stripe-payment')}</label>\r\n                        <div className=\"baseline\"></div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"field half-width cvc\">\r\n                    <div className='field-item'>\r\n                        <CardCvcElement id=\"stripe-cvv\" className=\"input empty\" options={options['cardCvc']}\r\n                                        onChange={onChange(CardCvcElement)}/>\r\n                        <label htmlFor=\"stripe-cvv\"\r\n                               data-tid=\"\">{__('CVV', 'woo-stripe-payment')}</label>\r\n                        <div className=\"baseline\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nregisterCreditCardForm({\r\n    id: 'simple',\r\n    component: <SimpleForm/>,\r\n    breakpoint: 375\r\n})","import {CardElement} from \"@stripe/react-stripe-js\";\r\nimport {isFieldRequired} from \"../../util\";\r\nimport {useMemo} from '@wordpress/element';\r\n\r\nconst StripeCardForm = ({getData, billing, onChange: eventChange, onComplete}) => {\r\n    const elementStatus = {card: {}};\r\n    const onChange = (event) => {\r\n        eventChange(event);\r\n        elementStatus[event.elementType] = event;\r\n        onComplete(isFormComplete());\r\n    }\r\n    const isFormComplete = () => {\r\n        return Object.keys(elementStatus).filter(type => !!elementStatus[type].complete).length === Object.keys(elementStatus).length;\r\n    }\r\n    const cardOptions = useMemo(() => {\r\n        return {\r\n            ...{\r\n                value: {\r\n                    postalCode: billing?.billingData?.postcode\r\n                },\r\n                hidePostalCode: isFieldRequired('postcode'),\r\n                iconStyle: 'default'\r\n            }, ...getData('cardOptions')\r\n        };\r\n    }, [billing.billingData]);\r\n    return (\r\n        <div className='wc-stripe-inline-form'>\r\n            <CardElement options={cardOptions} onChange={onChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StripeCardForm;","import './style.scss';\r\n\r\nexport * from './payment-method';\r\n\r\nimport './components/bootstrap';\r\nimport './components/simple';\r\n","import {useEffect, useState, useCallback, useMemo} from '@wordpress/element';\r\nimport {Elements, PaymentElement, useStripe, useElements} from '@stripe/react-stripe-js';\r\nimport {\r\n    getSettings,\r\n    initStripe as loadStripe\r\n} from '../util';\r\n\r\nimport {Installments} from '../../components/checkout/';\r\n\r\nimport {useProcessCheckoutError, useUpdatePaymentIntent} from \"../hooks\";\r\n\r\n\r\nconst getData = getSettings('stripe_cc_data');\r\n\r\nexport const PaymentElementComponent = ({cartData, ...props}) => {\r\n    const clientSecret = cartData?.extensions?.stripe_cc?.clientSecret;\r\n    return (\r\n        <>\r\n            <Elements stripe={loadStripe} options={{...getData('elementOptions'), clientSecret}}>\r\n                <CardElement {...props} clientSecret={clientSecret}/>\r\n            </Elements>\r\n        </>\r\n    );\r\n}\r\n\r\nconst CardElement = ({onComplete, clientSecret, ...props}) => {\r\n    const [formComplete, setFormComplete] = useState(false);\r\n    const installmentsActive = getData('installmentsActive')\r\n    const elements = useElements();\r\n    const stripe = useStripe();\r\n    const {billing: {billingData}, eventRegistration, emitResponse, shouldSavePayment} = props;\r\n    const {onPaymentProcessing, onCheckoutAfterProcessingWithError} = eventRegistration;\r\n    const {responseTypes, noticeContexts} = emitResponse;\r\n    const name = getData('name');\r\n    const onChange = useCallback((event) => {\r\n        setFormComplete(event.complete);\r\n    }, []);\r\n    const {updatePaymentIntent, addPaymentMethodData} = useUpdatePaymentIntent({\r\n        clientSecret,\r\n        billingData,\r\n        eventRegistration,\r\n        responseTypes,\r\n        shouldSavePayment,\r\n        noticeContexts,\r\n        name\r\n    });\r\n\r\n    useProcessCheckoutError({\r\n        responseTypes,\r\n        subscriber: onCheckoutAfterProcessingWithError,\r\n        messageContext: noticeContexts.PAYMENTS\r\n    });\r\n\r\n    const getPaymentMethod = useCallback(async () => {\r\n        let paymentMethod = null;\r\n        const result = await updatePaymentIntent();\r\n        if (result?.paymentIntent?.payment_method) {\r\n            paymentMethod = result.paymentIntent.payment_method;\r\n        }\r\n        return paymentMethod;\r\n    }, [updatePaymentIntent]);\r\n\r\n    const options = {\r\n        fields: {\r\n            billingDetails: 'never'\r\n        },\r\n        wallets: {applePay: 'never', googlePay: 'never'}\r\n    }\r\n    return (\r\n        <>\r\n            <PaymentElement options={options} onChange={onChange}/>\r\n            {installmentsActive && <Installments\r\n                paymentMethodName={getData('name')}\r\n                stripe={stripe}\r\n                cardFormComplete={formComplete}\r\n                getPaymentMethod={getPaymentMethod}\r\n                addPaymentMethodData={addPaymentMethodData}/>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PaymentElementComponent;","import {useEffect, useState, useCallback, useMemo} from '@wordpress/element';\r\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {\r\n    initStripe as loadStripe,\r\n    getSettings,\r\n} from '../util';\r\nimport {Elements, CardElement, useStripe, useElements, CardNumberElement} from '@stripe/react-stripe-js';\r\nimport {PaymentMethodLabel, PaymentMethod} from '../../components/checkout';\r\nimport SavedCardComponent from '../saved-card-component';\r\nimport CustomCardForm from './components/custom-card-form';\r\nimport StripeCardForm from \"./components/stripe-card-form\";\r\nimport {Installments} from '../../components/checkout';\r\nimport PaymentElementComponent from './payment-element';\r\nimport {\r\n    useProcessPaymentIntent,\r\n    useAfterProcessingPayment,\r\n    useSetupIntent,\r\n    useStripeError\r\n} from \"../hooks\";\r\n\r\nconst getData = getSettings('stripe_cc_data');\r\n\r\nconst CreditCardContent = (props) => {\r\n    const [error, setError] = useState(false);\r\n    useEffect(() => {\r\n        loadStripe.catch(error => {\r\n            setError(error);\r\n        })\r\n    }, [setError]);\r\n    if (error) {\r\n        throw new Error(error);\r\n    }\r\n    if (getData('isPaymentElement')) {\r\n        return (\r\n            <PaymentElementComponent {...props}/>\r\n        )\r\n    }\r\n    return (\r\n        <Elements stripe={loadStripe} options={getData('elementOptions')}>\r\n            <CreditCardElement {...props}/>\r\n        </Elements>\r\n    );\r\n};\r\n\r\nconst CreditCardElement = (\r\n    {\r\n        getData,\r\n        billing,\r\n        shippingData,\r\n        emitResponse,\r\n        eventRegistration,\r\n        activePaymentMethod,\r\n        shouldSavePayment\r\n    }) => {\r\n    const [error, setError] = useStripeError();\r\n    const [formComplete, setFormComplete] = useState(false);\r\n    const {onPaymentProcessing} = eventRegistration;\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n    const getPaymentMethodArgs = useCallback(() => {\r\n        const elType = getData('customFormActive') ? CardNumberElement : CardElement;\r\n        return {card: elements.getElement(elType)};\r\n    }, [stripe, elements]);\r\n\r\n    const {setupIntent, removeSetupIntent} = useSetupIntent({\r\n        getData,\r\n        cartTotal: billing.cartTotal,\r\n        setError\r\n    })\r\n\r\n    const {getCreatePaymentMethodArgs, addPaymentMethodData} = useProcessPaymentIntent({\r\n        getData,\r\n        billing,\r\n        shippingData,\r\n        emitResponse,\r\n        error,\r\n        onPaymentProcessing,\r\n        shouldSavePayment,\r\n        setupIntent,\r\n        removeSetupIntent,\r\n        getPaymentMethodArgs,\r\n        activePaymentMethod\r\n    });\r\n    useAfterProcessingPayment({\r\n        getData,\r\n        eventRegistration,\r\n        responseTypes: emitResponse.responseTypes,\r\n        activePaymentMethod,\r\n        shouldSavePayment\r\n    });\r\n\r\n    const onChange = (event) => {\r\n        if (event.error) {\r\n            setError(event.error);\r\n        } else {\r\n            setError(false);\r\n        }\r\n    }\r\n\r\n    const getPaymentMethod = useCallback(async () => {\r\n        let paymentMethod = null;\r\n        const result = await stripe.createPaymentMethod(getCreatePaymentMethodArgs());\r\n        if (result?.paymentMethod?.id) {\r\n            paymentMethod = result.paymentMethod.id;\r\n        }\r\n        return paymentMethod;\r\n    }, [stripe, getCreatePaymentMethodArgs]);\r\n\r\n    const Tag = getData('customFormActive') ? CustomCardForm : StripeCardForm;\r\n    return (\r\n        <div className='wc-stripe-card-container'>\r\n            <Tag {...{getData, billing, onChange}} onComplete={setFormComplete}/>\r\n            {getData('installmentsActive') && <Installments\r\n                paymentMethodName={getData('name')}\r\n                cardFormComplete={formComplete}\r\n                addPaymentMethodData={addPaymentMethodData}\r\n                getPaymentMethod={getPaymentMethod}/>}\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nregisterPaymentMethod({\r\n    name: getData('name'),\r\n    label: <PaymentMethodLabel\r\n        title={getData('title')}\r\n        paymentMethod={getData('name')}\r\n        icons={getData('icons')}/>,\r\n    ariaLabel: 'Credit Cards',\r\n    canMakePayment: () => loadStripe,\r\n    content: <PaymentMethod content={CreditCardContent} getData={getData}/>,\r\n    savedTokenComponent: <SavedCardComponent getData={getData}/>,\r\n    edit: <PaymentMethod content={CreditCardContent} getData={getData}/>,\r\n    supports: {\r\n        showSavedCards: getData('showSavedCards'),\r\n        showSaveOption: true,\r\n        features: getData('features')\r\n    }\r\n})","import {Component} from '@wordpress/element';\r\n\r\nclass ErrorBoundary extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {hasError: false, error: null, errorInfo: null};\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        this.setState({\r\n            hasError: true,\r\n            error,\r\n            errorInfo\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            return (\r\n                <>\r\n                    {this.state.error && <div className='wc-stripe-block-error'>{this.state.error.toString()}</div>}\r\n                    {this.state.errorInfo &&\r\n                    <div className='wc-stripe-block-error'>{this.state.errorInfo.componentStack}</div>}\r\n                </>\r\n            )\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;","import {useRef, useEffect} from '@wordpress/element';\r\nimport {usePaymentsClient, usePaymentRequest} from './hooks';\r\nimport {\r\n    useProcessPaymentIntent,\r\n    useStripeError,\r\n    useExportedValues,\r\n    useExpressBreakpointWidth, useAfterProcessingPayment\r\n} from '../hooks';\r\nimport {getSettings} from '@paymentplugins/stripe/util';\r\n\r\nconst {publishableKey} = getSettings('stripeGeneralData')();\r\n\r\nconst GooglePayButton = (\r\n    {\r\n        getData,\r\n        setErrorMessage,\r\n        billing,\r\n        shippingData,\r\n        canMakePayment,\r\n        checkoutStatus,\r\n        eventRegistration,\r\n        activePaymentMethod,\r\n        onClick,\r\n        onClose,\r\n        ...props\r\n    }) => {\r\n    const merchantInfo = {\r\n        merchantId: getData('merchantId'),\r\n        merchantName: getData('merchantName')\r\n    };\r\n    const [error, setError] = useStripeError();\r\n    const buttonContainer = useRef();\r\n    const {onSubmit, emitResponse} = props;\r\n    const {onPaymentProcessing} = eventRegistration;\r\n    const exportedValues = useExportedValues();\r\n    const width = getData('buttonStyle').buttonType === 'long' ? 390 : 300;\r\n    const {setPaymentMethod} = useProcessPaymentIntent({\r\n        getData,\r\n        billing,\r\n        shippingData,\r\n        onPaymentProcessing,\r\n        emitResponse,\r\n        error,\r\n        exportedValues,\r\n        onSubmit,\r\n        checkoutStatus,\r\n        activePaymentMethod\r\n    });\r\n\r\n    const paymentRequest = usePaymentRequest({\r\n        getData,\r\n        publishableKey,\r\n        merchantInfo,\r\n        billing,\r\n        shippingData\r\n    })\r\n\r\n    const {button, removeButton} = usePaymentsClient({\r\n        merchantInfo,\r\n        paymentRequest,\r\n        billing,\r\n        shippingData,\r\n        eventRegistration,\r\n        canMakePayment,\r\n        setErrorMessage,\r\n        onSubmit,\r\n        setPaymentMethod,\r\n        exportedValues,\r\n        onClick,\r\n        onClose,\r\n        getData\r\n    });\r\n\r\n    useAfterProcessingPayment({\r\n        getData,\r\n        eventRegistration,\r\n        responseTypes: emitResponse.responseTypes,\r\n        activePaymentMethod\r\n    });\r\n\r\n    useExpressBreakpointWidth({payment_method: getData('name'), width});\r\n\r\n    useEffect(() => {\r\n        if (button) {\r\n            // prevent button duplicates\r\n            removeButton(buttonContainer.current);\r\n            buttonContainer.current.append(button);\r\n        }\r\n    }, [button]);\r\n\r\n    return (\r\n        <div className='wc-stripe-gpay-button-container' ref={buttonContainer}></div>\r\n    )\r\n}\r\n\r\nexport default GooglePayButton;","export const BASE_PAYMENT_METHOD = {\r\n    type: 'CARD',\r\n    parameters: {\r\n        allowedAuthMethods: [\"PAN_ONLY\"],\r\n        allowedCardNetworks: [\"AMEX\", \"DISCOVER\", \"INTERAC\", \"JCB\", \"MASTERCARD\", \"VISA\"],\r\n        assuranceDetailsRequired: true\r\n    }\r\n};\r\n\r\nexport const BASE_PAYMENT_REQUEST = {\r\n    apiVersion: 2,\r\n    apiVersionMinor: 0\r\n}","export * from './use-payments-client';\r\nexport * from './use-payment-request';\r\nexport * from './use-error-message';","import {useState} from '@wordpress/element';\r\n\r\nexport const useErrorMessage = () => {\r\n    const [errorMessage, setErrorMessage] = useState(false);\r\n    return {errorMessage, setErrorMessage};\r\n}","import {useState, useEffect, useMemo} from '@wordpress/element';\r\nimport {BASE_PAYMENT_REQUEST, BASE_PAYMENT_METHOD} from \"../constants\";\r\nimport {isEmpty, isFieldRequired} from \"../../util\";\r\nimport {getTransactionInfo, getShippingOptionParameters} from \"../util\";\r\n\r\nexport const usePaymentRequest = ({getData, publishableKey, merchantInfo, billing, shippingData}) => {\r\n    const {billingData} = billing;\r\n    const {shippingRates} = shippingData;\r\n    const {processingCountry, totalPriceLabel} = getData();\r\n\r\n    const paymentRequest = useMemo(() => {\r\n        let options = {\r\n            ...{\r\n                emailRequired: isEmpty(billingData.email),\r\n                merchantInfo,\r\n                allowedPaymentMethods: [{\r\n                    ...{\r\n                        type: 'CARD',\r\n                        tokenizationSpecification: {\r\n                            type: \"PAYMENT_GATEWAY\",\r\n                            parameters: {\r\n                                gateway: 'stripe',\r\n                                \"stripe:version\": \"2018-10-31\",\r\n                                \"stripe:publishableKey\": publishableKey\r\n                            }\r\n                        }\r\n                    }, ...BASE_PAYMENT_METHOD\r\n                }],\r\n                shippingAddressRequired: shippingData.needsShipping,\r\n                transactionInfo: getTransactionInfo({\r\n                    billing,\r\n                    processingCountry,\r\n                    totalPriceLabel\r\n                }),\r\n                callbackIntents: ['PAYMENT_AUTHORIZATION']\r\n            }, ...BASE_PAYMENT_REQUEST\r\n        };\r\n        options.allowedPaymentMethods[0].parameters.billingAddressRequired = true;\r\n        options.allowedPaymentMethods[0].parameters.billingAddressParameters = {\r\n            format: 'FULL',\r\n            phoneNumberRequired: isFieldRequired('phone', billingData.country) && isEmpty(billingData.phone)\r\n        };\r\n        if (options.shippingAddressRequired) {\r\n            options.callbackIntents = [...options.callbackIntents, ...['SHIPPING_ADDRESS', 'SHIPPING_OPTION']];\r\n            options.shippingOptionRequired = true;\r\n            const shippingOptionParameters = getShippingOptionParameters(shippingRates);\r\n            if (shippingOptionParameters.shippingOptions.length > 0) {\r\n                options = {...options, shippingOptionParameters};\r\n            }\r\n        }\r\n        return options;\r\n    }, [\r\n        billing.cartTotal,\r\n        billing.cartTotalItems,\r\n        billingData,\r\n        shippingData\r\n    ]);\r\n    return paymentRequest;\r\n}","import {useState, useEffect, useCallback, useMemo, useRef} from '@wordpress/element';\r\nimport isShallowEqual from \"@wordpress/is-shallow-equal\";\r\nimport {\r\n    getErrorMessage,\r\n    getSelectedShippingOption,\r\n    getBillingDetailsFromAddress,\r\n    isAddressValid,\r\n    isEmpty,\r\n    StripeError,\r\n    getIntermediateAddress\r\n} from \"../../util\";\r\nimport {useStripe} from \"@stripe/react-stripe-js\";\r\nimport {getPaymentRequestUpdate, toCartAddress} from \"../util\";\r\nimport {__} from \"@wordpress/i18n\";\r\nimport {usePaymentEvents} from \"../../hooks\";\r\n\r\nexport const usePaymentsClient = (\r\n    {\r\n        merchantInfo,\r\n        paymentRequest,\r\n        billing,\r\n        shippingData,\r\n        eventRegistration,\r\n        canMakePayment,\r\n        setErrorMessage,\r\n        setPaymentMethod,\r\n        exportedValues,\r\n        onClick,\r\n        onClose,\r\n        getData\r\n    }) => {\r\n    const {environment} = getData();\r\n    const [paymentsClient, setPaymentsClient] = useState();\r\n    const [button, setButton] = useState(null);\r\n    const currentBilling = useRef(billing);\r\n    const currentShipping = useRef(shippingData);\r\n    const stripe = useStripe();\r\n    const {addPaymentEvent} = usePaymentEvents({\r\n        billing,\r\n        shippingData,\r\n        eventRegistration\r\n    });\r\n    useEffect(() => {\r\n        currentBilling.current = billing;\r\n        currentShipping.current = shippingData;\r\n    });\r\n\r\n    const setAddressData = useCallback((paymentData) => {\r\n        if (paymentData?.paymentMethodData?.info?.billingAddress) {\r\n            let billingAddress = paymentData.paymentMethodData.info.billingAddress;\r\n            if (isAddressValid(currentBilling.current.billingData, ['phone', 'email']) && isEmpty(currentBilling.current.billingData?.phone)) {\r\n                billingAddress = {phoneNumber: billingAddress.phoneNumber};\r\n            }\r\n            exportedValues.billingData = currentBilling.current.billingData = toCartAddress(billingAddress, {email: paymentData.email});\r\n        }\r\n        if (paymentData?.shippingAddress) {\r\n            exportedValues.shippingAddress = toCartAddress(paymentData.shippingAddress);\r\n        }\r\n    }, [exportedValues, paymentRequest]);\r\n\r\n    const removeButton = useCallback((parentElement) => {\r\n        while (parentElement.firstChild) {\r\n            parentElement.removeChild(parentElement.firstChild);\r\n        }\r\n    }, [button]);\r\n    const handleClick = useCallback(async () => {\r\n        onClick();\r\n        try {\r\n            let paymentData = await paymentsClient.loadPaymentData(paymentRequest);\r\n\r\n            // set the address data so it can be used during the checkout process\r\n            setAddressData(paymentData);\r\n\r\n            const data = JSON.parse(paymentData.paymentMethodData.tokenizationData.token);\r\n\r\n            let result = await stripe.createPaymentMethod({\r\n                type: 'card',\r\n                card: {token: data.id},\r\n                billing_details: getBillingDetailsFromAddress(currentBilling.current.billingData)\r\n            });\r\n\r\n            if (result.error) {\r\n                throw new StripeError(result.error);\r\n            }\r\n\r\n            setPaymentMethod(result.paymentMethod.id);\r\n        } catch (err) {\r\n            if (err?.statusCode === \"CANCELED\") {\r\n                onClose();\r\n            } else {\r\n                console.log(getErrorMessage(err));\r\n                setErrorMessage(getErrorMessage(err));\r\n            }\r\n        }\r\n    }, [\r\n        stripe,\r\n        paymentsClient,\r\n        onClick\r\n    ]);\r\n\r\n    const createButton = useCallback(async () => {\r\n        try {\r\n            if (paymentsClient && !button && stripe) {\r\n                await canMakePayment;\r\n                setButton(paymentsClient.createButton({\r\n                    onClick: handleClick,\r\n                    ...getData('buttonStyle')\r\n                }));\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }, [\r\n        stripe,\r\n        button,\r\n        paymentsClient,\r\n        handleClick\r\n    ]);\r\n\r\n    const paymentOptions = useMemo(() => {\r\n        let options = {\r\n            environment,\r\n            merchantInfo,\r\n            paymentDataCallbacks: {\r\n                onPaymentAuthorized: () => Promise.resolve({transactionState: \"SUCCESS\"})\r\n            }\r\n        }\r\n        if (paymentRequest.shippingAddressRequired) {\r\n            options.paymentDataCallbacks.onPaymentDataChanged = (paymentData) => {\r\n                return new Promise((resolve, reject) => {\r\n                    const shipping = currentShipping.current;\r\n                    const {shippingAddress: address, shippingOptionData} = paymentData;\r\n                    const intermediateAddress = toCartAddress(address);\r\n                    // pass the Promise resolve to a ref so it persists beyond the re-render\r\n                    const selectedRates = getSelectedShippingOption(shippingOptionData.id);\r\n                    const addressEqual = isShallowEqual(getIntermediateAddress(shipping.shippingAddress), intermediateAddress);\r\n                    const shippingEqual = isShallowEqual(shipping.selectedRates, {\r\n                        [selectedRates[1]]: selectedRates[0]\r\n                    });\r\n                    addPaymentEvent('onShippingChanged', (success, {billing, shipping}) => {\r\n                        if (success) {\r\n                            resolve(getPaymentRequestUpdate({\r\n                                billing,\r\n                                shippingData: {\r\n                                    needsShipping: true,\r\n                                    shippingRates: shipping.shippingRates\r\n                                },\r\n                                processingCountry: getData('processingCountry'),\r\n                                totalPriceLabel: getData('totalPriceLabel')\r\n                            }))\r\n                        } else {\r\n                            resolve({\r\n                                error: {\r\n                                    reason: 'SHIPPING_ADDRESS_UNSERVICEABLE',\r\n                                    message: __('Your shipping address is not serviceable.', 'woo-stripe-payment'),\r\n                                    intent: 'SHIPPING_ADDRESS'\r\n                                }\r\n                            });\r\n                        }\r\n                    }, addressEqual && shippingEqual);\r\n                    currentShipping.current.setShippingAddress({...currentShipping.current.shippingAddress, ...intermediateAddress});\r\n                    if (shippingOptionData.id !== 'shipping_option_unselected') {\r\n                        currentShipping.current.setSelectedRates(...selectedRates);\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        return options;\r\n    }, [paymentRequest]);\r\n\r\n    useEffect(() => {\r\n        setPaymentsClient(new google.payments.api.PaymentsClient(paymentOptions));\r\n    }, [paymentOptions]);\r\n\r\n    useEffect(() => {\r\n        createButton();\r\n    }, [createButton])\r\n\r\n    return {\r\n        button,\r\n        removeButton\r\n    };\r\n}","import './style.scss';\r\n\r\nexport * from './payment-method';","import {registerExpressPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings, initStripe as loadStripe, isCartPage} from '../util';\r\nimport {useErrorMessage} from \"./hooks\";\r\nimport GooglePayButton from './button';\r\nimport {BASE_PAYMENT_METHOD, BASE_PAYMENT_REQUEST} from './constants';\r\nimport google from '@googlepay';\r\nimport {Elements} from \"@stripe/react-stripe-js\";\r\n\r\nconst getData = getSettings('stripe_googlepay_data');\r\n\r\nconst canMakePayment = (() => {\r\n    const paymentsClient = new google.payments.api.PaymentsClient({\r\n        environment: getData('environment'),\r\n        merchantInfo: {\r\n            merchantId: getData('merchantId'),\r\n            merchantName: getData('merchantName')\r\n        }\r\n    });\r\n    const isReadyToPayRequest = {...BASE_PAYMENT_REQUEST, allowedPaymentMethods: [BASE_PAYMENT_METHOD]};\r\n    return paymentsClient.isReadyToPay(isReadyToPayRequest).then(() => {\r\n        return true;\r\n    }).catch(err => {\r\n        console.log(err);\r\n        return false;\r\n    })\r\n})();\r\n\r\nconst GooglePayContent = ({getData, components, ...props}) => {\r\n    const {ValidationInputError} = components;\r\n    const {errorMessage, setErrorMessage} = useErrorMessage();\r\n    return (\r\n        <div className='wc-stripe-gpay-container'>\r\n            <Elements stripe={loadStripe}>\r\n                <GooglePayButton getData={getData}\r\n                                 canMakePayment={canMakePayment}\r\n                                 setErrorMessage={setErrorMessage}\r\n                                 {...props}/>\r\n                {errorMessage && <ValidationInputError errorMessage={errorMessage}/>}\r\n            </Elements>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst GooglePayEdit = ({getData, ...props}) => {\r\n    const buttonType = getData('buttonStyle').buttonType;\r\n    const src = getData('editorIcons')?.[buttonType] || 'long';\r\n    return (\r\n        <div className={`gpay-block-editor ${buttonType}`}>\r\n            <img src={src}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nregisterExpressPaymentMethod({\r\n    name: getData('name'),\r\n    canMakePayment: () => {\r\n        if (getData('isAdmin')) {\r\n            if (isCartPage()) {\r\n                return getData('cartCheckoutEnabled');\r\n            }\r\n            return true;\r\n        }\r\n        if (isCartPage() && !getData('cartCheckoutEnabled')) {\r\n            return false;\r\n        }\r\n        return loadStripe.then(stripe => {\r\n            if (stripe.error) {\r\n                return stripe;\r\n            }\r\n            return canMakePayment;\r\n        });\r\n    },\r\n    content: <GooglePayContent getData={getData}/>,\r\n    edit: <GooglePayEdit getData={getData}/>,\r\n    supports: {\r\n        showSavedCards: getData('showSavedCards'),\r\n        showSaveOption: getData('showSaveOption'),\r\n        features: getData('features')\r\n    }\r\n})","import {getShippingOptionId, removeNumberPrecision, toCartAddress as mapAddressToCartAddress} from \"../util\";\r\nimport {formatPrice} from '../util';\r\nimport {getSetting} from '@woocommerce/settings'\r\n\r\nconst generalData = getSetting('stripeGeneralData');\r\n\r\nconst ADDRESS_MAPPINGS = {\r\n    name: (address, name) => {\r\n        address.first_name = name.split(' ').slice(0, -1).join(' ');\r\n        address.last_name = name.split(' ').pop();\r\n        return address;\r\n    },\r\n    countryCode: 'country',\r\n    address1: 'address_1',\r\n    address2: 'address_2',\r\n    locality: 'city',\r\n    administrativeArea: 'state',\r\n    postalCode: 'postcode',\r\n    email: 'email',\r\n    phoneNumber: 'phone'\r\n}\r\n\r\nexport const getTransactionInfo = ({billing, processingCountry, totalPriceLabel}, status = 'ESTIMATED') => {\r\n    const {cartTotal, cartTotalItems, currency} = billing;\r\n    const transactionInfo = {\r\n        countryCode: processingCountry,\r\n        currencyCode: currency.code,\r\n        totalPriceStatus: status,\r\n        totalPrice: removeNumberPrecision(cartTotal.value, currency.minorUnit).toString(),\r\n        displayItems: getDisplayItems(cartTotalItems, currency.minorUnit),\r\n        totalPriceLabel\r\n    }\r\n    return transactionInfo;\r\n}\r\n\r\nexport const getPaymentRequestUpdate = ({billing, shippingData, processingCountry, totalPriceLabel}) => {\r\n    const {needsShipping, shippingRates} = shippingData;\r\n    let update = {\r\n        newTransactionInfo: getTransactionInfo({\r\n            billing, processingCountry, totalPriceLabel\r\n        }, 'FINAL')\r\n    }\r\n    if (needsShipping) {\r\n        update.newShippingOptionParameters = getShippingOptionParameters(shippingRates);\r\n    }\r\n    return update;\r\n}\r\n\r\n/**\r\n * Return an array of line item objects\r\n * @param cartTotalItems\r\n * @param unit\r\n * @returns {[]}\r\n */\r\nconst getDisplayItems = (cartTotalItems, unit = 2) => {\r\n    let items = [];\r\n    const keys = ['total_tax', 'total_shipping'];\r\n    cartTotalItems.forEach(item => {\r\n        if (0 < item.value || (item.key && keys.includes(item.key))) {\r\n            items.push({\r\n                label: item.label,\r\n                type: 'LINE_ITEM',\r\n                price: removeNumberPrecision(item.value, unit).toString()\r\n            });\r\n        }\r\n    })\r\n    return items;\r\n}\r\n\r\nexport const getShippingOptionParameters = (shippingRates) => {\r\n    const shippingOptions = getShippingOptions(shippingRates);\r\n    const shippingOptionIds = shippingOptions.map(option => option.id);\r\n    let defaultSelectedOptionId = shippingOptionIds.slice(0, 1).shift();\r\n    shippingRates.forEach((shippingPackage, idx) => {\r\n        shippingPackage.shipping_rates.forEach(rate => {\r\n            if (rate.selected) {\r\n                defaultSelectedOptionId = getShippingOptionId(idx, rate.rate_id);\r\n            }\r\n        });\r\n    });\r\n    return {\r\n        shippingOptions,\r\n        defaultSelectedOptionId,\r\n    }\r\n}\r\n\r\n//id label description\r\nexport const getShippingOptions = (shippingRates) => {\r\n    let options = [];\r\n    shippingRates.forEach((shippingPackage, idx) => {\r\n        let rates = shippingPackage.shipping_rates.map(rate => {\r\n            let txt = document.createElement('textarea');\r\n            txt.innerHTML = rate.name;\r\n            let price = formatPrice(rate.price, rate.currency_code);\r\n            return {\r\n                id: getShippingOptionId(idx, rate.rate_id),\r\n                label: txt.value,\r\n                description: `${price}`\r\n            }\r\n        });\r\n        options = [...options, ...rates];\r\n    });\r\n    return options;\r\n}\r\n\r\nexport const toCartAddress = mapAddressToCartAddress(ADDRESS_MAPPINGS);\r\n","export * from './use-process-payment-intent';\r\nexport * from './use-after-process-payment';\r\nexport * from './use-setup-intent';\r\nexport * from './use-stripe-error';\r\nexport * from './use-exported-values';\r\nexport * from './use-payment-request';\r\nexport * from './use-payment-events';\r\nexport * from './use-breakpoint-width';\r\nexport * from './use-process-checkout-error';\r\nexport * from './use-update-payment-intent';","import {useEffect} from '@wordpress/element'\r\nimport {useStripe} from \"@stripe/react-stripe-js\";\r\nimport {handleCardAction} from \"../util\";\r\nimport {useProcessCheckoutError} from \"./use-process-checkout-error\";\r\n\r\nexport const useAfterProcessingPayment = (\r\n    {\r\n        getData,\r\n        eventRegistration,\r\n        responseTypes,\r\n        activePaymentMethod,\r\n        shouldSavePayment = false,\r\n        messageContext = null\r\n    }) => {\r\n    const stripe = useStripe();\r\n    const {onCheckoutAfterProcessingWithSuccess, onCheckoutAfterProcessingWithError} = eventRegistration;\r\n    useProcessCheckoutError({\r\n        responseTypes,\r\n        subscriber: onCheckoutAfterProcessingWithError,\r\n        messageContext\r\n    });\r\n    useEffect(() => {\r\n        let unsubscribeAfterProcessingWithSuccess = onCheckoutAfterProcessingWithSuccess(async ({redirectUrl}) => {\r\n            if (getData('name') === activePaymentMethod) {\r\n                //check if response is in redirect. If so, open modal\r\n                return await handleCardAction({\r\n                    redirectUrl,\r\n                    responseTypes,\r\n                    stripe,\r\n                    getData,\r\n                    shouldSavePayment\r\n                });\r\n            }\r\n            return null;\r\n        })\r\n        return () => unsubscribeAfterProcessingWithSuccess()\r\n    }, [\r\n        stripe,\r\n        responseTypes,\r\n        onCheckoutAfterProcessingWithSuccess,\r\n        activePaymentMethod,\r\n        shouldSavePayment\r\n    ]);\r\n}","import {useState, useEffect, useCallback} from '@wordpress/element';\r\nimport {storeInCache, getFromCache} from \"../util\";\r\n\r\nexport const useBreakpointWidth = (\r\n    {\r\n        name,\r\n        width,\r\n        node,\r\n        className\r\n    }) => {\r\n    const [windowWidth, setWindowWith] = useState(window.innerWidth);\r\n    const getMaxWidth = useCallback((name) => {\r\n        const maxWidth = getFromCache(name);\r\n        return maxWidth ? parseInt(maxWidth) : 0;\r\n    }, []);\r\n    const setMaxWidth = useCallback((name, width) => storeInCache(name, width), []);\r\n\r\n    useEffect(() => {\r\n        const el = typeof node === 'function' ? node() : node;\r\n\r\n        if (el) {\r\n            const maxWidth = getMaxWidth(name);\r\n            if (!maxWidth || width > maxWidth) {\r\n                setMaxWidth(name, width);\r\n            }\r\n            if (el.clientWidth < width) {\r\n                el.classList.add(className);\r\n            } else {\r\n                if (el.clientWidth > maxWidth) {\r\n                    el.classList.remove(className);\r\n                }\r\n            }\r\n        }\r\n    }, [windowWidth, node]);\r\n    useEffect(() => {\r\n        const handleResize = () => setWindowWith(window.innerWidth);\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    });\r\n}\r\n\r\nexport const useExpressBreakpointWidth = (\r\n    {\r\n        payment_method,\r\n        width\r\n    }) => {\r\n    const node = useCallback(() => {\r\n        const el = document.getElementById(`express-payment-method-${payment_method}`);\r\n        return el ? el.parentNode : null;\r\n    }, []);\r\n    useBreakpointWidth({\r\n        name: 'expressMaxWidth',\r\n        width,\r\n        node,\r\n        className: 'wc-stripe-express__sm'\r\n    });\r\n\r\n}","import {useRef} from '@wordpress/element';\r\n\r\nexport const useExportedValues = () => {\r\n    const exportedValues = useRef({});\r\n    return exportedValues.current;\r\n}","import {useEffect, useCallback, useRef, useState} from '@wordpress/element';\r\nimport {hasShippingRates} from '../util';\r\n\r\nexport const usePaymentEvents = (\r\n    {\r\n        billing,\r\n        shippingData,\r\n        eventRegistration\r\n    }) => {\r\n    const {onShippingRateSuccess, onShippingRateFail, onShippingRateSelectSuccess} = eventRegistration;\r\n    const currentBilling = useRef(billing);\r\n    const currentShipping = useRef(shippingData);\r\n    const [handler, setHandler] = useState(null);\r\n    const [paymentEvents, setPaymentEvent] = useState({\r\n        onShippingChanged: false\r\n    });\r\n    const addPaymentEvent = useCallback((name, handler, execute = false) => {\r\n        if (execute) {\r\n            setHandler({[name]: handler});\r\n        } else {\r\n            setPaymentEvent({...paymentEvents, [name]: handler});\r\n        }\r\n    }, [paymentEvents, setPaymentEvent]);\r\n    const removePaymentEvent = useCallback((name) => {\r\n        if (paymentEvents[name]) {\r\n            delete paymentEvents[name];\r\n            setPaymentEvent(paymentEvents);\r\n        }\r\n    }, [paymentEvents]);\r\n\r\n    const onShippingChanged = useCallback(() => {\r\n        const shipping = currentShipping.current;\r\n        const billing = currentBilling.current;\r\n        if (paymentEvents.onShippingChanged && !shipping.isSelectingRate && !shipping.shippingRatesLoading) {\r\n            const handler = paymentEvents.onShippingChanged;\r\n            let success = true;\r\n            if (!hasShippingRates(shipping.shippingRates)) {\r\n                success = false;\r\n            }\r\n            handler(success, {\r\n                billing,\r\n                shipping\r\n            });\r\n            removePaymentEvent('onShippingChanged');\r\n        }\r\n    }, [paymentEvents, removePaymentEvent]);\r\n\r\n    useEffect(() => {\r\n        currentBilling.current = billing;\r\n        currentShipping.current = shippingData;\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (handler) {\r\n            if (handler.onShippingChanged) {\r\n                handler.onShippingChanged(true, {\r\n                    billing: currentBilling.current,\r\n                    shipping: currentShipping.current\r\n                })\r\n                setHandler(null);\r\n            }\r\n        }\r\n    }, [handler]);\r\n\r\n    useEffect(() => {\r\n        const unsubscribeShippingRateSuccess = onShippingRateSuccess(onShippingChanged);\r\n        const unsubscribeShippingRateSelectSuccess = onShippingRateSelectSuccess(onShippingChanged);\r\n        const unsubscribeShippingRateFail = onShippingRateFail(({hasInvalidAddress, hasError}) => {\r\n            if (paymentEvents.onShippingChanged) {\r\n                const handler = paymentEvents.onShippingChanged;\r\n                handler(false);\r\n                removePaymentEvent('onShippingChanged');\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            unsubscribeShippingRateSuccess();\r\n            unsubscribeShippingRateFail();\r\n            unsubscribeShippingRateSelectSuccess();\r\n        }\r\n    }, [\r\n        paymentEvents,\r\n        onShippingRateSuccess,\r\n        onShippingRateFail,\r\n        onShippingRateSelectSuccess\r\n    ]);\r\n\r\n    return {addPaymentEvent, removePaymentEvent};\r\n}","import {useState, useEffect, useRef, useCallback} from '@wordpress/element';\r\nimport {usePaymentEvents} from './use-payment-events';\r\nimport {getIntermediateAddress} from '../util';\r\nimport isShallowEqual from '@wordpress/is-shallow-equal';\r\nimport {\r\n    getDisplayItems,\r\n    getShippingOptions,\r\n    getSelectedShippingOption,\r\n    isFieldRequired,\r\n    toCartAddress as mapToCartAddress\r\n} from \"../util\";\r\n\r\nconst toCartAddress = mapToCartAddress();\r\n\r\nexport const usePaymentRequest = (\r\n    {\r\n        getData,\r\n        onClose,\r\n        stripe,\r\n        billing,\r\n        shippingData,\r\n        eventRegistration,\r\n        setPaymentMethod,\r\n        exportedValues,\r\n        canPay\r\n    }) => {\r\n    const {addPaymentEvent} = usePaymentEvents({\r\n        billing,\r\n        shippingData,\r\n        eventRegistration\r\n    });\r\n    const {shippingAddress, needsShipping, shippingRates} = shippingData;\r\n    const {billingData, cartTotalItems, currency, cartTotal} = billing;\r\n    const [paymentRequest, setPaymentRequest] = useState(null);\r\n    const paymentRequestOptions = useRef({});\r\n    const currentShipping = useRef(shippingData)\r\n    const currentBilling = useRef(billing);\r\n\r\n    useEffect(() => {\r\n        currentShipping.current = shippingData;\r\n        currentBilling.current = billing;\r\n    }, [shippingData]);\r\n\r\n    useEffect(() => {\r\n        if (stripe) {\r\n            const options = {\r\n                country: getData('countryCode'),\r\n                currency: currency?.code.toLowerCase(),\r\n                total: {\r\n                    amount: cartTotal.value,\r\n                    label: cartTotal.label,\r\n                    pending: true\r\n                },\r\n                requestPayerName: true,\r\n                requestPayerEmail: isFieldRequired('email', billingData.country),\r\n                requestPayerPhone: isFieldRequired('phone', billingData.country),\r\n                requestShipping: needsShipping,\r\n                displayItems: getDisplayItems(cartTotalItems, currency)\r\n            }\r\n            if (options.requestShipping) {\r\n                options.shippingOptions = getShippingOptions(shippingRates);\r\n            }\r\n            paymentRequestOptions.current = options;\r\n            const paymentRequest = stripe.paymentRequest(paymentRequestOptions.current);\r\n            paymentRequest.canMakePayment().then(result => {\r\n                if (canPay(result)) {\r\n                    setPaymentRequest(paymentRequest);\r\n                } else {\r\n                    setPaymentRequest(null);\r\n                }\r\n            });\r\n        }\r\n    }, [\r\n        stripe,\r\n        cartTotal.value,\r\n        billingData.country,\r\n        shippingRates,\r\n        cartTotalItems,\r\n        currency.code\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        if (paymentRequest) {\r\n            if (paymentRequestOptions.current.requestShipping) {\r\n                paymentRequest.on('shippingaddresschange', onShippingAddressChange);\r\n                paymentRequest.on('shippingoptionchange', onShippingOptionChange);\r\n            }\r\n            paymentRequest.on('cancel', onClose);\r\n            paymentRequest.on('paymentmethod', onPaymentMethodReceived);\r\n        }\r\n    }, [\r\n        paymentRequest,\r\n        onShippingAddressChange,\r\n        onClose,\r\n        onPaymentMethodReceived\r\n    ]);\r\n\r\n    const updatePaymentEvent = useCallback((event) => (success, {billing, shipping}) => {\r\n        const {cartTotal, cartTotalItems, currency} = billing;\r\n        const {shippingRates} = shipping;\r\n        if (success) {\r\n            event.updateWith({\r\n                status: 'success',\r\n                total: {\r\n                    amount: cartTotal.value,\r\n                    label: cartTotal.label,\r\n                    pending: false\r\n                },\r\n                displayItems: getDisplayItems(cartTotalItems, currency),\r\n                shippingOptions: getShippingOptions(shippingRates)\r\n            });\r\n        } else {\r\n            event.updateWith({status: 'invalid_shipping_address'});\r\n        }\r\n    }, []);\r\n\r\n    const onShippingAddressChange = useCallback(event => {\r\n        const {shippingAddress} = event;\r\n        const shipping = currentShipping.current;\r\n        const intermediateAddress = toCartAddress(shippingAddress);\r\n        shipping.setShippingAddress({...shipping.shippingAddress, ...intermediateAddress});\r\n        const addressEqual = isShallowEqual(getIntermediateAddress(shipping.shippingAddress), intermediateAddress);\r\n        addPaymentEvent('onShippingChanged', updatePaymentEvent(event), addressEqual);\r\n    }, [addPaymentEvent]);\r\n\r\n    const onShippingOptionChange = useCallback(event => {\r\n        const {shippingOption} = event;\r\n        const shipping = currentShipping.current;\r\n        shipping.setSelectedRates(...getSelectedShippingOption(shippingOption.id));\r\n        addPaymentEvent('onShippingChanged', updatePaymentEvent(event));\r\n    }, [addPaymentEvent]);\r\n\r\n    const onPaymentMethodReceived = useCallback((paymentResponse) => {\r\n        const {paymentMethod, payerName = null, payerEmail = null, payerPhone = null} = paymentResponse;\r\n        // set address data\r\n        let billingData = {payerName, payerEmail, payerPhone};\r\n        if (paymentMethod?.billing_details.address) {\r\n            billingData = toCartAddress(paymentMethod.billing_details.address, billingData);\r\n        }\r\n        exportedValues.billingData = billingData;\r\n\r\n        if (paymentResponse.shippingAddress) {\r\n            exportedValues.shippingAddress = toCartAddress(paymentResponse.shippingAddress);\r\n        }\r\n\r\n        // set payment method\r\n        setPaymentMethod(paymentMethod.id);\r\n        paymentResponse.complete(\"success\");\r\n    }, []);\r\n\r\n    return {paymentRequest};\r\n}","import {useEffect} from '@wordpress/element';\r\n\r\nexport const useProcessCheckoutError = (\r\n    {\r\n        responseTypes,\r\n        subscriber,\r\n        messageContext = null\r\n    }) => {\r\n    useEffect(() => {\r\n        const unsubscribe = subscriber((data) => {\r\n            if (data?.processingResponse.paymentDetails?.stripeErrorMessage) {\r\n                return {\r\n                    type: responseTypes.ERROR,\r\n                    message: data.processingResponse.paymentDetails.stripeErrorMessage,\r\n                    messageContext\r\n                };\r\n            }\r\n            return null;\r\n        });\r\n        return () => unsubscribe();\r\n    }, [responseTypes, subscriber]);\r\n}","import {useEffect, useState, useCallback, useRef} from '@wordpress/element';\r\nimport {useStripe} from '@stripe/react-stripe-js';\r\nimport {\r\n    ensureSuccessResponse,\r\n    ensureErrorResponse,\r\n    getBillingDetailsFromAddress,\r\n    StripeError\r\n} from '../util';\r\n\r\nexport const useProcessPaymentIntent = (\r\n    {\r\n        getData,\r\n        billing,\r\n        shippingData,\r\n        onPaymentProcessing,\r\n        emitResponse,\r\n        error,\r\n        onSubmit,\r\n        activePaymentMethod,\r\n        paymentType = 'card',\r\n        setupIntent = null,\r\n        removeSetupIntent = null,\r\n        shouldSavePayment = false,\r\n        exportedValues = {},\r\n        getPaymentMethodArgs = () => ({})\r\n    }) => {\r\n    const {billingData} = billing;\r\n    const {shippingAddress} = shippingData;\r\n    const {responseTypes} = emitResponse;\r\n    const [paymentMethod, setPaymentMethod] = useState(null);\r\n    const stripe = useStripe();\r\n    const currentPaymentMethodArgs = useRef(getPaymentMethodArgs);\r\n    const paymentMethodData = useRef({});\r\n    useEffect(() => {\r\n        currentPaymentMethodArgs.current = getPaymentMethodArgs;\r\n    }, [getPaymentMethodArgs]);\r\n\r\n    const addPaymentMethodData = useCallback((data) => {\r\n        paymentMethodData.current = {...paymentMethodData.current, ...data};\r\n    }, []);\r\n\r\n    const getCreatePaymentMethodArgs = useCallback(() => {\r\n        const args = {\r\n            type: paymentType,\r\n            billing_details: getBillingDetailsFromAddress(exportedValues?.billingData ? exportedValues.billingData : billingData)\r\n        }\r\n        return {...args, ...currentPaymentMethodArgs.current()};\r\n    }, [billingData, paymentType, getPaymentMethodArgs]);\r\n\r\n    const getSuccessResponse = useCallback((paymentMethodId, shouldSavePayment) => {\r\n        const response = {\r\n            meta: {\r\n                paymentMethodData: {\r\n                    [`${getData('name')}_token_key`]: paymentMethodId,\r\n                    [`${getData('name')}_save_source_key`]: shouldSavePayment,\r\n                    ...paymentMethodData.current\r\n                }\r\n            }\r\n        }\r\n        if (exportedValues?.billingData) {\r\n            response.meta.billingData = exportedValues.billingData;\r\n        }\r\n        if (exportedValues?.shippingAddress) {\r\n            response.meta.shippingData = {address: exportedValues.shippingAddress};\r\n        }\r\n        return response;\r\n    }, [billingData, shippingAddress]);\r\n\r\n    useEffect(() => {\r\n        if (paymentMethod && typeof paymentMethod === 'string') {\r\n            onSubmit();\r\n        }\r\n    }, [paymentMethod, onSubmit]);\r\n\r\n    useEffect(() => {\r\n        const unsubscribeProcessingPayment = onPaymentProcessing(async () => {\r\n            if (activePaymentMethod !== getData('name')) {\r\n                return null;\r\n            }\r\n            let [result, paymentMethodId] = [null, null];\r\n            try {\r\n                if (error) {\r\n                    throw new StripeError(error);\r\n                }\r\n                if (setupIntent) {\r\n                    result = await stripe.confirmCardSetup(setupIntent.client_secret, {\r\n                        payment_method: getCreatePaymentMethodArgs()\r\n                    });\r\n                    if (result.error) {\r\n                        throw new StripeError(result.error);\r\n                    }\r\n                    paymentMethodId = result.setupIntent.payment_method;\r\n                    removeSetupIntent();\r\n                } else {\r\n                    // payment method has already been created.\r\n                    if (paymentMethod) {\r\n                        paymentMethodId = paymentMethod;\r\n                    } else {\r\n                        //create the payment method\r\n                        result = await stripe.createPaymentMethod(getCreatePaymentMethodArgs());\r\n                        if (result.error) {\r\n                            throw new StripeError(result.error);\r\n                        }\r\n                        paymentMethodId = result.paymentMethod.id;\r\n                    }\r\n                }\r\n                return ensureSuccessResponse(responseTypes, getSuccessResponse(paymentMethodId, shouldSavePayment));\r\n            } catch (e) {\r\n                console.log(e);\r\n                setPaymentMethod(null);\r\n                return ensureErrorResponse(responseTypes, e.error);\r\n            }\r\n\r\n        });\r\n        return () => unsubscribeProcessingPayment();\r\n    }, [\r\n        paymentMethod,\r\n        billingData,\r\n        onPaymentProcessing,\r\n        stripe,\r\n        setupIntent,\r\n        activePaymentMethod,\r\n        shouldSavePayment\r\n    ]);\r\n    return {\r\n        setPaymentMethod,\r\n        getCreatePaymentMethodArgs,\r\n        addPaymentMethodData\r\n    };\r\n}","import {useEffect, useState, useCallback} from '@wordpress/element';\r\nimport apiFetch from \"@wordpress/api-fetch\";\r\nimport {\r\n    getSettings,\r\n    getRoute,\r\n    cartContainsPreOrder,\r\n    cartContainsSubscription,\r\n    getFromCache,\r\n    storeInCache,\r\n    deleteFromCache\r\n} from '../util';\r\n\r\nexport const useSetupIntent = (\r\n    {\r\n        cartTotal,\r\n        setError\r\n    }) => {\r\n    const [setupIntent, setSetupIntent] = useState(getFromCache('setupIntent'));\r\n\r\n    useEffect(() => {\r\n        const createSetupIntent = async () => {\r\n            if (setupIntent) {\r\n                return;\r\n            }\r\n            // only create intent under certain conditions\r\n            let result = await apiFetch({\r\n                url: getRoute('create/setup_intent'),\r\n                method: 'POST'\r\n            });\r\n            if (result.code) {\r\n                setError(result.message);\r\n            } else {\r\n                storeInCache('setupIntent', result.intent);\r\n                setSetupIntent(result.intent);\r\n            }\r\n        }\r\n        if (cartContainsPreOrder() || (cartContainsSubscription() && cartTotal.value == 0)) {\r\n            if (!setupIntent) {\r\n                createSetupIntent();\r\n            }\r\n        } else {\r\n            setSetupIntent(null);\r\n        }\r\n    }, [cartTotal.value]);\r\n    const removeSetupIntent = useCallback(() => {\r\n        deleteFromCache('setupIntent');\r\n    }, [cartTotal.value]);\r\n    return {setupIntent, removeSetupIntent};\r\n}","import {useState} from '@wordpress/element'\r\n\r\nexport const useStripeError = () => {\r\n    const [error, setError] = useState(false);\r\n    return [error, setError];\r\n}","import {useState, useEffect, useRef, useCallback} from '@wordpress/element';\r\nimport {useStripe, useElements} from \"@stripe/react-stripe-js\";\r\nimport {ensureErrorResponse, ensureSuccessResponse, getBillingDetailsFromAddress, StripeError, isNextActionRequired, getRoute} from '../util';\r\nimport apiFetch from \"@wordpress/api-fetch\";\r\n\r\nexport const useUpdatePaymentIntent = (\r\n    {\r\n        clientSecret,\r\n        billingData,\r\n        eventRegistration,\r\n        responseTypes,\r\n        name,\r\n        shouldSavePayment,\r\n        noticeContexts\r\n    }\r\n) => {\r\n    const {onPaymentProcessing, onCheckoutAfterProcessingWithSuccess} = eventRegistration;\r\n    const currentData = useRef({billingData});\r\n    const paymentMethodData = useRef({});\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n\r\n    const getSuccessResponse = useCallback((paymentMethod, shouldSavePayment) => {\r\n        const response = {\r\n            meta: {\r\n                paymentMethodData: {\r\n                    [`${name}_token_key`]: paymentMethod,\r\n                    [`${name}_save_source_key`]: shouldSavePayment,\r\n                    ...paymentMethodData.current\r\n                }\r\n            }\r\n        }\r\n        return response;\r\n    }, []);\r\n\r\n    const addPaymentMethodData = useCallback((data) => {\r\n        paymentMethodData.current = {...paymentMethodData.current, ...data};\r\n    }, []);\r\n\r\n    const updatePaymentIntent = useCallback(async () => {\r\n        const {billingData} = currentData.current;\r\n        return await stripe.updatePaymentIntent({\r\n            elements,\r\n            params: {\r\n                payment_method_data: {\r\n                    billing_details: getBillingDetailsFromAddress(billingData)\r\n                }\r\n            }\r\n        });\r\n    }, [stripe, elements]);\r\n\r\n    const confirmPayment = useCallback(async () => {\r\n        const {billingData} = currentData.current;\r\n        return await stripe.confirmPayment({\r\n            elements,\r\n            confirmParams: {\r\n                payment_method_data: {\r\n                    billing_details: getBillingDetailsFromAddress(billingData)\r\n                }\r\n            },\r\n            redirect: 'if_required'\r\n        });\r\n    }, [stripe, elements]);\r\n\r\n    useEffect(() => {\r\n        currentData.current = {billingData};\r\n    });\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onPaymentProcessing(async () => {\r\n\r\n            try {\r\n                let paymentMethod = null;\r\n                let result = await stripe.retrievePaymentIntent(clientSecret);\r\n                if (result.paymentIntent.status === 'requires_action') {\r\n                    paymentMethod = result.paymentIntent.payment_method;\r\n                    await confirmPayment();\r\n                } else {\r\n                    result = await updatePaymentIntent();\r\n                    if (result.error) {\r\n                        throw new StripeError(result.error);\r\n                    }\r\n                    paymentMethod = result.paymentIntent.payment_method;\r\n                }\r\n                return ensureSuccessResponse(responseTypes, getSuccessResponse(paymentMethod, shouldSavePayment));\r\n            } catch (error) {\r\n                return ensureErrorResponse(responseTypes, error, {messageContext: noticeContexts.PAYMENTS});\r\n            }\r\n        });\r\n        return () => unsubscribe();\r\n    }, [\r\n        onPaymentProcessing,\r\n        updatePaymentIntent,\r\n        confirmPayment,\r\n        clientSecret,\r\n        shouldSavePayment\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onCheckoutAfterProcessingWithSuccess(async ({redirectUrl}) => {\r\n            const result = isNextActionRequired(redirectUrl);\r\n            if (result) {\r\n                const {client_secret, order_id, order_key} = result;\r\n                try {\r\n                    let response = await confirmPayment();\r\n                    if (response.error) {\r\n                        throw new StripeError(response.error);\r\n                    }\r\n                    response = await apiFetch({\r\n                        url: getRoute('process/payment'),\r\n                        method: 'POST',\r\n                        data: {order_id, order_key, [`${name}_save_source_key`]: shouldSavePayment}\r\n                    })\r\n                    if (response.messages) {\r\n                        return ensureErrorResponse(responseTypes, response.messages);\r\n                    }\r\n                    return ensureSuccessResponse(responseTypes, {\r\n                        redirectUrl: response.redirect\r\n                    });\r\n                } catch (error) {\r\n                    return ensureErrorResponse(responseTypes, error, {messageContext: noticeContexts.PAYMENTS});\r\n                }\r\n            } else {\r\n                return ensureSuccessResponse(responseTypes);\r\n            }\r\n        });\r\n        return () => unsubscribe();\r\n    }, [\r\n        onCheckoutAfterProcessingWithSuccess,\r\n        confirmPayment,\r\n        shouldSavePayment\r\n    ]);\r\n\r\n    return {\r\n        updatePaymentIntent,\r\n        addPaymentMethodData\r\n    }\r\n}","export * from './use-link';","import {useEffect, useState, useRef} from '@wordpress/element';\r\nimport {useStripe, useElements} from \"@stripe/react-stripe-js\";\r\nimport {toCartAddress as mapToCartAddress, ensureSuccessResponse, getBillingDetailsFromAddress} from '../../util';\r\n\r\nconst toCartAddress = mapToCartAddress();\r\n\r\nexport const useLink = (\r\n    {\r\n        email,\r\n        eventRegistration,\r\n        onClick,\r\n        onSubmit,\r\n        isActive,\r\n        responseTypes,\r\n        ...props\r\n    }) => {\r\n    const [link, setLink] = useState();\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n    const currentData = useRef();\r\n    const linkData = useRef();\r\n    const {onPaymentProcessing} = eventRegistration;\r\n    useEffect(() => {\r\n        currentData.current = {onClick, onSubmit}\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (stripe && elements) {\r\n            setLink(stripe?.linkAutofillModal(elements));\r\n        }\r\n    }, [stripe, elements]);\r\n\r\n    useEffect(() => {\r\n        if (link) {\r\n            link.launch({email});\r\n        }\r\n    }, [link, email]);\r\n\r\n    useEffect(() => {\r\n        if (link) {\r\n            link.on('autofill', event => {\r\n                linkData.current = event;\r\n                currentData.current.onSubmit();\r\n\r\n            });\r\n            link.on('authenticated', event => {\r\n                currentData.current.onClick();\r\n            })\r\n        }\r\n    }, [link]);\r\n\r\n    useEffect(() => {\r\n        if (isActive) {\r\n            const unsubscribe = onPaymentProcessing(async () => {\r\n                const response = {meta: {}};\r\n                const {shippingAddress = null, billingAddress = null} = linkData.current.value;\r\n                if (billingAddress) {\r\n                    response.meta.billingData = toCartAddress({...billingAddress.address, recipient: billingAddress.name})\r\n                }\r\n                if (shippingAddress) {\r\n                    response.meta.shippingData = toCartAddress({...shippingAddress.address, recipient: shippingAddress.name})\r\n                }\r\n                // update the payment intent\r\n                try {\r\n                    const result = await stripe.updatePaymentIntent({\r\n                        elements,\r\n                        params: {\r\n                            payment_method_data: {\r\n                                billing_details: getBillingDetailsFromAddress(response.meta.billingData)\r\n                            }\r\n                        }\r\n                    });\r\n                    response.meta.paymentMethodData = {\r\n                        stripe_cc_token_key: result.paymentIntent.payment_method,\r\n                        stripe_cc_save_source_key: false,\r\n                    }\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n                return ensureSuccessResponse(responseTypes, response);\r\n            });\r\n\r\n            return () => unsubscribe();\r\n        }\r\n    }, [isActive, onPaymentProcessing, stripe, elements])\r\n\r\n    return link;\r\n}","import {useEffect, useState} from '@wordpress/element';\r\nimport {Elements, useStripe, useElements, PaymentElement} from \"@stripe/react-stripe-js\";\r\nimport {registerExpressPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {useLink} from './hooks';\r\nimport {getSettings, initStripe as loadStripe, canMakePayment} from \"../util\";\r\n\r\nconst getData = getSettings('stripe_link_checkout_data');\r\n\r\nexport const LinkComponent = ({cartData, ...props}) => {\r\n    const clientSecret = cartData?.extensions?.stripe_link_checkout?.clientSecret;\r\n    if (clientSecret) {\r\n        return (\r\n            <Elements stripe={loadStripe} options={{clientSecret}}>\r\n                <LinkCheckout {...props}/>\r\n            </Elements>\r\n        );\r\n    }\r\n    return null;\r\n}\r\n\r\nconst LinkCheckout = (\r\n    {\r\n        billing,\r\n        shipping,\r\n        eventRegistration,\r\n        onClick,\r\n        onSubmit,\r\n        activePaymentMethod,\r\n        emitResponse,\r\n        ...props\r\n    }) => {\r\n    const {billingData, currency} = billing;\r\n    const {responseTypes, noticeContexts} = emitResponse;\r\n    const {email} = billingData;\r\n    const isActive = activePaymentMethod === getData('name');\r\n    useLink({\r\n        email,\r\n        eventRegistration,\r\n        onClick,\r\n        onSubmit,\r\n        isActive,\r\n        responseTypes\r\n    });\r\n    return <div style={{display: 'none'}}><PaymentElement/></div>;\r\n}\r\n\r\nregisterExpressPaymentMethod({\r\n    name: getData('name'),\r\n    canMakePayment: (props) => {\r\n        return true;\r\n    },\r\n    content: <LinkComponent/>,\r\n    edit: <LinkComponent/>,\r\n    supports: {\r\n        showSavedCards: getData('showSavedCards'),\r\n        showSaveOption: getData('showSaveOption'),\r\n        features: getData('features')\r\n    }\r\n})","import {useState, useEffect} from '@wordpress/element';\r\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings, initStripe} from \"../util\";\r\nimport {LocalPaymentIntentContent} from './local-payment-method';\r\nimport {PaymentMethod} from \"../../components/checkout\";\r\nimport {canMakePayment} from \"./local-payment-method\";\r\nimport {AfterpayClearpayMessageElement, Elements} from \"@stripe/react-stripe-js\";\r\nimport {sprintf, __} from '@wordpress/i18n';\r\nimport {ExperimentalOrderMeta, TotalsWrapper} from '@woocommerce/blocks-checkout';\r\nimport {registerPlugin} from '@wordpress/plugins';\r\n\r\nconst getData = getSettings('stripe_afterpay_data');\r\nlet variablesHandler;\r\nconst setVariablesHandler = (handler) => {\r\n    variablesHandler = handler;\r\n}\r\n\r\nconst isAvailable = ({total, currency, needsShipping}) => {\r\n    let available = false;\r\n    const requiredParams = getData('requiredParams');\r\n    const accountCountry = getData('accountCountry');\r\n    const requiredParamObj = requiredParams.hasOwnProperty(currency) ? requiredParams[currency] : false;\r\n    if (requiredParamObj) {\r\n        available = accountCountry === requiredParamObj?.[0] && needsShipping && (total > requiredParamObj?.[1] && total < requiredParamObj?.[2]);\r\n    }\r\n    return available;\r\n}\r\n\r\nconst PaymentMethodLabel = ({getData}) => {\r\n    const [variables, setVariables] = useState({\r\n        amount: getData('cartTotal'),\r\n        currency: getData('currency'),\r\n        isEligible: getData('msgOptions').isEligible\r\n    });\r\n    setVariablesHandler(setVariables);\r\n    return (\r\n        <Elements stripe={initStripe} options={getData('elementOptions')}>\r\n            <div className='wc-stripe-blocks-afterpay__label'>\r\n                <AfterpayClearpayMessageElement options={{\r\n                    ...getData('msgOptions'),\r\n                    ...{\r\n                        amount: variables.amount,\r\n                        currency: variables.currency,\r\n                        isEligible: variables.isEligible\r\n                    }\r\n                }}/>\r\n            </div>\r\n        </Elements>\r\n    );\r\n}\r\n\r\nconst AfterpayPaymentMethod = ({content, billing, shippingData, ...props}) => {\r\n    const Content = content;\r\n    const {cartTotal, currency} = billing;\r\n    const {needsShipping} = shippingData\r\n    useEffect(() => {\r\n        variablesHandler({\r\n            amount: cartTotal.value,\r\n            currency: currency.code,\r\n            isEligible: needsShipping\r\n        });\r\n    }, [\r\n        cartTotal.value,\r\n        currency.code,\r\n        needsShipping\r\n    ]);\r\n    return (\r\n        <>\r\n            {needsShipping &&\r\n            <div className='wc-stripe-blocks-payment-method-content'>\r\n                <div className=\"wc-stripe-blocks-afterpay-offsite__container\">\r\n                    <div className=\"wc-stripe-blocks-afterpay__offsite\">\r\n                        <img src={getData('offSiteSrc')}/>\r\n                        <p>{sprintf(__('After clicking \"%s\", you will be redirected to Afterpay to complete your purchase securely.', 'woo-stripe-payment'), getData('placeOrderButtonLabel'))}</p>\r\n                    </div>\r\n                </div>\r\n                <Content {...{...props, billing, shippingData}}/>\r\n            </div>}\r\n        </>\r\n    );\r\n}\r\n\r\nconst OrderItemMessaging = ({cart, extensions, context}) => {\r\n    const {cartTotals, cartNeedsShipping: needsShipping} = cart;\r\n    const {total_price, currency_code: currency} = cartTotals;\r\n    const amount = parseInt(cartTotals.total_price);\r\n    const total = parseInt(cartTotals.total_price) / (10 ** cartTotals.currency_minor_unit);\r\n    if (!isAvailable({total, currency, needsShipping})) {\r\n        return null;\r\n    }\r\n    return (\r\n        <TotalsWrapper>\r\n            <Elements stripe={initStripe} options={getData('elementOptions')}>\r\n                <div className='wc-stripe-blocks-afterpay-totals__item wc-block-components-totals-item'>\r\n                    <AfterpayClearpayMessageElement options={{\r\n                        ...getData('msgOptions'),\r\n                        ...{\r\n                            amount,\r\n                            currency,\r\n                            isEligible: needsShipping\r\n                        }\r\n                    }}/>\r\n                </div>\r\n            </Elements>\r\n        </TotalsWrapper>\r\n    );\r\n}\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            getData={getData}/>,\r\n        ariaLabel: __('Afterpay', 'woo-stripe-payment'),\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData, ({settings, cartTotals, cartNeedsShipping}) => {\r\n            const {currency_code: currency, currency_minor_unit, total_price} = cartTotals;\r\n            if (variablesHandler) {\r\n                variablesHandler({\r\n                    amount: parseInt(cartTotals.total_price),\r\n                    currency,\r\n                    isEligible: cartNeedsShipping\r\n                });\r\n            }\r\n            const total = parseInt(total_price) / (10 ** currency_minor_unit);\r\n            const available = isAvailable({total, currency, needsShipping: cartNeedsShipping});\r\n            if (!available && !settings('hideIneligible')) {\r\n                return true;\r\n            }\r\n            return available;\r\n        }),\r\n        content: <AfterpayPaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            getData={getData}\r\n            confirmationMethod={'confirmAfterpayClearpayPayment'}/>,\r\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    });\r\n\r\n    const render = () => {\r\n        return (\r\n            <ExperimentalOrderMeta>\r\n                <OrderItemMessaging/>\r\n            </ExperimentalOrderMeta>\r\n        )\r\n    }\r\n    registerPlugin('wc-stripe', {\r\n        render: render,\r\n        scope: 'woocommerce-checkout'\r\n    })\r\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings} from \"../util\";\r\nimport {canMakePayment, LocalPaymentIntentContent} from './local-payment-method';\r\nimport {PaymentMethodLabel} from \"../../components/checkout/payment-method-label\";\r\nimport {PaymentMethod} from \"../../components/checkout\";\r\n\r\nconst getData = getSettings('stripe_alipay_data');\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'Alipay',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <PaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            confirmationMethod={'confirmAlipayPayment'}\r\n            getData={getData}/>,\r\n        edit: <PaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}\r\n","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings} from \"../util\";\r\nimport {LocalPaymentIntentContent} from './local-payment-method';\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\nimport {canMakePayment} from \"./local-payment-method\";\r\n\r\nconst getData = getSettings('stripe_bancontact_data');\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'Bancontact',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <PaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            confirmationMethod={'confirmBancontactPayment'}\r\n            getData={getData}/>,\r\n        edit: <PaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings} from \"../util\";\r\nimport {LocalPaymentIntentContent} from './local-payment-method';\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\nimport {canMakePayment} from \"./local-payment-method\";\r\nimport {AuBankAccountElement} from \"@stripe/react-stripe-js\";\r\n\r\nconst getData = getSettings('stripe_becs_data');\r\n\r\nconst BecsPaymentMethod = (props) => {\r\n    return (\r\n        <>\r\n            <PaymentMethod {...props} />\r\n            <div className={'wc-stripe-blocks-mandate becs-mandate'}\r\n                 dangerouslySetInnerHTML={{__html: props.getData('mandate')}}/>\r\n        </>\r\n    );\r\n}\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'BECS',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <BecsPaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            getData={getData}\r\n            confirmationMethod={'confirmAuBecsDebitPayment'}\r\n            component={AuBankAccountElement}/>,\r\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}","import {useState, useEffect, useCallback} from '@wordpress/element';\r\nimport {__} from '@wordpress/i18n';\r\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport classnames from 'classnames';\r\nimport {ensureErrorResponse, getSettings, isTestMode} from \"../util\";\r\nimport {LocalPaymentIntentContent} from './local-payment-method';\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\nimport {canMakePayment} from \"./local-payment-method\";\r\n\r\nconst getData = getSettings('stripe_boleto_data');\r\n\r\nconst BoletoPaymentMethodContainer = ({eventRegistration, ...props}) => {\r\n    const [taxId, setTaxId] = useState('');\r\n    const [isActive, setIsActive] = useState(false);\r\n    const {onPaymentProcessing} = eventRegistration;\r\n    const callback = useCallback(() => {\r\n        return {\r\n            boleto: {\r\n                tax_id: taxId\r\n            }\r\n        };\r\n    }, [taxId]);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onPaymentProcessing(() => {\r\n            if (!taxId) {\r\n                return ensureErrorResponse(props.emitResponse.responseTypes, __('Please enter a valid CPF/CNPJ value', 'woo-stripe-payment'));\r\n            }\r\n            return true;\r\n        })\r\n        return () => unsubscribe();\r\n    }, [onPaymentProcessing, taxId]);\r\n    return (\r\n        <>\r\n            <div className={classnames('wc-block-components-text-input', {\r\n                'is-active': isActive || taxId\r\n            })}>\r\n                <input\r\n                    type='text'\r\n                    id='wc-stripe-boleto-tax_id'\r\n                    onChange={(e) => setTaxId(e.target.value)}\r\n                    onFocus={() => setIsActive(true)}\r\n                    onBlur={() => setIsActive(false)}/>\r\n                <label htmlFor='wc-stripe-boleto-tax_id'>{__(' CPF / CNPJ', ' woo-stripe-payment')}</label>\r\n            </div>\r\n            {isTestMode() &&\r\n            <div className='wc-stripe-boleto__description'>\r\n                <p>{__('Test mode values', 'woo-stripe-payment')}</p>\r\n                <div>\r\n                    <label>CPF:</label>&nbsp;<span>000.000.000-00</span>\r\n                </div>\r\n                <div>\r\n                    <label>CNPJ:</label>&nbsp;<span>00.000.000/0000-00</span>\r\n                </div>\r\n            </div>}\r\n            {!isTestMode() &&\r\n            <div className=\"wc-stripe-boleto__description\">\r\n                <p>{__('Accepted formats', 'woo-stripe-payment')}</p>\r\n                <div>\r\n                    <label>CPF:</label>&nbsp;\r\n                    <span>{__('XXX.XXX.XXX-XX or XXXXXXXXXXX', 'woo-stripe-payment')}</span>\r\n                </div>\r\n                <div>\r\n                    <label>CNPJ:</label>&nbsp;\r\n                    <span>{__('XX.XXX.XXX/XXXX-XX or XXXXXXXXXXXXXX', 'woo-stripe-payment')}</span>\r\n                </div>\r\n            </div>}\r\n            <LocalPaymentIntentContent callback={callback} {...{...props, ...{eventRegistration}}}/>\r\n        </>\r\n    )\r\n}\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'Boleto',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <PaymentMethod\r\n            content={BoletoPaymentMethodContainer}\r\n            getData={getData}\r\n            confirmationMethod={'confirmBoletoPayment'}/>,\r\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings} from \"../util\";\r\nimport {canMakePayment, LocalPaymentIntentContent} from './local-payment-method';\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\nimport {EpsBankElement} from \"@stripe/react-stripe-js\";\r\n\r\nconst getData = getSettings('stripe_eps_data');\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'EPS',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <PaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            confirmationMethod={'confirmEpsPayment'}\r\n            component={EpsBankElement}\r\n            getData={getData}/>,\r\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings} from \"../util\";\r\nimport {LocalPaymentIntentContent} from './local-payment-method';\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\nimport {canMakePayment} from \"./local-payment-method\";\r\nimport {FpxBankElement} from \"@stripe/react-stripe-js\";\r\n\r\nconst getData = getSettings('stripe_fpx_data');\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'FPX',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <PaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            getData={getData}\r\n            confirmationMethod={'confirmIdealPayment'}\r\n            component={FpxBankElement}/>,\r\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings} from \"../util\";\r\nimport {LocalPaymentIntentContent} from './local-payment-method';\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\nimport {canMakePayment} from \"./local-payment-method\";\r\n\r\nconst getData = getSettings('stripe_giropay_data');\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'Giropay',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <PaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            confirmationMethod={'confirmGiropayPayment'}\r\n            getData={getData}/>,\r\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings} from \"../util\";\r\nimport {LocalPaymentIntentContent} from './local-payment-method';\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\nimport {canMakePayment} from \"./local-payment-method\";\r\n\r\nconst getData = getSettings('stripe_grabpay_data');\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'GrabPay',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <PaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            getData={getData}\r\n            confirmationMethod={'confirmGrabPayPayment'}/>,\r\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}","export * from './use-after-process-local-payment';\r\nexport * from './use-validate-checkout';\r\nexport * from './use-create-source';","import {useEffect, useRef} from '@wordpress/element';\r\nimport {useStripe} from \"@stripe/react-stripe-js\";\r\nimport {ensureErrorResponse, getBillingDetailsFromAddress, StripeError} from \"../../util\";\r\n\r\nexport const useAfterProcessLocalPayment = (\r\n    {\r\n        getData,\r\n        billingData,\r\n        eventRegistration,\r\n        responseTypes,\r\n        activePaymentMethod,\r\n        confirmationMethod,\r\n        getPaymentMethodArgs = () => ({})\r\n    }\r\n) => {\r\n    const stripe = useStripe();\r\n    const {onCheckoutAfterProcessingWithSuccess, onCheckoutAfterProcessingWithError} = eventRegistration;\r\n    const currentBillingData = useRef(billingData);\r\n    const currentPaymentMethodArgs = useRef(getPaymentMethodArgs);\r\n    useEffect(() => {\r\n        currentBillingData.current = billingData;\r\n    }, [billingData]);\r\n\r\n    useEffect(() => {\r\n        currentPaymentMethodArgs.current = getPaymentMethodArgs;\r\n    }, [getPaymentMethodArgs]);\r\n\r\n    useEffect(() => {\r\n        const unsubscribeAfterProcessingWithSuccess = onCheckoutAfterProcessingWithSuccess(async ({redirectUrl}) => {\r\n            if (getData('name') === activePaymentMethod) {\r\n                try {\r\n                    let match = redirectUrl.match(/#response=(.+)/);\r\n                    if (match) {\r\n                        let {client_secret, return_url, ...order} = JSON.parse(window.atob(decodeURIComponent(match[1])));\r\n                        let result = await stripe[confirmationMethod](client_secret, {\r\n                            payment_method: {\r\n                                billing_details: getBillingDetailsFromAddress(currentBillingData.current),\r\n                                ...currentPaymentMethodArgs.current(currentBillingData.current)\r\n                            },\r\n                            return_url\r\n                        });\r\n                        if (result.error) {\r\n                            throw new StripeError(result.error);\r\n                        }\r\n                        window.location = decodeURI(order.order_received_url);\r\n                    }\r\n                } catch (e) {\r\n                    console.log(e);\r\n                    return ensureErrorResponse(responseTypes, e.error);\r\n                }\r\n            }\r\n        })\r\n        return () => unsubscribeAfterProcessingWithSuccess();\r\n    }, [\r\n        stripe,\r\n        onCheckoutAfterProcessingWithSuccess,\r\n        onCheckoutAfterProcessingWithError\r\n    ]);\r\n}","import {useState, useEffect, useRef, useCallback} from '@wordpress/element';\r\nimport {\r\n    getDefaultSourceArgs,\r\n    ensureSuccessResponse,\r\n    ensureErrorResponse,\r\n    StripeError\r\n} from \"../../util\";\r\nimport {useStripe, useElements} from \"@stripe/react-stripe-js\";\r\nimport {__} from '@wordpress/i18n';\r\n\r\nexport const useCreateSource = (\r\n    {\r\n        getData,\r\n        billing,\r\n        shippingAddress,\r\n        onPaymentProcessing,\r\n        responseTypes,\r\n        getSourceArgs = false,\r\n        element = false\r\n    }) => {\r\n    const [source, setSource] = useState(false);\r\n    const [isValid, setIsValid] = useState(false);\r\n    const currentValues = useRef({\r\n        billing,\r\n        shippingAddress,\r\n    });\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n    useEffect(() => {\r\n        currentValues.current = {\r\n            billing,\r\n            shippingAddress\r\n        }\r\n    });\r\n\r\n    const getSourceArgsInternal = useCallback(() => {\r\n        const {billing} = currentValues.current;\r\n        const {cartTotal, currency, billingData} = billing;\r\n        let args = getDefaultSourceArgs({\r\n            type: getData('paymentType'),\r\n            amount: cartTotal.value,\r\n            billingData,\r\n            currency: currency.code,\r\n            returnUrl: getData('returnUrl')\r\n        });\r\n        if (getSourceArgs) {\r\n            args = getSourceArgs(args, {billingData});\r\n        }\r\n        return args;\r\n    }, []);\r\n\r\n    const getSuccessData = useCallback((sourceId) => {\r\n        return {\r\n            meta: {\r\n                paymentMethodData: {\r\n                    [`${getData('name')}_token_key`]: sourceId\r\n                }\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onPaymentProcessing(async () => {\r\n            if (source) {\r\n                return ensureSuccessResponse(responseTypes, getSuccessData(source.id));\r\n            }\r\n            // create the source\r\n            try {\r\n                let result;\r\n                if (element) {\r\n                    // validate the element\r\n                    if (!isValid) {\r\n                        throw __('Please enter your payment info before proceeding.', 'woo-stripe-payment');\r\n                    }\r\n                    result = await stripe.createSource(elements.getElement(element), getSourceArgsInternal());\r\n                } else {\r\n                    result = await stripe.createSource(getSourceArgsInternal());\r\n                }\r\n                if (result.error) {\r\n                    throw new StripeError(result.error);\r\n                }\r\n                setSource(result.source);\r\n                return ensureSuccessResponse(responseTypes, getSuccessData(result.source.id));\r\n            } catch (err) {\r\n                console.log(err);\r\n                return ensureErrorResponse(responseTypes, err.error || err);\r\n            }\r\n        });\r\n        return () => unsubscribe();\r\n    }, [\r\n        source,\r\n        onPaymentProcessing,\r\n        stripe,\r\n        responseTypes,\r\n        element,\r\n        isValid,\r\n        setIsValid\r\n    ]);\r\n    return {setIsValid};\r\n}","import {useEffect, useRef, useState} from '@wordpress/element';\r\nimport {ensureErrorResponse} from \"../../util\";\r\nimport {__} from \"@wordpress/i18n\";\r\n\r\nexport const useValidateCheckout = (\r\n    {\r\n        subscriber,\r\n        responseTypes,\r\n        component = null,\r\n        msg = __('Please enter your payment info before proceeding.', 'woo-stripe-payment')\r\n    }) => {\r\n    const [isValid, setIsValid] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = subscriber(() => {\r\n            if (component && !isValid) {\r\n                return ensureErrorResponse(responseTypes, msg);\r\n            }\r\n            return true;\r\n        });\r\n        return () => unsubscribe();\r\n    }, [\r\n        subscriber,\r\n        isValid,\r\n        setIsValid,\r\n        responseTypes,\r\n        component\r\n    ]);\r\n    return {isValid, setIsValid};\r\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings} from \"../util\";\r\nimport {LocalPaymentIntentContent} from './local-payment-method';\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\nimport {canMakePayment} from \"./local-payment-method\";\r\nimport {IdealBankElement} from \"@stripe/react-stripe-js\";\r\n\r\nconst getData = getSettings('stripe_ideal_data');\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'Ideal',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <PaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            getData={getData}\r\n            confirmationMethod={'confirmIdealPayment'}\r\n            component={IdealBankElement}/>,\r\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}","import './klarna';\r\nimport './ideal';\r\nimport './p24';\r\nimport './bancontact';\r\nimport './giropay';\r\nimport './eps';\r\nimport './multibanco';\r\nimport './sepa';\r\nimport './sofort';\r\nimport './wechat';\r\nimport './fpx';\r\nimport './becs';\r\nimport './grabpay';\r\nimport './alipay'\r\nimport './afterpay';\r\nimport './boleto';\r\nimport './oxxo';","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings, isTestMode} from \"../util\";\r\nimport {LocalPaymentIntentContent} from './local-payment-method';\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\nimport {canMakePayment} from \"./local-payment-method\";\r\nimport {__} from \"@wordpress/i18n\";\r\n\r\nconst getData = getSettings('stripe_klarna_data');\r\n\r\nconst KlarnaPaymentMethod = (props) => {\r\n    return (\r\n        <>\r\n            {isTestMode() &&\r\n            <div className=\"wc-stripe-klarna__testmode\">\r\n                <label>{__('Test mode sms', 'woo-stripe-payment')}:</label>&nbsp;<span>123456</span>\r\n            </div>}\r\n            <LocalPaymentIntentContent {...props}/>\r\n        </>\r\n    )\r\n}\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'Klarna',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData, ({settings, billingData, cartTotals}) => {\r\n            const {country} = billingData;\r\n            const {currency_code: currency} = cartTotals;\r\n            const requiredParams = settings('requiredParams');\r\n            return [currency] in requiredParams && requiredParams[currency].includes(country);\r\n        }),\r\n        content: <PaymentMethod\r\n            content={KlarnaPaymentMethod}\r\n            getData={getData}\r\n            confirmationMethod={'confirmKlarnaPayment'}/>,\r\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}","import {useCallback} from '@wordpress/element';\r\nimport {useElements, Elements} from \"@stripe/react-stripe-js\";\r\nimport {initStripe as loadStripe, cartContainsSubscription, cartContainsPreOrder} from '../util'\r\nimport {useAfterProcessLocalPayment, useValidateCheckout, useCreateSource} from \"./hooks\";\r\nimport {useProcessCheckoutError} from \"../hooks\";\r\n\r\n/**\r\n * Return true if the local payment method can be used.\r\n * @param settings\r\n * @returns {function({billingData: *, [p: string]: *}): *}\r\n */\r\nexport const canMakePayment = (settings, callback = false) => ({billingData, cartTotals, ...props}) => {\r\n    const {currency_code} = cartTotals;\r\n    const {country} = billingData;\r\n    const countries = settings('countries');\r\n    const type = settings('allowedCountries');\r\n    const supports = settings('features');\r\n    let canMakePayment = false;\r\n    if (settings('isAdmin')) {\r\n        canMakePayment = true;\r\n    } else {\r\n        // Check if there are any subscriptions or pre-orders in the cart.\r\n        if (cartContainsSubscription() && !supports.includes('subscriptions')) {\r\n            return false;\r\n        } else if (cartContainsPreOrder() && !supports.includes('pre-orders')) {\r\n            return false;\r\n        }\r\n        if (settings('currencies').includes(currency_code)) {\r\n            if (type === 'all_except') {\r\n                canMakePayment = !settings('exceptCountries').includes(country);\r\n            } else if (type === 'specific') {\r\n                canMakePayment = settings('specificCountries').includes(country);\r\n            } else {\r\n                canMakePayment = countries.length > 0 ? countries.includes(country) : true;\r\n            }\r\n        }\r\n        if (callback && canMakePayment) {\r\n            canMakePayment = callback({settings, billingData, cartTotals, ...props});\r\n        }\r\n    }\r\n    return canMakePayment;\r\n}\r\n\r\nexport const LocalPaymentIntentContent = ({getData, ...props}) => {\r\n    return (\r\n        <Elements stripe={loadStripe} options={getData('elementOptions')}>\r\n            <LocalPaymentIntentMethod {...{...props, getData}}/>\r\n        </Elements>\r\n    )\r\n}\r\n\r\nexport const LocalPaymentSourceContent = (props) => {\r\n    return (\r\n        <Elements stripe={loadStripe}>\r\n            <LocalPaymentSourceMethod {...props}/>\r\n        </Elements>\r\n    )\r\n}\r\n\r\nconst LocalPaymentSourceMethod = (\r\n    {\r\n        getData,\r\n        billing,\r\n        shippingData,\r\n        emitResponse,\r\n        eventRegistration,\r\n        getSourceArgs = false,\r\n        element = false\r\n    }) => {\r\n    const {shippingAddress} = shippingData;\r\n    const {onPaymentProcessing, onCheckoutAfterProcessingWithError} = eventRegistration;\r\n    const {responseTypes, noticeContexts} = emitResponse;\r\n    const onChange = (event) => {\r\n        setIsValid(event.complete);\r\n    }\r\n    const {setIsValid} = useCreateSource({\r\n        getData,\r\n        billing,\r\n        shippingAddress,\r\n        onPaymentProcessing,\r\n        responseTypes,\r\n        getSourceArgs,\r\n        element\r\n    });\r\n\r\n    if (element) {\r\n        return (\r\n            <LocalPaymentElementContainer\r\n                name={getData('name')}\r\n                options={getData('paymentElementOptions')}\r\n                onChange={onChange}\r\n                element={element}/>\r\n        )\r\n    }\r\n    return null;\r\n}\r\n\r\nconst LocalPaymentIntentMethod = (\r\n    {\r\n        getData,\r\n        billing,\r\n        emitResponse,\r\n        eventRegistration,\r\n        activePaymentMethod,\r\n        confirmationMethod = null,\r\n        component = null,\r\n        callback = null\r\n    }) => {\r\n    const elements = useElements();\r\n    const {billingData} = billing;\r\n    const {onPaymentProcessing, onCheckoutAfterProcessingWithError} = eventRegistration;\r\n    const {responseTypes, noticeContexts} = emitResponse;\r\n    const getPaymentMethodArgs = useCallback((billingData) => {\r\n        if (component) {\r\n            return {\r\n                [getData('paymentType')]: elements.getElement(component)\r\n            }\r\n        } else if (callback) {\r\n            return callback(billingData);\r\n        }\r\n        return {};\r\n    }, [\r\n        elements,\r\n        callback\r\n    ]);\r\n    const {setIsValid} = useValidateCheckout({\r\n            subscriber: onPaymentProcessing,\r\n            responseTypes,\r\n            component\r\n        }\r\n    );\r\n\r\n    useAfterProcessLocalPayment({\r\n        getData,\r\n        billingData,\r\n        eventRegistration,\r\n        responseTypes,\r\n        activePaymentMethod,\r\n        confirmationMethod,\r\n        getPaymentMethodArgs\r\n    });\r\n    useProcessCheckoutError({\r\n        responseTypes,\r\n        subscriber: onCheckoutAfterProcessingWithError,\r\n        messageContext: noticeContexts.PAYMENT\r\n    });\r\n    if (component) {\r\n        const onChange = (event) => setIsValid(!event.empty)\r\n        return (\r\n            <LocalPaymentElementContainer\r\n                name={getData('name')}\r\n                options={getData('paymentElementOptions')}\r\n                onChange={onChange}\r\n                element={component}\r\n                callback={callback}/>\r\n        )\r\n    }\r\n    return null;\r\n}\r\n\r\nconst LocalPaymentElementContainer = ({name, onChange, element, options, ...props}) => {\r\n    const Tag = element;\r\n    return (\r\n        <div className={`wc-stripe-local-payment-container ${name} ${Tag.displayName}`}>\r\n            <Tag options={options} onChange={onChange} {...props}/>\r\n        </div>\r\n    )\r\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings} from \"../util\";\r\nimport {LocalPaymentSourceContent} from './local-payment-method';\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\nimport {canMakePayment} from \"./local-payment-method\";\r\n\r\nconst getData = getSettings('stripe_multibanco_data');\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'MultiBanco',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <PaymentMethod content={LocalPaymentSourceContent} getData={getData}/>,\r\n        edit: <PaymentMethod content={LocalPaymentSourceContent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}\r\n","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings} from \"../util\";\r\nimport {LocalPaymentIntentContent} from './local-payment-method';\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\nimport {canMakePayment} from \"./local-payment-method\";\r\nimport {IdealBankElement} from \"@stripe/react-stripe-js\";\r\n\r\nconst getData = getSettings('stripe_oxxo_data');\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'OXXO',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <PaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            getData={getData}\r\n            confirmationMethod={'confirmOxxoPayment'}/>,\r\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings} from \"../util\";\r\nimport {LocalPaymentIntentContent} from './local-payment-method';\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\nimport {canMakePayment} from \"./local-payment-method\";\r\nimport {P24BankElement} from \"@stripe/react-stripe-js\";\r\n\r\nconst getData = getSettings('stripe_p24_data');\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'P24',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <PaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            getData={getData}\r\n            confirmationMethod={'confirmP24Payment'}\r\n            component={P24BankElement}/>,\r\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}\r\n","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings, cartContainsPreOrder, cartContainsSubscription} from \"../util\";\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\nimport {canMakePayment, LocalPaymentIntentContent} from \"./local-payment-method\";\r\nimport {IbanElement} from \"@stripe/react-stripe-js\";\r\n\r\nconst getData = getSettings('stripe_sepa_data');\r\n\r\nconst LocalPaymentMethod = (PaymentMethod) => (props) => {\r\n    return (\r\n        <>\r\n            <PaymentMethod {...props}/>\r\n            <div className={'wc-stripe-blocks-mandate sepa-mandate'}\r\n                 dangerouslySetInnerHTML={{__html: props.getData('mandate')}}/>\r\n        </>\r\n    )\r\n}\r\n\r\nconst SepaPaymentMethod = LocalPaymentMethod(PaymentMethod);\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'SEPA',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <SepaPaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            getData={getData}\r\n            confirmationMethod={'confirmSepaDebitPayment'}\r\n            component={IbanElement}/>,\r\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings} from \"../util\";\r\nimport {canMakePayment, LocalPaymentIntentContent} from './local-payment-method';\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\n\r\nconst getData = getSettings('stripe_sofort_data');\r\n\r\nconst getConfirmationArgs = (billingData) => {\r\n    return {sofort: {country: billingData.country}};\r\n}\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'Sofort',\r\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <PaymentMethod\r\n            content={LocalPaymentIntentContent}\r\n            confirmationMethod={'confirmSofortPayment'}\r\n            getData={getData}\r\n            callback={getConfirmationArgs}/>,\r\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}\r\n","import {useEffect, useRef, useState, useCallback} from '@wordpress/element';\r\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {\r\n    getSettings,\r\n    initStripe as loadStripe,\r\n    getDefaultSourceArgs,\r\n    isAddressValid,\r\n    StripeError,\r\n    isTestMode,\r\n    ensureSuccessResponse,\r\n    getErrorMessage,\r\n    storeInCache,\r\n    getFromCache,\r\n    deleteFromCache\r\n} from \"../util\";\r\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\r\nimport {canMakePayment} from \"./local-payment-method\";\r\nimport {Elements} from \"@stripe/react-stripe-js\";\r\nimport {useValidateCheckout} from \"./hooks\";\r\nimport {__} from '@wordpress/i18n';\r\n//import QRCode from 'QRCode';\r\nimport {useStripe} from \"@stripe/react-stripe-js\";\r\nimport {useStripeError} from \"../hooks\";\r\n\r\nconst getData = getSettings('stripe_wechat_data');\r\n\r\nconst WeChatComponent = (props) => {\r\n    return (\r\n        <Elements stripe={loadStripe}>\r\n            <WeChatPaymentMethod {...props}/>\r\n        </Elements>\r\n    )\r\n}\r\n\r\nconst WeChatPaymentMethod = (\r\n    {\r\n        getData,\r\n        billing,\r\n        shippingData,\r\n        emitResponse,\r\n        eventRegistration,\r\n        components\r\n    }) => {\r\n    const size = parseInt(getData('qrSize'));\r\n    const {responseTypes} = emitResponse;\r\n    const {onPaymentProcessing, onCheckoutAfterProcessingWithSuccess} = eventRegistration;\r\n    const {ValidationInputError} = components;\r\n    const {isValid, setIsValid} = useValidateCheckout({\r\n        subscriber: eventRegistration.onPaymentProcessing,\r\n        responseTypes: emitResponse.responseTypes,\r\n        msg: __('Please scan your QR code to continue with payment.', 'woo-stripe-payment')\r\n    });\r\n\r\n    const {source, error, deleteSourceFromStorage} = useCreateSource({\r\n        getData,\r\n        billing,\r\n        responseTypes,\r\n        subscriber: onPaymentProcessing\r\n    })\r\n\r\n    /**\r\n     * delete the source from storage once payment is successful.\r\n     * If test mode, redirect to the Stripe test url.\r\n     * If live mode, redirect to the return Url.\r\n     */\r\n    useEffect(() => {\r\n        const unsubscribe = onCheckoutAfterProcessingWithSuccess(() => {\r\n            deleteSourceFromStorage();\r\n            return ensureSuccessResponse(responseTypes);\r\n        });\r\n        return () => unsubscribe();\r\n    }, [\r\n        source,\r\n        onCheckoutAfterProcessingWithSuccess,\r\n        deleteSourceFromStorage\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        if (source) {\r\n            setIsValid(true);\r\n        }\r\n    }, [source]);\r\n\r\n    if (source) {\r\n        return (\r\n            <QRCodeComponent text={source.wechat.qr_code_url} width={size} height={size}/>\r\n        );\r\n    } else if (error) {\r\n        return (\r\n            <div className='wechat-validation-error'>\r\n                <ValidationInputError errorMessage={getErrorMessage(error)}/>\r\n            </div>\r\n        );\r\n    } else {\r\n        // if billing address is not valid\r\n        if (!isAddressValid(billing.billingData)) {\r\n            return __('Please fill out all the required fields in order to complete the WeChat payment.', 'woo-stripe-payment');\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nconst QRCodeComponent = (\r\n    {\r\n        text,\r\n        width = 128,\r\n        height = 128,\r\n        colorDark = '#424770',\r\n        colorLight = '#f8fbfd',\r\n        correctLevel = QRCode.CorrectLevel.H\r\n    }) => {\r\n    const el = useRef();\r\n    useEffect(() => {\r\n        new QRCode(el.current, {\r\n            text,\r\n            width,\r\n            height,\r\n            colorDark,\r\n            colorLight,\r\n            correctLevel\r\n        })\r\n    }, [el]);\r\n    return (\r\n        <>\r\n            <div id='wc-stripe-block-qrcode' ref={el}></div>\r\n            {isTestMode() && <p>\r\n                {__('Test mode: Click the Place Order button to proceed.', 'woo-stripe-payment')}\r\n            </p>}\r\n            {!isTestMode() && <p>\r\n                {__('Scan the QR code using your WeChat app. Once scanned click the Place Order button.', 'woo-stripe-payment')}\r\n            </p>}\r\n        </>\r\n    )\r\n}\r\n\r\nconst useCreateSource = (\r\n    {\r\n        getData,\r\n        billing,\r\n        responseTypes,\r\n        subscriber\r\n    }) => {\r\n    const stripe = useStripe();\r\n    const [error, setError] = useStripeError();\r\n    const [source, setSource] = useState(getFromCache('wechat:source'));\r\n    const createSourceTimeoutId = useRef(null);\r\n    const {cartTotal, billingData, currency} = billing;\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = subscriber(() => {\r\n            return ensureSuccessResponse(responseTypes, {\r\n                meta: {\r\n                    paymentMethodData: {\r\n                        [`${getData('name')}_token_key`]: source.id\r\n                    }\r\n                }\r\n            })\r\n        });\r\n        return () => unsubscribe();\r\n    }, [source, subscriber]);\r\n\r\n    const createSource = useCallback(async () => {\r\n        // validate the billing fields. If valid, create the source.\r\n        try {\r\n            if (!error && isAddressValid(billingData)) {\r\n                let result = await stripe.createSource(getDefaultSourceArgs({\r\n                    type: getData('paymentType'),\r\n                    amount: cartTotal.value,\r\n                    billingData,\r\n                    currency: currency.code,\r\n                    returnUrl: getData('returnUrl')\r\n                }));\r\n                if (result.error) {\r\n                    throw new StripeError(result.error);\r\n                }\r\n                setSource(result.source);\r\n                storeInCache('wechat:source', result.source);\r\n            }\r\n        } catch (err) {\r\n            console.log('error: ', err);\r\n            setError(err.error);\r\n        }\r\n    }, [\r\n        stripe,\r\n        source,\r\n        cartTotal.value,\r\n        billingData,\r\n        currency,\r\n        error\r\n    ]);\r\n    const deleteSourceFromStorage = useCallback(() => {\r\n        deleteFromCache('wechat:source');\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (stripe && !source) {\r\n            // if there is an existing request, cancel it.\r\n            clearTimeout(createSourceTimeoutId.current);\r\n            createSourceTimeoutId.current = setTimeout(createSource, 1000);\r\n        }\r\n    }, [\r\n        stripe,\r\n        source,\r\n        createSource\r\n    ]);\r\n\r\n    return {source, setSource, error, deleteSourceFromStorage};\r\n}\r\n\r\n\r\nif (getData()) {\r\n    registerPaymentMethod({\r\n        name: getData('name'),\r\n        label: <PaymentMethodLabel\r\n            title={getData('title')}\r\n            paymentMethod={getData('name')}\r\n            icons={getData('icon')}/>,\r\n        ariaLabel: 'WeChat',\r\n        canMakePayment: canMakePayment(getData),\r\n        content: <PaymentMethod content={WeChatComponent} getData={getData}/>,\r\n        edit: <PaymentMethod content={WeChatComponent} getData={getData}/>,\r\n        supports: {\r\n            showSavedCards: false,\r\n            showSaveOption: false,\r\n            features: getData('features')\r\n        }\r\n    })\r\n}\r\n","import './style.scss';\r\n\r\nimport './payment-method';","import {useMemo, useEffect, useRef} from '@wordpress/element';\r\nimport {registerExpressPaymentMethod} from '@woocommerce/blocks-registry';\r\nimport {getSettings, initStripe as loadStripe, canMakePayment} from \"../util\";\r\nimport {useBreakpointWidth, useExpressBreakpointWidth} from '../hooks';\r\nimport {Elements, PaymentRequestButtonElement, useStripe} from \"@stripe/react-stripe-js\";\r\nimport {\r\n    usePaymentRequest,\r\n    useProcessPaymentIntent,\r\n    useExportedValues,\r\n    useAfterProcessingPayment,\r\n    useStripeError\r\n} from '../hooks';\r\n\r\nconst getData = getSettings('stripe_payment_request_data');\r\n\r\nconst PaymentRequestContent = (props) => {\r\n    return (\r\n        <div className='wc-stripe-payment-request-container'>\r\n            <Elements stripe={loadStripe}>\r\n                <PaymentRequestButton {...props}/>\r\n            </Elements>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst PaymentRequestButton = (\r\n    {\r\n        getData,\r\n        onClick,\r\n        onClose,\r\n        billing,\r\n        shippingData,\r\n        eventRegistration,\r\n        emitResponse,\r\n        onSubmit,\r\n        activePaymentMethod,\r\n        ...props\r\n    }) => {\r\n    const {onPaymentProcessing} = eventRegistration;\r\n    const {responseTypes, noticeContexts} = emitResponse;\r\n    const stripe = useStripe();\r\n    const [error] = useStripeError();\r\n    const canPay = (result) => result != null && !result.applePay;\r\n    const exportedValues = useExportedValues();\r\n    useExpressBreakpointWidth({payment_method: getData('name'), width: 300});\r\n    const {setPaymentMethod} = useProcessPaymentIntent({\r\n        getData,\r\n        billing,\r\n        shippingData,\r\n        onPaymentProcessing,\r\n        emitResponse,\r\n        error,\r\n        onSubmit,\r\n        activePaymentMethod,\r\n        exportedValues\r\n    });\r\n    useAfterProcessingPayment({\r\n        getData,\r\n        eventRegistration,\r\n        responseTypes,\r\n        activePaymentMethod,\r\n        messageContext: noticeContexts.EXPRESS_PAYMENTS\r\n    });\r\n    const {paymentRequest} = usePaymentRequest({\r\n        getData,\r\n        onClose,\r\n        stripe,\r\n        billing,\r\n        shippingData,\r\n        eventRegistration,\r\n        setPaymentMethod,\r\n        exportedValues,\r\n        canPay\r\n    });\r\n\r\n    const options = useMemo(() => {\r\n        return {\r\n            paymentRequest,\r\n            style: {\r\n                paymentRequestButton: getData('paymentRequestButton')\r\n            }\r\n        }\r\n    }, [paymentRequest]);\r\n\r\n    if (paymentRequest) {\r\n        return (\r\n            <PaymentRequestButtonElement options={options} onClick={onClick}/>\r\n        )\r\n    }\r\n    return null;\r\n}\r\n\r\nconst PaymentRequestEdit = ({getData, ...props}) => {\r\n    const canvas = useRef();\r\n    useEffect(() => {\r\n        const scale = window.devicePixelRatio;\r\n        canvas.current.width = 20 * scale;\r\n        canvas.current.height = 20 * scale;\r\n        let ctx = canvas.current.getContext('2d');\r\n        ctx.scale(scale, scale);\r\n        ctx.beginPath();\r\n        ctx.arc(10, 10, 10, 0, 2 * Math.PI);\r\n        ctx.fillStyle = '#986fff';\r\n        ctx.fill();\r\n    });\r\n    return (\r\n        <div className='payment-request-block-editor'>\r\n            <div className={'icon-container'}>\r\n                <span>Buy now</span>\r\n                <canvas className='PaymentRequestButton-icon' ref={canvas}/>\r\n                <i className={'payment-request-arrow'}></i>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nregisterExpressPaymentMethod({\r\n    name: getData('name'),\r\n    canMakePayment: ({cartTotals}) => {\r\n        if (getData('isAdmin')) {\r\n            return true;\r\n        }\r\n        const {currency_code: currency, total_price} = cartTotals;\r\n        return canMakePayment({\r\n            country: getData('countryCode'),\r\n            currency: currency.toLowerCase(),\r\n            total: {\r\n                label: getData('totalLabel'),\r\n                amount: parseInt(total_price)\r\n            }\r\n        }, (result) => result != null && !result.applePay);\r\n    },\r\n    content: <PaymentRequestContent getData={getData}/>,\r\n    edit: <PaymentRequestEdit getData={getData}/>,\r\n    supports: {\r\n        showSavedCards: getData('showSavedCards'),\r\n        showSaveOption: getData('showSaveOption'),\r\n        features: getData('features')\r\n    }\r\n});","import {useEffect, useCallback} from '@wordpress/element';\r\nimport {initStripe as loadStripe, getSettings, handleCardAction} from '@paymentplugins/stripe/util';\r\n\r\nconst SavedCardComponent = (\r\n    {\r\n        eventRegistration,\r\n        emitResponse,\r\n        getData\r\n    }) => {\r\n    const {onCheckoutAfterProcessingWithSuccess} = eventRegistration;\r\n    const {responseTypes} = emitResponse;\r\n    const handleSuccessResult = useCallback(async ({redirectUrl}) => {\r\n        const stripe = await loadStripe;\r\n        return await handleCardAction({redirectUrl, getData, stripe, responseTypes});\r\n    }, [onCheckoutAfterProcessingWithSuccess]);\r\n\r\n    useEffect(() => {\r\n        const unsubscribeOnCheckoutAfterProcessingWithSuccess = onCheckoutAfterProcessingWithSuccess(handleSuccessResult);\r\n        return () => unsubscribeOnCheckoutAfterProcessingWithSuccess();\r\n    }, [\r\n        onCheckoutAfterProcessingWithSuccess\r\n    ]);\r\n    return null;\r\n}\r\n\r\nexport default SavedCardComponent;\r\n","import {loadStripe} from '@stripe/stripe-js';\r\nimport {getSetting} from '@woocommerce/settings'\r\nimport apiFetch from \"@wordpress/api-fetch\";\r\nimport {getCurrency, formatPrice as wcFormatPrice} from '@woocommerce/price-format';\r\n\r\nconst {publishableKey, stripeParams} = getSetting('stripeGeneralData');\r\nconst messages = getSetting('stripeErrorMessages');\r\nconst countryLocale = getSetting('countryLocale', {});\r\n\r\nconst SHIPPING_OPTION_REGEX = /^([\\w]+)\\:(.+)$/;\r\n\r\nconst routes = getSetting('stripeGeneralData').routes;\r\n\r\nconst creditCardForms = {};\r\n\r\nconst localPaymentMethods = [];\r\n\r\nconst CACHE_PREFIX = 'stripe:';\r\n\r\nconst PAYMENT_REQUEST_ADDRESS_MAPPINGS = {\r\n    recipient: (address, name) => {\r\n        address.first_name = name.split(' ').slice(0, -1).join(' ');\r\n        address.last_name = name.split(' ').pop();\r\n        return address;\r\n    },\r\n    payerName: (address, name) => {\r\n        address.first_name = name.split(' ').slice(0, -1).join(' ');\r\n        address.last_name = name.split(' ').pop();\r\n        return address;\r\n    },\r\n    country: 'country',\r\n    addressLine: (address, value) => {\r\n        if (value[0]) {\r\n            address.address_1 = value[0];\r\n        }\r\n        if (value[1]) {\r\n            address.address_2 = value[1];\r\n        }\r\n        return address;\r\n    },\r\n    line1: 'address_1',\r\n    line2: 'address_2',\r\n    city: 'city',\r\n    region: 'state',\r\n    state: 'state',\r\n    postalCode: 'postcode',\r\n    postal_code: 'postcode',\r\n    payerEmail: 'email',\r\n    payerPhone: 'phone'\r\n}\r\n\r\nexport const initStripe = new Promise((resolve, reject) => {\r\n    loadStripe(publishableKey, stripeParams).then(stripe => {\r\n        resolve(stripe);\r\n    }).catch(err => {\r\n        resolve({error: err});\r\n    });\r\n});\r\n\r\nexport const registerCreditCardForm = ({id, ...props}) => {\r\n    creditCardForms[id] = props;\r\n}\r\n\r\nexport const getCreditCardForm = (id) => {\r\n    return creditCardForms.hasOwnProperty(id) ? creditCardForms[id] : {};\r\n}\r\n\r\nexport const getRoute = (route) => {\r\n    return routes?.[route] ? routes[route] : console.log(`${route} is not a valid route`);\r\n}\r\n\r\nexport const ensureSuccessResponse = (responseTypes, data = {}) => {\r\n    return {type: responseTypes.SUCCESS, ...data};\r\n}\r\n\r\n/**\r\n * Returns a formatted error object used by observers\r\n * @param responseTypes\r\n * @param error\r\n * @returns {{type: *, message: *}}\r\n */\r\nexport const ensureErrorResponse = (responseTypes, error, options = {}) => {\r\n    return {type: responseTypes.ERROR, message: getErrorMessage(error), ...options}\r\n};\r\n\r\n/**\r\n * Return a customized error message.\r\n * @param error\r\n */\r\nexport const getErrorMessage = (error) => {\r\n    if (typeof error == 'string') {\r\n        return error;\r\n    }\r\n    if (error?.code && messages?.[error.code]) {\r\n        return messages[error.code];\r\n    }\r\n    if (error?.statusCode) {\r\n        return messages?.[error.statusCode] ? messages[error.statusCode] : error.statusMessage;\r\n    }\r\n    return error.message;\r\n}\r\n\r\n/**\r\n * Return a Stripe formatted billing_details object from a WC address\r\n * @param billingAddress\r\n */\r\nexport const getBillingDetailsFromAddress = (billingAddress) => {\r\n    let billing_details = {\r\n        name: `${billingAddress.first_name} ${billingAddress.last_name}`,\r\n        address: {\r\n            city: billingAddress.city || null,\r\n            country: billingAddress.country || null,\r\n            line1: billingAddress.address_1 || null,\r\n            line2: billingAddress.address_2 || null,\r\n            postal_code: billingAddress.postcode || null,\r\n            state: billingAddress.state || null\r\n        }\r\n    }\r\n    if (billingAddress?.phone) {\r\n        billing_details.phone = billingAddress.phone;\r\n    }\r\n    if (billingAddress?.email) {\r\n        billing_details.email = billingAddress.email;\r\n    }\r\n    return billing_details;\r\n}\r\n\r\nexport const getSettings = (name) => (key) => {\r\n    if (key) {\r\n        return getSetting(name)[key];\r\n    }\r\n    return getSetting(name);\r\n}\r\n\r\nexport class StripeError extends Error {\r\n    constructor(error) {\r\n        super(error.message);\r\n        this.error = error;\r\n    }\r\n}\r\n\r\n/**\r\n * Returns true if the provided value is empty.\r\n * @param value\r\n * @returns {boolean}\r\n */\r\nexport const isEmpty = (value) => {\r\n    if (typeof value === 'string') {\r\n        return value.length == 0 || value == '';\r\n    }\r\n    if (Array.isArray(value)) {\r\n        return array.length == 0;\r\n    }\r\n    if (typeof value === 'object') {\r\n        return Object.keys(value).length == 0;\r\n    }\r\n    if (typeof value === 'undefined') {\r\n        return true;\r\n    }\r\n    return true;\r\n}\r\n\r\nexport const removeNumberPrecision = (value, unit) => {\r\n    return value / 10 ** unit;\r\n}\r\n\r\n/**\r\n *\r\n * @param address\r\n * @param country\r\n */\r\nexport const isAddressValid = (address, exclude = []) => {\r\n    const fields = getLocaleFields(address.country);\r\n    for (const [key, value] of Object.entries(address)) {\r\n        if (!exclude.includes(key) && fields?.[key] && fields[key].required) {\r\n            if (isEmpty(value)) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nexport const getLocaleFields = (country) => {\r\n    let localeFields = {...countryLocale.default};\r\n    if (country && countryLocale?.[country]) {\r\n        localeFields = Object.entries(countryLocale[country]).reduce((locale, [key, value]) => {\r\n            locale[key] = {...locale[key], ...value}\r\n            return locale;\r\n        }, localeFields);\r\n        ['phone', 'email'].forEach(key => {\r\n            let node = document.getElementById(key);\r\n            if (node) {\r\n                localeFields[key] = {required: node.required};\r\n            }\r\n        });\r\n    }\r\n    return localeFields;\r\n}\r\n\r\n/**\r\n * Return true if the field is required by the cart\r\n * @param field\r\n * @param country\r\n * @returns {boolean|*}\r\n */\r\nexport const isFieldRequired = (field, country = false) => {\r\n    const fields = getLocaleFields(country);\r\n    return [field] in fields && fields[field].required;\r\n}\r\n\r\nexport const getSelectedShippingOption = (id) => {\r\n    const result = id.match(SHIPPING_OPTION_REGEX);\r\n    if (result) {\r\n        const {1: packageIdx, 2: rate} = result;\r\n        return [rate, packageIdx];\r\n    }\r\n    return [];\r\n}\r\n\r\nexport const hasShippingRates = (shippingRates) => {\r\n    return shippingRates.map(rate => {\r\n        return rate.shipping_rates.length > 0;\r\n    }).filter(Boolean).length > 0;\r\n}\r\n\r\n/**\r\n * Return true if the customer is logged in.\r\n * @param customerId\r\n * @returns {boolean}\r\n */\r\nexport const isUserLoggedIn = (customerId) => {\r\n    return customerId > 0;\r\n}\r\n\r\nconst syncPaymentIntentWithOrder = async (order_id, client_secret) => {\r\n    try {\r\n        await apiFetch({\r\n            url: routes['sync/intent'],\r\n            method: 'POST',\r\n            data: {order_id, client_secret}\r\n        })\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const handleCardAction = async (\r\n    {\r\n        redirectUrl,\r\n        responseTypes,\r\n        stripe,\r\n        getData,\r\n        savePaymentMethod = false\r\n    }) => {\r\n    try {\r\n        let match = redirectUrl.match(/#response=(.+)/)\r\n        if (match) {\r\n            let {client_secret, order_id, order_key} = JSON.parse(window.atob(decodeURIComponent(match[1])));\r\n            let result = await stripe.handleCardAction(client_secret);\r\n            if (result.error) {\r\n                syncPaymentIntentWithOrder(order_id, client_secret);\r\n                return ensureErrorResponse(responseTypes, result.error);\r\n            }\r\n            // success so finish processing order then redirect to thank you page\r\n            let data = {order_id, order_key, [`${getData('name')}_save_source_key`]: savePaymentMethod};\r\n            let response = await apiFetch({\r\n                url: getRoute('process/payment'),\r\n                method: 'POST',\r\n                data\r\n            })\r\n            if (response.messages) {\r\n                return ensureErrorResponse(responseTypes, response.messages);\r\n            }\r\n            return ensureSuccessResponse(responseTypes, {\r\n                redirectUrl: response.redirect\r\n            });\r\n        } else {\r\n            return ensureSuccessResponse(responseTypes);\r\n        }\r\n    } catch (err) {\r\n        console.log(err);\r\n        return ensureErrorResponse(responseTypes, err);\r\n    }\r\n}\r\n\r\n/**\r\n * Convert a payment wallet address to a WC cart address.\r\n * @param address_mappings\r\n * @returns {function(*, *=): {}}\r\n */\r\nexport const toCartAddress = (address_mappings = PAYMENT_REQUEST_ADDRESS_MAPPINGS) => (address, args = {}) => {\r\n    const cartAddress = {};\r\n    address = {...address, ...filterEmptyValues(args)};\r\n    for (let [key, cartKey] of Object.entries(address_mappings)) {\r\n        if (address?.[key]) {\r\n            if (typeof cartKey === 'function') {\r\n                cartKey(cartAddress, address[key]);\r\n            } else {\r\n                cartAddress[cartKey] = address[key];\r\n            }\r\n        }\r\n    }\r\n    return cartAddress;\r\n}\r\n\r\n/**\r\n * Given a WC formatted address, return only the intermediate address values\r\n * @param address\r\n * @param fields\r\n */\r\nexport const getIntermediateAddress = (address, fields = ['city', 'postcode', 'state', 'country']) => {\r\n    const intermediateAddress = {};\r\n    for (let key of fields) {\r\n        intermediateAddress[key] = address[key];\r\n    }\r\n    return intermediateAddress;\r\n}\r\n\r\n/**\r\n *\r\n * @param values\r\n * @returns {{}|{[p: string]: *}}\r\n */\r\nexport const filterEmptyValues = (values) => {\r\n    return Object.keys(values).filter(key => Boolean(values[key])).reduce((obj, key) => ({\r\n        ...obj,\r\n        [key]: values[key]\r\n    }), {});\r\n}\r\n\r\nexport const formatPrice = (price, currencyCode) => {\r\n    const {prefix, suffix, decimalSeparator, minorUnit, thousandSeparator} = getCurrency(currencyCode);\r\n    if (price == '' || price === undefined) {\r\n        return price;\r\n    }\r\n\r\n    price = typeof price === 'string' ? parseInt(price, 10) : price;\r\n    price = price / 10 ** minorUnit;\r\n    price = price.toString().replace('.', decimalSeparator);\r\n    let fractional = '';\r\n    const index = price.indexOf(decimalSeparator);\r\n    if (index < 0) {\r\n        if (minorUnit > 0) {\r\n            price += `${decimalSeparator}${new Array(minorUnit + 1).join('0')}`;\r\n        }\r\n    } else {\r\n        fractional = price.substr(index + 1);\r\n        if (fractional.length < minorUnit) {\r\n            price += new Array(minorUnit - fractional.length + 1).join('0');\r\n        }\r\n    }\r\n\r\n    // separate out price and decimals so thousands separator can be added.\r\n    const match = price.match(new RegExp(`(\\\\d+)\\\\${decimalSeparator}(\\\\d+)`));\r\n    if (match) {\r\n        ({1: price, 2: fractional} = match);\r\n    }\r\n    price = price.replace(new RegExp(`\\\\B(?=(\\\\d{3})+(?!\\\\d))`, 'g'), `${thousandSeparator}`);\r\n    price = fractional?.length > 0 ? price + decimalSeparator + fractional : price;\r\n    price = prefix + price + suffix;\r\n    return price;\r\n}\r\n\r\nexport const getShippingOptions = (shippingRates) => {\r\n    let options = [];\r\n    shippingRates.forEach((shippingPackage, idx) => {\r\n        // sort by selected rate\r\n        shippingPackage.shipping_rates.sort((rate) => {\r\n            return rate.selected ? -1 : 1;\r\n        });\r\n        let rates = shippingPackage.shipping_rates.map(rate => {\r\n            let txt = document.createElement('textarea');\r\n            txt.innerHTML = rate.name;\r\n            let price = formatPrice(rate.price, rate.currency_code);\r\n            return {\r\n                id: getShippingOptionId(idx, rate.rate_id),\r\n                label: txt.value,\r\n                //detail: `${price}`,\r\n                amount: parseInt(rate.price, 10)\r\n            }\r\n        });\r\n        options = [...options, ...rates];\r\n    });\r\n    return options;\r\n}\r\n\r\nexport const getShippingOptionId = (packageId, rateId) => `${packageId}:${rateId}`\r\n\r\nexport const getDisplayItems = (cartItems, {minorUnit}) => {\r\n    let items = [];\r\n    const keys = ['total_tax', 'total_shipping'];\r\n    cartItems.forEach(item => {\r\n        if (0 < item.value || (item.key && keys.includes(item.key))) {\r\n            items.push({\r\n                label: item.label,\r\n                pending: false,\r\n                amount: item.value\r\n            });\r\n        }\r\n    })\r\n    return items;\r\n}\r\n\r\nconst canPay = {};\r\n\r\nexport const canMakePayment = ({country, currency, total}, callback) => {\r\n    return new Promise((resolve, reject) => {\r\n        const key = [country, currency, total.amount].reduce((key, value) => `${key}-${value}`);\r\n        if (!currency) {\r\n            return resolve(false);\r\n        }\r\n        if (key in canPay) {\r\n            return resolve(canPay[key]);\r\n        }\r\n        return initStripe.then(stripe => {\r\n            if (stripe.error) {\r\n                return reject(stripe.error);\r\n            }\r\n            const request = stripe.paymentRequest({\r\n                country,\r\n                currency,\r\n                total\r\n            });\r\n            request.canMakePayment().then(result => {\r\n                canPay[key] = callback(result);\r\n                return resolve(canPay[key]);\r\n            });\r\n        }).catch(reject);\r\n    });\r\n};\r\n\r\nexport const registerLocalPaymentMethod = (paymentMethod) => {\r\n    localPaymentMethods.push(paymentMethod);\r\n}\r\n\r\nexport const getLocalPaymentMethods = () => localPaymentMethods;\r\n\r\nexport const cartContainsPreOrder = () => {\r\n    const data = getSetting('stripePaymentData');\r\n    return data && data.pre_order;\r\n}\r\n\r\nexport const cartContainsSubscription = () => {\r\n    const data = getSetting('stripePaymentData');\r\n    return data && data.subscription;\r\n}\r\n\r\nexport const getDefaultSourceArgs = ({type, amount, billingData, currency, returnUrl}) => {\r\n    return {\r\n        type,\r\n        amount,\r\n        currency,\r\n        owner: getBillingDetailsFromAddress(billingData),\r\n        redirect: {\r\n            return_url: returnUrl\r\n        }\r\n    }\r\n}\r\n\r\nexport const isTestMode = () => {\r\n    return getSetting('stripeGeneralData').mode === 'test';\r\n}\r\n\r\nconst getCacheKey = (key) => `${CACHE_PREFIX}${key}`;\r\n\r\nexport const storeInCache = (key, value) => {\r\n    const exp = Math.floor(new Date().getTime() / 1000) + (60 * 15);\r\n    if ('sessionStorage' in window) {\r\n        sessionStorage.setItem(getCacheKey(key), JSON.stringify({value, exp}));\r\n    }\r\n}\r\n\r\nexport const getFromCache = (key) => {\r\n    if ('sessionStorage' in window) {\r\n        try {\r\n            const item = JSON.parse(sessionStorage.getItem(getCacheKey(key)));\r\n            if (item) {\r\n                const {value, exp} = item;\r\n                if (Math.floor(new Date().getTime() / 1000) > exp) {\r\n                    deleteFromCache(getCacheKey(key));\r\n                } else {\r\n                    return value;\r\n                }\r\n            }\r\n        } catch (err) {\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nexport const deleteFromCache = (key) => {\r\n    if ('sessionStorage' in window) {\r\n        sessionStorage.removeItem(getCacheKey(key));\r\n    }\r\n}\r\n\r\nexport const versionCompare = (ver1, ver2, compare) => {\r\n    switch (compare) {\r\n        case '<':\r\n            return ver1 < ver2;\r\n        case '>':\r\n            return ver1 > ver2;\r\n        case '<=':\r\n            return ver1 <= ver2;\r\n        case '>=':\r\n            return ver1 >= ver2;\r\n        case '=':\r\n            return ver1 == ver2;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport const isCartPage = () => getSetting('stripeGeneralData').page === 'cart';\r\n\r\nexport const isCheckoutPage = () => getSetting('stripeGeneralData').page === 'checkout';\r\n\r\nexport const isNextActionRequired = (url) => {\r\n    let match = url.match(/#response=(.+)/);\r\n    let args = null;\r\n    if (match) {\r\n        args = JSON.parse(window.atob(decodeURIComponent(match[1])));\r\n    }\r\n    return args;\r\n}","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"names":["module","exports","arr","len","length","i","arr2","Array","isArray","arrayLikeToArray","self","ReferenceError","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","this","args","arguments","apply","err","undefined","instance","Constructor","TypeError","setPrototypeOf","isNativeReflectConstruct","_construct","Parent","Class","Reflect","construct","a","push","Function","bind","prototype","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","obj","_extends","assign","source","hasOwnProperty","call","_getPrototypeOf","o","getPrototypeOf","__proto__","subClass","superClass","create","constructor","__esModule","toString","indexOf","sham","Proxy","Date","e","iter","Symbol","iterator","from","_arr","_n","_d","_e","_s","_i","next","objectWithoutPropertiesLoose","excluded","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","sourceKeys","keys","_typeof","assertThisInitialized","_setPrototypeOf","p","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","minLen","n","slice","name","test","isNativeFunction","_wrapNativeSuper","_cache","Map","has","get","set","Wrapper","React","emptyFunction","emptyFunctionWithReset","resetWarningCache","propTypes","shim","propName","componentName","location","propFullName","secret","Error","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","factoryWithThrowingShims","ownKeys","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_arrayLikeToArray","_unsupportedIterableToArray","_nonIterableRest","usePrevious","ref","useRef","useEffect","current","isUnknownObject","raw","PLAIN_OBJECT_STR","isEqual","left","right","leftArray","leftPlainObject","leftKeys","rightKeys","keySet","allKeys","l","r","every","extractAllowedOptionsUpdates","options","prevOptions","immutableKeys","reduce","newOptions","isUpdated","includes","console","warn","concat","validateStripe","maybeStripe","elements","createToken","createPaymentMethod","confirmCardPayment","parseStripeProp","isPromise","tag","stripePromise","stripe","ElementsContext","createContext","displayName","Elements","_ref","rawStripeProp","children","parsed","useMemo","_React$useState2","useState","ctx","setContext","isMounted","prevStripe","updates","update","anyStripe","_registerWrapper","registerAppInfo","version","url","createElement","Provider","useElementsContextWithUseCase","useCaseMessage","useCase","parseElementsContext","useContext","ElementsConsumer","_ref2","useCallbackReference","cb","noop","createElementComponent","type","isServer","str","charAt","toUpperCase","Element","id","className","_ref$options","_ref$onBlur","onBlur","_ref$onFocus","onFocus","_ref$onReady","onReady","_ref$onChange","onChange","_ref$onEscape","onEscape","_ref$onClick","onClick","elementRef","domNode","callOnReady","callOnBlur","callOnFocus","callOnClick","callOnChange","callOnEscape","useLayoutEffect","mount","on","destroy","__elementType","window","AuBankAccountElement","CardElement","CardNumberElement","CardExpiryElement","CardCvcElement","FpxBankElement","IbanElement","IdealBankElement","P24BankElement","EpsBankElement","PaymentElement","PaymentRequestButtonElement","LinkAuthenticationElement","ShippingAddressElement","AffirmMessageElement","AfterpayClearpayMessageElement","useElements","useStripe","factory","V3_URL","V3_URL_REGEX","EXISTING_SCRIPT_MESSAGE","initStripe","startTime","registerWrapper","stripePromise$1","params","Stripe","script","scripts","document","querySelectorAll","src","findScript","queryString","advancedFraudSignals","headOrBody","head","body","appendChild","injectScript","addEventListener","loadCalled","loadStripe","_len","_key","now","Installments","paymentMethodName","getCreatePaymentMethodArgs","cardFormComplete","addPaymentMethodData","getPaymentMethod","installments","setInstallments","installment","setInstallment","loading","setLoading","paymentMethod","getRoute","method","data","payment_method_id","payment_method","result","catch","finally","__","Loader","InstallmentOptions","_stripe_installment_plan","isLoading","OPTIONS","disabled","map","dangerouslySetInnerHTML","__html","text","title","icons","components","Label","PaymentMethodLabel","Icons","PaymentMethodIcons","align","getData","content","Content","desc","el","childNodes","classList","add","Description","RadioControlOption","checked","label","event","setValidationError","linkToken","setLinkToken","useCallback","response","token","storeInCache","getFromCache","linkHandler","resolvePopup","openLinkPopup","open","Plaid","clientName","env","product","selectAccount","countryCodes","onSuccess","publicToken","metaData","onExit","getErrorMessage","error_message","onPaymentProcessing","responseTypes","unsubscribe","deleteFromCache","ensureSuccessResponse","meta","paymentMethodData","JSON","stringify","ensureErrorResponse","getSettings","ACHPaymentContent","eventRegistration","emitResponse","onSubmit","onCheckoutAfterProcessingWithError","ValidationInputError","LoadingMask","validationError","useCreateLinkToken","useProcessCheckoutError","subscriber","useInitializePlaid","useProcessPayment","showSpinner","isTestMode","ACHTestModeCredentials","errorMessage","registerPaymentMethod","ariaLabel","canMakePayment","cartTotals","currency_code","PaymentMethod","savedTokenComponent","edit","placeOrderButtonLabel","supports","showSavedCards","showSaveOption","features","ApplePayContent","ApplePayButton","onClose","billing","shippingData","activePaymentMethod","noticeContexts","useStripeError","exportedValues","useExportedValues","useExpressBreakpointWidth","width","setPaymentMethod","useProcessPaymentIntent","useAfterProcessingPayment","messageContext","EXPRESS_PAYMENTS","paymentRequest","usePaymentRequest","canPay","applePay","handleClick","preventDefault","show","style","ApplePayEdit","registerExpressPaymentMethod","currency","total_price","country","toLowerCase","total","amount","parseInt","Bootstrap","CardIcon","htmlFor","registerCreditCardForm","breakpoint","component","classes","focus","empty","invalid","eventChange","onComplete","cardType","setCardType","elementOrder","container","setContainer","getCreditCardForm","CardForm","postalCodeEnabled","elementStatus","setElementOrder","useBreakpointWidth","getCardIconSrc","cloneElement","brand","complete","idx","nextElement","getElement","status","sprintf","SimpleForm","card","cardOptions","postalCode","billingData","postcode","hidePostalCode","isFieldRequired","iconStyle","PaymentElementComponent","cartData","clientSecret","extensions","stripe_cc","formComplete","setFormComplete","installmentsActive","shouldSavePayment","useUpdatePaymentIntent","updatePaymentIntent","PAYMENTS","paymentIntent","fields","billingDetails","wallets","googlePay","CreditCardContent","setError","CreditCardElement","getPaymentMethodArgs","elType","useSetupIntent","cartTotal","setupIntent","removeSetupIntent","Tag","CustomCardForm","StripeCardForm","ErrorBoundary","state","hasError","errorInfo","setState","componentStack","Component","publishableKey","setErrorMessage","checkoutStatus","merchantInfo","merchantId","merchantName","buttonContainer","buttonType","usePaymentsClient","button","removeButton","append","parameters","allowedAuthMethods","allowedCardNetworks","assuranceDetailsRequired","apiVersion","apiVersionMinor","shippingRates","processingCountry","totalPriceLabel","emailRequired","isEmpty","email","allowedPaymentMethods","tokenizationSpecification","gateway","BASE_PAYMENT_METHOD","shippingAddressRequired","needsShipping","transactionInfo","getTransactionInfo","callbackIntents","BASE_PAYMENT_REQUEST","billingAddressRequired","billingAddressParameters","format","phoneNumberRequired","phone","shippingOptionRequired","shippingOptionParameters","getShippingOptionParameters","shippingOptions","cartTotalItems","environment","paymentsClient","setPaymentsClient","setButton","currentBilling","currentShipping","addPaymentEvent","usePaymentEvents","setAddressData","paymentData","billingAddress","isAddressValid","phoneNumber","toCartAddress","shippingAddress","parentElement","firstChild","removeChild","loadPaymentData","parse","tokenizationData","billing_details","getBillingDetailsFromAddress","StripeError","statusCode","log","createButton","paymentOptions","paymentDataCallbacks","onPaymentAuthorized","transactionState","onPaymentDataChanged","shipping","address","shippingOptionData","intermediateAddress","selectedRates","getSelectedShippingOption","addressEqual","getIntermediateAddress","shippingEqual","success","getPaymentRequestUpdate","reason","message","intent","setShippingAddress","setSelectedRates","google","payments","api","PaymentsClient","isReadyToPayRequest","isReadyToPay","GooglePayContent","useErrorMessage","GooglePayEdit","isCartPage","getSetting","countryCode","currencyCode","code","totalPriceStatus","totalPrice","removeNumberPrecision","minorUnit","displayItems","getDisplayItems","newTransactionInfo","newShippingOptionParameters","unit","items","item","price","getShippingOptions","defaultSelectedOptionId","option","shift","shippingPackage","shipping_rates","rate","selected","getShippingOptionId","rate_id","rates","txt","innerHTML","formatPrice","description","first_name","split","join","last_name","pop","address1","address2","locality","administrativeArea","onCheckoutAfterProcessingWithSuccess","unsubscribeAfterProcessingWithSuccess","redirectUrl","handleCardAction","innerWidth","windowWidth","setWindowWith","getMaxWidth","maxWidth","setMaxWidth","clientWidth","remove","handleResize","removeEventListener","getElementById","parentNode","onShippingRateSuccess","onShippingRateFail","onShippingRateSelectSuccess","handler","setHandler","onShippingChanged","paymentEvents","setPaymentEvent","execute","removePaymentEvent","isSelectingRate","shippingRatesLoading","hasShippingRates","unsubscribeShippingRateSuccess","unsubscribeShippingRateSelectSuccess","unsubscribeShippingRateFail","hasInvalidAddress","setPaymentRequest","paymentRequestOptions","pending","requestPayerName","requestPayerEmail","requestPayerPhone","requestShipping","onShippingAddressChange","onShippingOptionChange","onPaymentMethodReceived","updatePaymentEvent","updateWith","shippingOption","paymentResponse","payerName","payerEmail","payerPhone","processingResponse","paymentDetails","stripeErrorMessage","ERROR","paymentType","currentPaymentMethodArgs","getSuccessResponse","paymentMethodId","unsubscribeProcessingPayment","confirmCardSetup","client_secret","setSetupIntent","createSetupIntent","cartContainsPreOrder","cartContainsSubscription","currentData","payment_method_data","confirmPayment","confirmParams","redirect","retrievePaymentIntent","isNextActionRequired","order_id","order_key","messages","isActive","link","setLink","linkData","linkAutofillModal","launch","recipient","stripe_cc_token_key","stripe_cc_save_source_key","LinkComponent","stripe_link_checkout","LinkCheckout","useLink","display","variablesHandler","isAvailable","available","requiredParams","accountCountry","requiredParamObj","isEligible","variables","setVariables","AfterpayPaymentMethod","OrderItemMessaging","cart","context","cartNeedsShipping","currency_minor_unit","TotalsWrapper","settings","LocalPaymentIntentContent","confirmationMethod","registerPlugin","render","ExperimentalOrderMeta","scope","BecsPaymentMethod","taxId","setTaxId","setIsActive","callback","boleto","tax_id","currentBillingData","match","atob","decodeURIComponent","return_url","order","decodeURI","order_received_url","getSourceArgs","setSource","isValid","setIsValid","currentValues","getSourceArgsInternal","getDefaultSourceArgs","returnUrl","getSuccessData","sourceId","createSource","msg","countries","LocalPaymentIntentMethod","LocalPaymentSourceMethod","useCreateSource","LocalPaymentElementContainer","useValidateCheckout","useAfterProcessLocalPayment","PAYMENT","LocalPaymentSourceContent","SepaPaymentMethod","sofort","WeChatComponent","WeChatPaymentMethod","size","deleteSourceFromStorage","QRCodeComponent","wechat","qr_code_url","height","colorDark","colorLight","correctLevel","QRCode","CorrectLevel","H","createSourceTimeoutId","clearTimeout","setTimeout","PaymentRequestContent","PaymentRequestButton","paymentRequestButton","PaymentRequestEdit","canvas","scale","devicePixelRatio","getContext","beginPath","arc","Math","PI","fillStyle","fill","handleSuccessResult","unsubscribeOnCheckoutAfterProcessingWithSuccess","stripeParams","countryLocale","SHIPPING_OPTION_REGEX","routes","creditCardForms","localPaymentMethods","PAYMENT_REQUEST_ADDRESS_MAPPINGS","addressLine","address_1","address_2","line1","line2","city","region","postal_code","route","SUCCESS","statusMessage","exclude","getLocaleFields","entries","required","localeFields","default","locale","field","packageIdx","Boolean","customerId","syncPaymentIntentWithOrder","savePaymentMethod","address_mappings","cartAddress","filterEmptyValues","cartKey","values","getCurrency","prefix","suffix","decimalSeparator","thousandSeparator","fractional","index","replace","substr","RegExp","sort","packageId","rateId","cartItems","pre_order","subscription","owner","mode","getCacheKey","exp","floor","getTime","sessionStorage","setItem","getItem","removeItem","ver1","ver2","compare","page","hasOwn","classNames","argType","inner"],"sourceRoot":""}